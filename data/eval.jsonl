{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "Show score between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"review_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"score": 1, "review_date": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of customer_value by tier and territory", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"tier": "$tier", "territory": "$territory"}, "total": {"$sum": "$customer_value"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of sum_amount by merchant and type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"merchant": "$merchant", "type": "$type"}, "total": {"$sum": "$sum_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which enrollments have a enrolled_at?", "output": {"type": "find", "filter": {"enrolled_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of grade by course and status", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"course": "$course", "status": "$status"}, "total": {"$sum": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of session_length by day from occurred_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$occurred_at"}, "minimum": {"$min": "$session_length"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List orders that have channel set to sample_channel", "output": {"type": "find", "filter": {"channel": "sample_channel"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest reply_time_ms in device_logs", "output": {"type": "aggregate", "pipeline": [{"$sort": {"reply_time_ms": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest fee_amount in patient_visits", "output": {"type": "aggregate", "pipeline": [{"$sort": {"fee_amount": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many products have in_stock set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"in_stock": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum price for each category", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "maximum": {"$max": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum course_grade bucketed by month using enrolled_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$enrolled_at"}, "maximum": {"$max": "$course_grade"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show customers where tier is one of platinum, gold", "output": {"type": "find", "filter": {"tier": {"$in": ["platinum", "gold"]}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show mass_kg between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"mass_kg": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum score for category = some_value, grouped by category?", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "maximum": {"$max": "$score"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest processing_time in device_logs", "output": {"type": "aggregate", "pipeline": [{"$sort": {"processing_time": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "display_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "unit", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many employees have is_active set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_active": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all warehouses where region is sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum weight_kg for each status", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "maximum": {"$max": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average balance bucketed by month using opened_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$opened_at"}, "average": {"$avg": "$balance"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average reply_time_ms per severity?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$severity", "average": {"$avg": "$reply_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many enrollments have state equal to active?", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "active"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of value grouped by test_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$test_type", "maximum": {"$max": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show employees where level is one of director, junior, lead", "output": {"type": "find", "filter": {"level": {"$in": ["director", "junior", "lead"]}}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$dateToString", "$toDate"]}, "intent": "Count posts where is_pinned is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_pinned": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "visit_cost", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List patient_visits that have team set to sample_team", "output": {"type": "find", "filter": {"team": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum price bucketed by month using created_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$created_at"}, "minimum": {"$min": "$price"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "full_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "division", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many employees have is_active set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_active": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count device_logs where severity is warning", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "warning"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "total_slots", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total total_slots by region where region is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$region", "total": {"$sum": "$total_slots"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with course equal to sample_course", "output": {"type": "find", "filter": {"course": "sample_course"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average reading for each location", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$location", "average": {"$avg": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show customers where tier is one of platinum, gold", "output": {"type": "find", "filter": {"tier": {"$in": ["platinum", "gold"]}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average grade by state where course is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"course": "some_value"}}, {"$group": {"_id": "$state", "average": {"$avg": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "full_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest salary in employees", "output": {"type": "aggregate", "pipeline": [{"$sort": {"salary": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "mark", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum mark per category?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "maximum": {"$max": "$mark"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all lab_results where condition is reviewed", "output": {"type": "find", "filter": {"condition": "reviewed"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show user_activity where action_type is one of comment, share", "output": {"type": "find", "filter": {"action_type": {"$in": ["comment", "share"]}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many customers have tier equal to platinum?", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "platinum"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "classification", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "avg_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum price by classification where classification is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"classification": "some_value"}}, {"$group": {"_id": "$classification", "minimum": {"$min": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where branch is sample_branch", "output": {"type": "find", "filter": {"branch": "sample_branch"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest value in transactions", "output": {"type": "aggregate", "pipeline": [{"$sort": {"value": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_data_points where location is sample_location", "output": {"type": "find", "filter": {"location": "sample_location"}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count posts where is_pinned is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_pinned": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average value for state = pending, grouped by test_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "pending"}}, {"$group": {"_id": "$test_type", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show customers where tier is one of platinum, gold", "output": {"type": "find", "filter": {"tier": {"$in": ["platinum", "gold"]}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of gross_weight by year from shipped_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$shipped_at"}, "total": {"$sum": "$gross_weight"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all products where category is sample_category", "output": {"type": "find", "filter": {"category": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "full_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "compensation", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show employees where level is one of director, junior, lead", "output": {"type": "find", "filter": {"level": {"$in": ["director", "junior", "lead"]}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many accounts have account_type equal to checking?", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "checking"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum mass_kg per carrier?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$carrier", "minimum": {"$min": "$mass_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List employees that have level set to junior", "output": {"type": "find", "filter": {"level": "junior"}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "evaluation", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum evaluation for category = some_value, grouped by category?", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "maximum": {"$max": "$evaluation"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average value for status = pending, grouped by test_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "pending"}}, {"$group": {"_id": "$test_type", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List orders that have channel set to sample_channel", "output": {"type": "find", "filter": {"channel": "sample_channel"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_readings have is_anomaly set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_anomaly": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show score between 2023-11-11T00:00:00Z and 2024-08-21T23:59:59Z", "output": {"type": "find", "filter": {"review_date": {"$gte": {"$date": "2023-11-11T00:00:00Z"}, "$lte": {"$date": "2024-08-21T23:59:59Z"}}}, "projection": {"score": 1, "review_date": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show score between 2023-02-10T00:00:00Z and 2024-01-20T23:59:59Z", "output": {"type": "find", "filter": {"review_date": {"$gte": {"$date": "2023-02-10T00:00:00Z"}, "$lte": {"$date": "2024-01-20T23:59:59Z"}}}, "projection": {"score": 1, "review_date": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of elapsed_seconds by day from occurred_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$occurred_at"}, "minimum": {"$min": "$elapsed_seconds"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average charge for each team", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$team", "average": {"$avg": "$charge"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which transactions have a is_flagged?", "output": {"type": "find", "filter": {"is_flagged": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum score bucketed by year using review_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$review_date"}, "maximum": {"$max": "$score"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total customer_value per tier?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$tier", "total": {"$sum": "$customer_value"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find posts where published_at exists", "output": {"type": "find", "filter": {"published_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all shipments where carrier is sample_carrier", "output": {"type": "find", "filter": {"carrier": "sample_carrier"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest customer_value in customers", "output": {"type": "aggregate", "pipeline": [{"$sort": {"customer_value": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "full_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "team", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all employees where team is sample_team", "output": {"type": "find", "filter": {"team": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count employees where level is lead", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "lead"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "division", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many patient_visits have is_emergency set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_emergency": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum weight_kg for status = returned, grouped by carrier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "returned"}}, {"$group": {"_id": "$carrier", "minimum": {"$min": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_data_points have unit equal to fahrenheit?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "fahrenheit"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with merchant equal to sample_merchant", "output": {"type": "find", "filter": {"merchant": "sample_merchant"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average total_amount bucketed by day using order_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$order_date"}, "average": {"$avg": "$total_amount"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "group", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total price by group where group is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"group": "some_value"}}, {"$group": {"_id": "$group", "total": {"$sum": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "division", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average charge for each division", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$division", "average": {"$avg": "$charge"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of lifetime_value by tier and region", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"tier": "$tier", "region": "$region"}, "total": {"$sum": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where type is debit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "debit"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find accounts with account_type equal to checking", "output": {"type": "find", "filter": {"account_type": "checking"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show weight_kg between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"weight_kg": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total_amount between 2023-05-09T00:00:00Z and 2023-11-02T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2023-05-09T00:00:00Z"}, "$lte": {"$date": "2023-11-02T23:59:59Z"}}}, "projection": {"total_amount": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total current_balance for branch = some_value, grouped by account_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "total": {"$sum": "$current_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average time_spent for platform = some_value, grouped by action_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"platform": "some_value"}}, {"$group": {"_id": "$action_type", "average": {"$avg": "$time_spent"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average reply_time_ms bucketed by year using logged_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$logged_at"}, "average": {"$avg": "$reply_time_ms"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum weight_kg by status where carrier is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"carrier": "some_value"}}, {"$group": {"_id": "$status", "minimum": {"$min": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total_amount between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total_amount": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews where reviewer exists", "output": {"type": "find", "filter": {"reviewer": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List enrollments that have status set to completed", "output": {"type": "find", "filter": {"status": "completed"}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "visit_cost", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "unit", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest visit_cost in patient_visits", "output": {"type": "aggregate", "pipeline": [{"$sort": {"visit_cost": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show user_activity where action_type is one of comment, share", "output": {"type": "find", "filter": {"action_type": {"$in": ["comment", "share"]}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List orders that have channel set to sample_channel", "output": {"type": "find", "filter": {"channel": "sample_channel"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all transactions where type is debit", "output": {"type": "find", "filter": {"type": "debit"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show value between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "title", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "division", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average salary for level = director, grouped by division?", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "director"}}, {"$group": {"_id": "$division", "average": {"$avg": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum lifetime_value per region?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "maximum": {"$max": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many enrollments have status equal to active?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "active"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find accounts where branch exists", "output": {"type": "find", "filter": {"branch": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest order_total in orders", "output": {"type": "aggregate", "pipeline": [{"$sort": {"order_total": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum customer_value bucketed by day using signup_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$signup_date"}, "minimum": {"$min": "$customer_value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count employees where level is lead", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "lead"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of total by merchant and type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"merchant": "$merchant", "type": "$type"}, "total": {"$sum": "$total"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show rating between 2024-01-29T00:00:00Z and 2024-12-20T23:59:59Z", "output": {"type": "find", "filter": {"created_at": {"$gte": {"$date": "2024-01-29T00:00:00Z"}, "$lte": {"$date": "2024-12-20T23:59:59Z"}}}, "projection": {"rating": 1, "created_at": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total salary per level?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$level", "total": {"$sum": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "section", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest fee_amount in patient_visits", "output": {"type": "aggregate", "pipeline": [{"$sort": {"fee_amount": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show elapsed_seconds between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"elapsed_seconds": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum rating for each category", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "maximum": {"$max": "$rating"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "type_class", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which products have a rating?", "output": {"type": "find", "filter": {"rating": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "avg_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum price for each category", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "maximum": {"$max": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "max_capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total max_capacity by territory where territory is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"territory": "some_value"}}, {"$group": {"_id": "$territory", "total": {"$sum": "$max_capacity"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count shipments where is_fragile is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_fragile": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all employees where department is sample_department", "output": {"type": "find", "filter": {"department": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "team", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List employees that have level set to junior", "output": {"type": "find", "filter": {"level": "junior"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many enrollments have is_auditing set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_auditing": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show transactions where type is one of credit, fee", "output": {"type": "find", "filter": {"type": {"$in": ["credit", "fee"]}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show rating between 2024-04-27T00:00:00Z and 2024-07-01T23:59:59Z", "output": {"type": "find", "filter": {"created_at": {"$gte": {"$date": "2024-04-27T00:00:00Z"}, "$lte": {"$date": "2024-07-01T23:59:59Z"}}}, "projection": {"rating": 1, "created_at": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "display_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "unit", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average salary for level = director, grouped by unit?", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "director"}}, {"$group": {"_id": "$unit", "average": {"$avg": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 lab_results by value", "output": {"type": "aggregate", "pipeline": [{"$sort": {"value": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "total_slots", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many warehouses have is_climate_controlled set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_climate_controlled": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show employees where level is one of director, junior, lead", "output": {"type": "find", "filter": {"level": {"$in": ["director", "junior", "lead"]}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Which products have a rating?", "output": {"type": "find", "filter": {"rating": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest mass_kg in shipments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"mass_kg": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show amount between 2024-02-15T00:00:00Z and 2024-06-26T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2024-02-15T00:00:00Z"}, "$lte": {"$date": "2024-06-26T23:59:59Z"}}}, "projection": {"amount": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show duration_sec between 2023-06-09T00:00:00Z and 2024-03-08T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2023-06-09T00:00:00Z"}, "$lte": {"$date": "2024-03-08T23:59:59Z"}}}, "projection": {"duration_sec": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with status in [completed, active, dropped]", "output": {"type": "find", "filter": {"status": {"$in": ["completed", "active", "dropped"]}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total_amount between 2023-12-10T00:00:00Z and 2024-01-23T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2023-12-10T00:00:00Z"}, "$lte": {"$date": "2024-01-23T23:59:59Z"}}}, "projection": {"total_amount": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum mass_kg by state where carrier is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"carrier": "some_value"}}, {"$group": {"_id": "$state", "minimum": {"$min": "$mass_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get wage from hire_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"hire_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"wage": 1, "hire_date": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "unit_price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "classification", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum rating for each classification", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$classification", "maximum": {"$max": "$rating"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "full_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "team", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of salary by month from hire_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$hire_date"}, "average": {"$avg": "$salary"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average value per state?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$state", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum course_grade by course where state is dropped", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "dropped"}}, {"$group": {"_id": "$course", "maximum": {"$max": "$course_grade"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$dateToString", "$toDate"]}, "intent": "Show maximum weight_kg for each status", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "maximum": {"$max": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of grade grouped by course", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$course", "average": {"$avg": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average amount by merchant where type is credit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "credit"}}, {"$group": {"_id": "$merchant", "average": {"$avg": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum balance for branch = some_value, grouped by account_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "maximum": {"$max": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_measurements with unit equal to celsius", "output": {"type": "find", "filter": {"unit": "celsius"}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 performance_reviews by score", "output": {"type": "aggregate", "pipeline": [{"$sort": {"score": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which customers have a email?", "output": {"type": "find", "filter": {"email": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which shipments have a shipped_at?", "output": {"type": "find", "filter": {"shipped_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with action_type equal to post", "output": {"type": "find", "filter": {"action_type": "post"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show transactions where type is one of credit, fee", "output": {"type": "find", "filter": {"type": {"$in": ["credit", "fee"]}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find accounts where branch exists", "output": {"type": "find", "filter": {"branch": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which enrollments have a enrolled_at?", "output": {"type": "find", "filter": {"enrolled_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many orders have status equal to pending?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "pending"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find orders with status in [delivered, cancelled]", "output": {"type": "find", "filter": {"status": {"$in": ["delivered", "cancelled"]}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average time_spent per platform?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$platform", "average": {"$avg": "$time_spent"}}}]}, "is_negative": false}
