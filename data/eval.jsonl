{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$dateToString", "$toDate"]}, "intent": "Show all employees where department is sample_department", "output": {"type": "find", "filter": {"department": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "team", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many employees have is_active set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_active": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum latency_ms per severity?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$severity", "minimum": {"$min": "$latency_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show result_id for lab_results where current_status is completed", "output": {"type": "find", "filter": {"current_status": "completed"}, "projection": {"result_id": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get region and warehouse_id of each warehouses", "output": {"type": "find", "filter": {}, "projection": {"region": 1, "warehouse_id": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with type in [transfer, credit]", "output": {"type": "find", "filter": {"type": {"$in": ["transfer", "credit"]}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get just product_id, name and in_stock from products", "output": {"type": "find", "filter": {}, "projection": {"product_id": 1, "name": 1, "in_stock": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total value by merchant where type is debit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "debit"}}, {"$group": {"_id": "$merchant", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total duration_sec bucketed by day using occurred_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$occurred_at"}, "total": {"$sum": "$duration_sec"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$toDate"]}, "intent": "What is the average rating per category?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "average": {"$avg": "$rating"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show score between 2023-02-10T00:00:00Z and 2024-01-20T23:59:59Z", "output": {"type": "find", "filter": {"review_date": {"$gte": {"$date": "2023-02-10T00:00:00Z"}, "$lte": {"$date": "2024-01-20T23:59:59Z"}}}, "projection": {"score": 1, "review_date": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "visit_cost", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "division", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum visit_cost bucketed by day using visit_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$visit_date"}, "maximum": {"$max": "$visit_cost"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find latency_ms and device_id in device_logs with severity = warning", "output": {"type": "find", "filter": {"severity": "warning"}, "projection": {"latency_ms": 1, "device_id": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum data_point by unit where location is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"location": "some_value"}}, {"$group": {"_id": "$unit", "minimum": {"$min": "$data_point"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total bill_amount per team?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$team", "total": {"$sum": "$bill_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average balance by branch where account_type is checking", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "checking"}}, {"$group": {"_id": "$branch", "average": {"$avg": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show thumbs_up between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"thumbs_up": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find warehouses with region equal to sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with course equal to sample_course", "output": {"type": "find", "filter": {"course": "sample_course"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total_amount between 2023-05-09T00:00:00Z and 2023-11-02T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2023-05-09T00:00:00Z"}, "$lte": {"$date": "2023-11-02T23:59:59Z"}}}, "projection": {"total_amount": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average capacity by region where region is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$region", "average": {"$avg": "$capacity"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List user_activity that have action_type set to comment", "output": {"type": "find", "filter": {"action_type": "comment"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 5 lab_results by value", "output": {"type": "aggregate", "pipeline": [{"$sort": {"value": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count shipments where status is returned", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "returned"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total elapsed_seconds for each action_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$action_type", "total": {"$sum": "$elapsed_seconds"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_readings have unit equal to kwh?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "kwh"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 posts by likes", "output": {"type": "aggregate", "pipeline": [{"$sort": {"likes": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum grade for state = completed, grouped by course?", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "completed"}}, {"$group": {"_id": "$course", "maximum": {"$max": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments where enrolled_at exists", "output": {"type": "find", "filter": {"enrolled_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "team", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many employees have is_active set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_active": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count customers where tier is bronze", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "bronze"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of amount by day from txn_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$txn_date"}, "minimum": {"$min": "$amount"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get amount from txn_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"amount": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with status equal to dropped", "output": {"type": "find", "filter": {"status": "dropped"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest value in transactions", "output": {"type": "aggregate", "pipeline": [{"$sort": {"value": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "avg_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show price between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"created_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"price": 1, "created_at": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all lab_results where test_type is sample_test_type", "output": {"type": "find", "filter": {"test_type": "sample_test_type"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum total_amount for current_status = shipped, grouped by channel?", "output": {"type": "aggregate", "pipeline": [{"$match": {"current_status": "shipped"}}, {"$group": {"_id": "$channel", "minimum": {"$min": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where account_type is savings", "output": {"type": "find", "filter": {"account_type": "savings"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity where action_type exists", "output": {"type": "find", "filter": {"action_type": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show user_activity where action_type is one of login, logout, share", "output": {"type": "find", "filter": {"action_type": {"$in": ["login", "logout", "share"]}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all shipments where carrier is sample_carrier", "output": {"type": "find", "filter": {"carrier": "sample_carrier"}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List posts that have topic set to sample_topic", "output": {"type": "find", "filter": {"topic": "sample_topic"}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of storage_limit by day from opened_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_date"}, "total": {"$sum": "$storage_limit"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all lab_results where test_type is sample_test_type", "output": {"type": "find", "filter": {"test_type": "sample_test_type"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "group", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of price grouped by group", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$group", "total": {"$sum": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest duration_sec in user_activity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"duration_sec": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "label", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "minimum": {"$min": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum final_score for state = completed, grouped by course?", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "completed"}}, {"$group": {"_id": "$course", "maximum": {"$max": "$final_score"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "rating", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show rating between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"review_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"rating": 1, "review_date": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count enrollments where is_auditing is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_auditing": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many posts have is_pinned set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_pinned": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find patient_visits where is_emergency exists", "output": {"type": "find", "filter": {"is_emergency": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "grand_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum grand_total per channel?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$channel", "maximum": {"$max": "$grand_total"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show processing_time between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"processing_time": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find warehouses with region equal to sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest final_score in enrollments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"final_score": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find device_logs with severity in [warning, info]", "output": {"type": "find", "filter": {"severity": {"$in": ["warning", "info"]}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group accounts by account_type and branch, show minimum balance", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"account_type": "$account_type", "branch": "$branch"}, "minimum": {"$min": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get capacity from opened_date ranging 2023-10-21T00:00:00Z to 2024-09-05T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2023-10-21T00:00:00Z"}, "$lte": {"$date": "2024-09-05T23:59:59Z"}}}, "projection": {"capacity": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total ltv for tier = bronze, grouped by region?", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "bronze"}}, {"$group": {"_id": "$region", "total": {"$sum": "$ltv"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum thumbs_up bucketed by day using published_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$published_at"}, "minimum": {"$min": "$thumbs_up"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with type equal to fee", "output": {"type": "find", "filter": {"type": "fee"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the name and level for all employees", "output": {"type": "find", "filter": {}, "projection": {"name": 1, "level": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many orders have status equal to pending?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "pending"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum charge for department = some_value, grouped by department?", "output": {"type": "aggregate", "pipeline": [{"$match": {"department": "some_value"}}, {"$group": {"_id": "$department", "minimum": {"$min": "$charge"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of current_balance grouped by account_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$account_type", "total": {"$sum": "$current_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customers with locale equal to sample_locale", "output": {"type": "find", "filter": {"locale": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "visit_cost", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "division", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find patient_visits where is_emergency exists", "output": {"type": "find", "filter": {"is_emergency": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "total_slots", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get total_slots from opened_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total_slots": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all lab_results where test_type is sample_test_type", "output": {"type": "find", "filter": {"test_type": "sample_test_type"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "full_name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "type_class", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum price bucketed by year using created_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$created_at"}, "maximum": {"$max": "$price"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average salary per level?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$level", "average": {"$avg": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average capacity by area where area is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"area": "some_value"}}, {"$group": {"_id": "$area", "average": {"$avg": "$capacity"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average reactions per topic?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$topic", "average": {"$avg": "$reactions"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 posts by thumbs_up", "output": {"type": "aggregate", "pipeline": [{"$sort": {"thumbs_up": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the name and level for all employees", "output": {"type": "find", "filter": {}, "projection": {"name": 1, "level": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "display_name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find products where created_at exists", "output": {"type": "find", "filter": {"created_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of sum_amount by merchant and type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"merchant": "$merchant", "type": "$type"}, "minimum": {"$min": "$sum_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "classification", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List products that have classification set to sample_classification", "output": {"type": "find", "filter": {"classification": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "Count employees where level is junior", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "junior"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of sum_amount by merchant and type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"merchant": "$merchant", "type": "$type"}, "minimum": {"$min": "$sum_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average total_cost bucketed by day using order_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$order_date"}, "average": {"$avg": "$total_cost"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find latency_ms and device_id in device_logs with severity = warning", "output": {"type": "find", "filter": {"severity": "warning"}, "projection": {"latency_ms": 1, "device_id": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count enrollments where is_auditing is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_auditing": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which customers have a tier?", "output": {"type": "find", "filter": {"tier": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group customers by area and tier, show maximum total_spend", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"area": "$area", "tier": "$tier"}, "maximum": {"$max": "$total_spend"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customers with region equal to sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum total_amount for status = shipped, grouped by channel?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "shipped"}}, {"$group": {"_id": "$channel", "minimum": {"$min": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get account_balance from opened_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"account_balance": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group enrollments by current_status and course, show total grade", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"current_status": "$current_status", "course": "$course"}, "total": {"$sum": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show sensor_readings where unit is one of kwh, celsius", "output": {"type": "find", "filter": {"unit": {"$in": ["kwh", "celsius"]}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest total in transactions", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "group", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum score bucketed by year using review_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$review_date"}, "maximum": {"$max": "$score"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum data_point by unit where location is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"location": "some_value"}}, {"$group": {"_id": "$unit", "minimum": {"$min": "$data_point"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get balance from opened_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"balance": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get elapsed_seconds from user_activity with action_type = comment", "output": {"type": "find", "filter": {"action_type": "comment"}, "projection": {"elapsed_seconds": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show patient_id, value and collected_at from lab_results", "output": {"type": "find", "filter": {}, "projection": {"patient_id": 1, "value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where branch is sample_branch", "output": {"type": "find", "filter": {"branch": "sample_branch"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "grand_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which orders have a channel?", "output": {"type": "find", "filter": {"channel": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum measurement by unit where location is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"location": "some_value"}}, {"$group": {"_id": "$unit", "minimum": {"$min": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List orders that have channel set to sample_channel", "output": {"type": "find", "filter": {"channel": "sample_channel"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the enrollment_id, is_auditing and enrolled_at for all enrollments", "output": {"type": "find", "filter": {}, "projection": {"enrollment_id": 1, "is_auditing": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all orders where status is pending", "output": {"type": "find", "filter": {"status": "pending"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "compensation", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "team", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group employees by team and level, show maximum compensation", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"team": "$team", "level": "$level"}, "maximum": {"$max": "$compensation"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all lab_results where test_type is sample_test_type", "output": {"type": "find", "filter": {"test_type": "sample_test_type"}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "group", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List performance_reviews that have group set to sample_group", "output": {"type": "find", "filter": {"group": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "mark", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "segment", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List performance_reviews that have segment set to sample_segment", "output": {"type": "find", "filter": {"segment": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with status equal to dropped", "output": {"type": "find", "filter": {"status": "dropped"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total total by merchant where type is debit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "debit"}}, {"$group": {"_id": "$merchant", "total": {"$sum": "$total"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get data_point from timestamp ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"data_point": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total wage by department where level is senior", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "senior"}}, {"$group": {"_id": "$department", "total": {"$sum": "$wage"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get lifetime_value from signup_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"signup_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"lifetime_value": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many transactions have is_flagged set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_flagged": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show salary between 2024-10-06T00:00:00Z and 2025-10-02T23:59:59Z", "output": {"type": "find", "filter": {"hire_date": {"$gte": {"$date": "2024-10-06T00:00:00Z"}, "$lte": {"$date": "2025-10-02T23:59:59Z"}}}, "projection": {"salary": 1, "hire_date": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average amount by type where merchant is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"merchant": "some_value"}}, {"$group": {"_id": "$type", "average": {"$avg": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "compensation", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "division", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show compensation between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"hire_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"compensation": 1, "hire_date": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of course_grade grouped by course", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$course", "maximum": {"$max": "$course_grade"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$dateToString", "$toDate"]}, "intent": "maximum of lifetime_value by day from signup_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$signup_date"}, "maximum": {"$max": "$lifetime_value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total_amount between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total_amount": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "display_name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "classification", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest price in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"price": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "total of capacity by day from opened_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_date"}, "total": {"$sum": "$capacity"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "upvotes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum upvotes by topic where topic is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"topic": "some_value"}}, {"$group": {"_id": "$topic", "maximum": {"$max": "$upvotes"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum grade for state = completed, grouped by course?", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "completed"}}, {"$group": {"_id": "$course", "maximum": {"$max": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average reply_time_ms by severity where severity is debug", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "debug"}}, {"$group": {"_id": "$severity", "average": {"$avg": "$reply_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "upvotes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the topic and content for all posts", "output": {"type": "find", "filter": {}, "projection": {"topic": 1, "content": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total salary by department where level is senior", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "senior"}}, {"$group": {"_id": "$department", "total": {"$sum": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum session_length for action_type = post, grouped by platform?", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "post"}}, {"$group": {"_id": "$platform", "minimum": {"$min": "$session_length"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum like_count bucketed by day using published_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$published_at"}, "minimum": {"$min": "$like_count"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group orders by condition and channel, show total total_value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"condition": "$condition", "channel": "$channel"}, "total": {"$sum": "$total_value"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many shipments have is_fragile set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_fragile": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the enrollment_id, is_auditing and enrolled_at for all enrollments", "output": {"type": "find", "filter": {}, "projection": {"enrollment_id": 1, "is_auditing": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get location and unit of each sensor_measurements", "output": {"type": "find", "filter": {}, "projection": {"location": 1, "unit": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where branch is sample_branch", "output": {"type": "find", "filter": {"branch": "sample_branch"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find device_logs with severity in [warning, info]", "output": {"type": "find", "filter": {"severity": {"$in": ["warning", "info"]}}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum charge for department = some_value, grouped by department?", "output": {"type": "aggregate", "pipeline": [{"$match": {"department": "some_value"}}, {"$group": {"_id": "$department", "minimum": {"$min": "$charge"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many orders have status equal to pending?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "pending"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest duration_sec in user_activity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"duration_sec": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get location and unit of each sensor_data_points", "output": {"type": "find", "filter": {}, "projection": {"location": 1, "unit": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "classification", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "avg_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average avg_rating per classification?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$classification", "average": {"$avg": "$avg_rating"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count enrollments where is_auditing is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_auditing": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get time_spent from user_activity with action_type = comment", "output": {"type": "find", "filter": {"action_type": "comment"}, "projection": {"time_spent": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show sensor_readings where unit is one of kwh, celsius", "output": {"type": "find", "filter": {"unit": {"$in": ["kwh", "celsius"]}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all shipments where refund_amount is greater than 100", "output": {"error": "Field 'refund_amount' does not exist in shipments"}, "is_negative": true}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "grade_score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "type_class", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total grade_score by type_class where type_class is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"type_class": "some_value"}}, {"$group": {"_id": "$type_class", "total": {"$sum": "$grade_score"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Get just product_id, name and in_stock from products", "output": {"type": "find", "filter": {}, "projection": {"product_id": 1, "name": 1, "in_stock": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments where enrolled_at exists", "output": {"type": "find", "filter": {"enrolled_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many warehouses have is_climate_controlled set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_climate_controlled": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find warehouses with region equal to sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average current_balance per branch?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$branch", "average": {"$avg": "$current_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show shipping_weight, carrier and is_fragile from shipments", "output": {"type": "find", "filter": {}, "projection": {"shipping_weight": 1, "carrier": 1, "is_fragile": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_readings where location is sample_location", "output": {"type": "find", "filter": {"location": "sample_location"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count user_activity where action_type is post", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "post"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with type equal to fee", "output": {"type": "find", "filter": {"type": "fee"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$multiply", "$divide", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which employees have a is_active?", "output": {"type": "find", "filter": {"is_active": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "display_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count employees where level is junior", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "junior"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$dateToString", "$toDate"]}, "intent": "Group lab_results by test_type and status, show maximum value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"test_type": "$test_type", "status": "$status"}, "maximum": {"$max": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of lifetime_value by day from signup_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$signup_date"}, "maximum": {"$max": "$lifetime_value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "upvotes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average upvotes per topic?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$topic", "average": {"$avg": "$upvotes"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show thumbs_up between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"thumbs_up": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show lab_results where current_status is one of reviewed, completed", "output": {"type": "find", "filter": {"current_status": {"$in": ["reviewed", "completed"]}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get value from collected_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "unit", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List employees that have level set to senior", "output": {"type": "find", "filter": {"level": "senior"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get created_at from products with category = some_value", "output": {"type": "find", "filter": {"category": "some_value"}, "projection": {"created_at": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which warehouses have a storage_limit?", "output": {"type": "find", "filter": {"storage_limit": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get grade from enrolled_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"grade": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many employees have is_active set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_active": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "team", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total salary bucketed by year using hire_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$hire_date"}, "total": {"$sum": "$salary"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show likes between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"likes": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum score bucketed by year using review_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$review_date"}, "maximum": {"$max": "$score"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all posts where elevation is greater than 100", "output": {"error": "Field 'elevation' does not exist in posts"}, "is_negative": true}
