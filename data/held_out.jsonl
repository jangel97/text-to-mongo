{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all museum_exhibits where wing is sample_wing", "output": {"type": "find", "filter": {"wing": "sample_wing"}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List museum_exhibits that have medium set to mixed_media", "output": {"type": "find", "filter": {"medium": "mixed_media"}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average visitor_count per wing?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$wing", "average": {"$avg": "$visitor_count"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum visitor_count per medium?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$medium", "maximum": {"$max": "$visitor_count"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum visitor_count for wing = some_value, grouped by medium?", "output": {"type": "aggregate", "pipeline": [{"$match": {"wing": "some_value"}}, {"$group": {"_id": "$medium", "minimum": {"$min": "$visitor_count"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average visitor_count for medium = photography, grouped by wing?", "output": {"type": "aggregate", "pipeline": [{"$match": {"medium": "photography"}}, {"$group": {"_id": "$wing", "average": {"$avg": "$visitor_count"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get visitor_count from opened_on ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_on": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"visitor_count": 1, "opened_on": 1}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest visitor_count in museum_exhibits", "output": {"type": "aggregate", "pipeline": [{"$sort": {"visitor_count": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group museum_exhibits by medium and wing, show average visitor_count", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"medium": "$medium", "wing": "$wing"}, "average": {"$avg": "$visitor_count"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count museum_exhibits where medium is photography", "output": {"type": "aggregate", "pipeline": [{"$match": {"medium": "photography"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many museum_exhibits have is_permanent set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_permanent": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which museum_exhibits have a wing?", "output": {"type": "find", "filter": {"wing": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find museum_exhibits with medium in [mixed_media, photography, installation]", "output": {"type": "find", "filter": {"medium": {"$in": ["mixed_media", "photography", "installation"]}}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum visitor_count bucketed by day using opened_on", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_on"}, "maximum": {"$max": "$visitor_count"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all weather_stations where region is sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find weather_stations with condition equal to clear", "output": {"type": "find", "filter": {"condition": "clear"}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum temperature_c per region?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "minimum": {"$min": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum temperature_c for each condition", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "minimum": {"$min": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of humidity_pct grouped by region", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "minimum": {"$min": "$humidity_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of humidity_pct grouped by condition", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "average": {"$avg": "$humidity_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum humidity_pct by condition where region is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$condition", "maximum": {"$max": "$humidity_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average humidity_pct for region = some_value, grouped by condition?", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$condition", "average": {"$avg": "$humidity_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total temperature_c by condition where region is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$condition", "total": {"$sum": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show humidity_pct between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"recorded_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"humidity_pct": 1, "recorded_at": 1}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest temperature_c in weather_stations", "output": {"type": "aggregate", "pipeline": [{"$sort": {"temperature_c": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest humidity_pct in weather_stations", "output": {"type": "aggregate", "pipeline": [{"$sort": {"humidity_pct": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group weather_stations by condition and region, show minimum temperature_c", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"condition": "$condition", "region": "$region"}, "minimum": {"$min": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count weather_stations where condition is snow", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "snow"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find weather_stations where region exists", "output": {"type": "find", "filter": {"region": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show weather_stations where condition is one of rain, storm", "output": {"type": "find", "filter": {"condition": {"$in": ["rain", "storm"]}}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of temperature_c by month from recorded_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$recorded_at"}, "average": {"$avg": "$temperature_c"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all fleet_vehicles where depot is sample_depot", "output": {"type": "find", "filter": {"depot": "sample_depot"}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List fleet_vehicles that have vehicle_type set to suv", "output": {"type": "find", "filter": {"vehicle_type": "suv"}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of mileage grouped by depot", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$depot", "minimum": {"$min": "$mileage"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum mileage per vehicle_type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$vehicle_type", "maximum": {"$max": "$mileage"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of fuel_cost grouped by depot", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$depot", "total": {"$sum": "$fuel_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of fuel_cost grouped by vehicle_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$vehicle_type", "total": {"$sum": "$fuel_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average mileage for vehicle_type = truck, grouped by depot?", "output": {"type": "aggregate", "pipeline": [{"$match": {"vehicle_type": "truck"}}, {"$group": {"_id": "$depot", "average": {"$avg": "$mileage"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average fuel_cost by vehicle_type where depot is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"depot": "some_value"}}, {"$group": {"_id": "$vehicle_type", "average": {"$avg": "$fuel_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum fuel_cost for depot = some_value, grouped by vehicle_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"depot": "some_value"}}, {"$group": {"_id": "$vehicle_type", "maximum": {"$max": "$fuel_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get fuel_cost from last_service ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"last_service": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"fuel_cost": 1, "last_service": 1}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 fleet_vehicles by mileage", "output": {"type": "aggregate", "pipeline": [{"$sort": {"mileage": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest fuel_cost in fleet_vehicles", "output": {"type": "aggregate", "pipeline": [{"$sort": {"fuel_cost": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group fleet_vehicles by depot and vehicle_type, show total mileage", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"depot": "$depot", "vehicle_type": "$vehicle_type"}, "total": {"$sum": "$mileage"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many fleet_vehicles have vehicle_type equal to sedan?", "output": {"type": "aggregate", "pipeline": [{"$match": {"vehicle_type": "sedan"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many fleet_vehicles have is_available set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_available": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find fleet_vehicles where is_available exists", "output": {"type": "find", "filter": {"is_available": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find fleet_vehicles with vehicle_type in [bus, suv, truck]", "output": {"type": "find", "filter": {"vehicle_type": {"$in": ["bus", "suv", "truck"]}}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum fuel_cost bucketed by month using last_service", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$last_service"}, "minimum": {"$min": "$fuel_cost"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all museum_exhibits where wing is sample_wing", "output": {"type": "find", "filter": {"wing": "sample_wing"}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List museum_exhibits that have medium set to mixed_media", "output": {"type": "find", "filter": {"medium": "mixed_media"}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average attendance per wing?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$wing", "average": {"$avg": "$attendance"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum attendance per medium?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$medium", "maximum": {"$max": "$attendance"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum attendance for wing = some_value, grouped by medium?", "output": {"type": "aggregate", "pipeline": [{"$match": {"wing": "some_value"}}, {"$group": {"_id": "$medium", "minimum": {"$min": "$attendance"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average attendance for medium = photography, grouped by wing?", "output": {"type": "aggregate", "pipeline": [{"$match": {"medium": "photography"}}, {"$group": {"_id": "$wing", "average": {"$avg": "$attendance"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "total_visitors", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get total_visitors from opened_on ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_on": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total_visitors": 1, "opened_on": 1}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "total_visitors", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest total_visitors in museum_exhibits", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total_visitors": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count museum_exhibits where medium is photography", "output": {"type": "aggregate", "pipeline": [{"$match": {"medium": "photography"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many museum_exhibits have is_permanent set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_permanent": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "total_visitors", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which museum_exhibits have a wing?", "output": {"type": "find", "filter": {"wing": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find museum_exhibits with medium in [mixed_media, photography, installation]", "output": {"type": "find", "filter": {"medium": {"$in": ["mixed_media", "photography", "installation"]}}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum footfall bucketed by day using opened_on", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_on"}, "maximum": {"$max": "$footfall"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "reading_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all weather_stations where region is sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "moisture_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum temperature_c per region?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "minimum": {"$min": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum temperature_c for each condition", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "minimum": {"$min": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "relative_humidity", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of relative_humidity grouped by condition", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "average": {"$avg": "$relative_humidity"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "air_temp", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum humidity_pct by condition where zone is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"zone": "some_value"}}, {"$group": {"_id": "$condition", "maximum": {"$max": "$humidity_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "moisture_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average moisture_pct for area = some_value, grouped by condition?", "output": {"type": "aggregate", "pipeline": [{"$match": {"area": "some_value"}}, {"$group": {"_id": "$condition", "average": {"$avg": "$moisture_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "reading_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total reading_celsius by condition where locale is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"locale": "some_value"}}, {"$group": {"_id": "$condition", "total": {"$sum": "$reading_celsius"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "reading_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest reading_celsius in weather_stations", "output": {"type": "aggregate", "pipeline": [{"$sort": {"reading_celsius": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "relative_humidity", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest relative_humidity in weather_stations", "output": {"type": "aggregate", "pipeline": [{"$sort": {"relative_humidity": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group weather_stations by condition and locale, show minimum temperature_c", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"condition": "$condition", "locale": "$locale"}, "minimum": {"$min": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "rh_percent", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find weather_stations where region exists", "output": {"type": "find", "filter": {"region": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show weather_stations where condition is one of rain, storm", "output": {"type": "find", "filter": {"condition": {"$in": ["rain", "storm"]}}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temp_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of temp_celsius by month from recorded_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$recorded_at"}, "average": {"$avg": "$temp_celsius"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "total_miles", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all fleet_vehicles where depot is sample_depot", "output": {"type": "find", "filter": {"depot": "sample_depot"}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of odometer grouped by depot", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$depot", "minimum": {"$min": "$odometer"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "gas_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum mileage per vehicle_type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$vehicle_type", "maximum": {"$max": "$mileage"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "total_miles", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of fuel_cost grouped by vehicle_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$vehicle_type", "total": {"$sum": "$fuel_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "total_miles", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "gas_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average total_miles for vehicle_type = truck, grouped by depot?", "output": {"type": "aggregate", "pipeline": [{"$match": {"vehicle_type": "truck"}}, {"$group": {"_id": "$depot", "average": {"$avg": "$total_miles"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "distance_traveled", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average fuel_expense by vehicle_type where depot is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"depot": "some_value"}}, {"$group": {"_id": "$vehicle_type", "average": {"$avg": "$fuel_expense"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "distance_traveled", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "gas_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum gas_expense for depot = some_value, grouped by vehicle_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"depot": "some_value"}}, {"$group": {"_id": "$vehicle_type", "maximum": {"$max": "$gas_expense"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get fuel_expense from last_service ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"last_service": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"fuel_expense": 1, "last_service": 1}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 fleet_vehicles by odometer", "output": {"type": "aggregate", "pipeline": [{"$sort": {"odometer": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_spend", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest fuel_spend in fleet_vehicles", "output": {"type": "aggregate", "pipeline": [{"$sort": {"fuel_spend": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_spend", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many fleet_vehicles have vehicle_type equal to sedan?", "output": {"type": "aggregate", "pipeline": [{"$match": {"vehicle_type": "sedan"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_spend", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find fleet_vehicles where is_available exists", "output": {"type": "find", "filter": {"is_available": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all museum_exhibits where wing is sample_wing", "output": {"type": "find", "filter": {"wing": "sample_wing"}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List museum_exhibits that have medium set to mixed_media", "output": {"type": "find", "filter": {"medium": "mixed_media"}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average attendance per wing?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$wing", "average": {"$avg": "$attendance"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "total_visitors", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum total_visitors per medium?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$medium", "maximum": {"$max": "$total_visitors"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum footfall for wing = some_value, grouped by medium?", "output": {"type": "aggregate", "pipeline": [{"$match": {"wing": "some_value"}}, {"$group": {"_id": "$medium", "minimum": {"$min": "$footfall"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average footfall for medium = photography, grouped by wing?", "output": {"type": "aggregate", "pipeline": [{"$match": {"medium": "photography"}}, {"$group": {"_id": "$wing", "average": {"$avg": "$footfall"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get attendance from opened_on ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_on": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"attendance": 1, "opened_on": 1}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count museum_exhibits where medium is photography", "output": {"type": "aggregate", "pipeline": [{"$match": {"medium": "photography"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many museum_exhibits have is_permanent set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_permanent": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which museum_exhibits have a wing?", "output": {"type": "find", "filter": {"wing": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum footfall bucketed by day using opened_on", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_on"}, "maximum": {"$max": "$footfall"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "moisture_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all weather_stations where region is sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "rh_percent", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum temperature_c per region?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "minimum": {"$min": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temp_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum temp_celsius for each condition", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "minimum": {"$min": "$temp_celsius"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temp_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of humidity_pct grouped by zone", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$zone", "minimum": {"$min": "$humidity_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "reading_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of humidity_pct grouped by condition", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "average": {"$avg": "$humidity_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum humidity_pct by condition where territory is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"territory": "some_value"}}, {"$group": {"_id": "$condition", "maximum": {"$max": "$humidity_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "rh_percent", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average rh_percent for region = some_value, grouped by condition?", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$condition", "average": {"$avg": "$rh_percent"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "reading_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest reading_celsius in weather_stations", "output": {"type": "aggregate", "pipeline": [{"$sort": {"reading_celsius": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "air_temp", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest humidity_pct in weather_stations", "output": {"type": "aggregate", "pipeline": [{"$sort": {"humidity_pct": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "rh_percent", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group weather_stations by condition and region, show minimum temperature_c", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"condition": "$condition", "region": "$region"}, "minimum": {"$min": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "rh_percent", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count weather_stations where condition is snow", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "snow"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find weather_stations where area exists", "output": {"type": "find", "filter": {"area": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "air_temp", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "rh_percent", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show weather_stations where condition is one of rain, storm", "output": {"type": "find", "filter": {"condition": {"$in": ["rain", "storm"]}}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "reading_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of reading_celsius by month from recorded_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$recorded_at"}, "average": {"$avg": "$reading_celsius"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "distance_traveled", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List fleet_vehicles that have vehicle_type set to suv", "output": {"type": "find", "filter": {"vehicle_type": "suv"}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "gas_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of mileage grouped by depot", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$depot", "minimum": {"$min": "$mileage"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum odometer per vehicle_type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$vehicle_type", "maximum": {"$max": "$odometer"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "total_miles", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of fuel_cost grouped by depot", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$depot", "total": {"$sum": "$fuel_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "total_miles", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "gas_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of gas_expense grouped by vehicle_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$vehicle_type", "total": {"$sum": "$gas_expense"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "total_miles", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum fuel_cost for depot = some_value, grouped by vehicle_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"depot": "some_value"}}, {"$group": {"_id": "$vehicle_type", "maximum": {"$max": "$fuel_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_spend", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get fuel_spend from last_service ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"last_service": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"fuel_spend": 1, "last_service": 1}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 fleet_vehicles by odometer", "output": {"type": "aggregate", "pipeline": [{"$sort": {"odometer": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "total_miles", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "gas_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest gas_expense in fleet_vehicles", "output": {"type": "aggregate", "pipeline": [{"$sort": {"gas_expense": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "distance_traveled", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "gas_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group fleet_vehicles by depot and vehicle_type, show total distance_traveled", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"depot": "$depot", "vehicle_type": "$vehicle_type"}, "total": {"$sum": "$distance_traveled"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "distance_traveled", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many fleet_vehicles have vehicle_type equal to sedan?", "output": {"type": "aggregate", "pipeline": [{"$match": {"vehicle_type": "sedan"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "distance_traveled", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_spend", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find fleet_vehicles where is_available exists", "output": {"type": "find", "filter": {"is_available": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_spend", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum fuel_spend bucketed by month using last_service", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$last_service"}, "minimum": {"$min": "$fuel_spend"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all museum_exhibits where wing is sample_wing", "output": {"type": "find", "filter": {"wing": "sample_wing"}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "total_visitors", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average total_visitors per wing?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$wing", "average": {"$avg": "$total_visitors"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum footfall per medium?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$medium", "maximum": {"$max": "$footfall"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum attendance for wing = some_value, grouped by medium?", "output": {"type": "aggregate", "pipeline": [{"$match": {"wing": "some_value"}}, {"$group": {"_id": "$medium", "minimum": {"$min": "$attendance"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average attendance for medium = photography, grouped by wing?", "output": {"type": "aggregate", "pipeline": [{"$match": {"medium": "photography"}}, {"$group": {"_id": "$wing", "average": {"$avg": "$attendance"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get attendance from opened_on ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_on": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"attendance": 1, "opened_on": 1}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest attendance in museum_exhibits", "output": {"type": "aggregate", "pipeline": [{"$sort": {"attendance": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many museum_exhibits have is_permanent set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_permanent": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which museum_exhibits have a wing?", "output": {"type": "find", "filter": {"wing": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "total_visitors", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find museum_exhibits with medium in [mixed_media, photography, installation]", "output": {"type": "find", "filter": {"medium": {"$in": ["mixed_media", "photography", "installation"]}}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum attendance bucketed by day using opened_on", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_on"}, "maximum": {"$max": "$attendance"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "air_temp", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "rh_percent", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find weather_stations with condition equal to clear", "output": {"type": "find", "filter": {"condition": "clear"}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "reading_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "moisture_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum reading_celsius per region?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "minimum": {"$min": "$reading_celsius"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "air_temp", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "rh_percent", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum air_temp for each condition", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "minimum": {"$min": "$air_temp"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "moisture_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of moisture_pct grouped by region", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "minimum": {"$min": "$moisture_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "reading_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of humidity_pct grouped by condition", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "average": {"$avg": "$humidity_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "moisture_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum moisture_pct by condition where area is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"area": "some_value"}}, {"$group": {"_id": "$condition", "maximum": {"$max": "$moisture_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average humidity_pct for zone = some_value, grouped by condition?", "output": {"type": "aggregate", "pipeline": [{"$match": {"zone": "some_value"}}, {"$group": {"_id": "$condition", "average": {"$avg": "$humidity_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "relative_humidity", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total temperature_c by condition where region is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$condition", "total": {"$sum": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "reading_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "moisture_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show moisture_pct between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"recorded_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"moisture_pct": 1, "recorded_at": 1}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "air_temp", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest air_temp in weather_stations", "output": {"type": "aggregate", "pipeline": [{"$sort": {"air_temp": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "relative_humidity", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest relative_humidity in weather_stations", "output": {"type": "aggregate", "pipeline": [{"$sort": {"relative_humidity": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group weather_stations by condition and area, show minimum temperature_c", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"condition": "$condition", "area": "$area"}, "minimum": {"$min": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temp_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count weather_stations where condition is snow", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "snow"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "air_temp", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find weather_stations where region exists", "output": {"type": "find", "filter": {"region": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show weather_stations where condition is one of rain, storm", "output": {"type": "find", "filter": {"condition": {"$in": ["rain", "storm"]}}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "air_temp", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of air_temp by month from recorded_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$recorded_at"}, "average": {"$avg": "$air_temp"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all fleet_vehicles where depot is sample_depot", "output": {"type": "find", "filter": {"depot": "sample_depot"}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List fleet_vehicles that have vehicle_type set to suv", "output": {"type": "find", "filter": {"vehicle_type": "suv"}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "gas_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum mileage per vehicle_type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$vehicle_type", "maximum": {"$max": "$mileage"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_spend", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average mileage for vehicle_type = truck, grouped by depot?", "output": {"type": "aggregate", "pipeline": [{"$match": {"vehicle_type": "truck"}}, {"$group": {"_id": "$depot", "average": {"$avg": "$mileage"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "total_miles", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average fuel_cost by vehicle_type where depot is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"depot": "some_value"}}, {"$group": {"_id": "$vehicle_type", "average": {"$avg": "$fuel_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "gas_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get gas_expense from last_service ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"last_service": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"gas_expense": 1, "last_service": 1}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "total_miles", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_spend", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest fuel_spend in fleet_vehicles", "output": {"type": "aggregate", "pipeline": [{"$sort": {"fuel_spend": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find fleet_vehicles where is_available exists", "output": {"type": "find", "filter": {"is_available": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "total_miles", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "gas_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum gas_expense bucketed by month using last_service", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$last_service"}, "minimum": {"$min": "$gas_expense"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "total_visitors", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all museum_exhibits where wing is sample_wing", "output": {"type": "find", "filter": {"wing": "sample_wing"}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "total_visitors", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List museum_exhibits that have medium set to mixed_media", "output": {"type": "find", "filter": {"medium": "mixed_media"}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "total_visitors", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average total_visitors per wing?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$wing", "average": {"$avg": "$total_visitors"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum attendance per medium?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$medium", "maximum": {"$max": "$attendance"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum attendance for wing = some_value, grouped by medium?", "output": {"type": "aggregate", "pipeline": [{"$match": {"wing": "some_value"}}, {"$group": {"_id": "$medium", "minimum": {"$min": "$attendance"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average attendance for medium = photography, grouped by wing?", "output": {"type": "aggregate", "pipeline": [{"$match": {"medium": "photography"}}, {"$group": {"_id": "$wing", "average": {"$avg": "$attendance"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "total_visitors", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest total_visitors in museum_exhibits", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total_visitors": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group museum_exhibits by medium and wing, show average attendance", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"medium": "$medium", "wing": "$wing"}, "average": {"$avg": "$attendance"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count museum_exhibits where medium is photography", "output": {"type": "aggregate", "pipeline": [{"$match": {"medium": "photography"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many museum_exhibits have is_permanent set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_permanent": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum attendance bucketed by day using opened_on", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_on"}, "maximum": {"$max": "$attendance"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temp_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "moisture_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all weather_stations where region is sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "moisture_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find weather_stations with condition equal to clear", "output": {"type": "find", "filter": {"condition": "clear"}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "rh_percent", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum temperature_c per region?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "minimum": {"$min": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temp_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum temp_celsius for each condition", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "minimum": {"$min": "$temp_celsius"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "rh_percent", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of rh_percent grouped by condition", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "average": {"$avg": "$rh_percent"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "rh_percent", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum rh_percent by condition where area is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"area": "some_value"}}, {"$group": {"_id": "$condition", "maximum": {"$max": "$rh_percent"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "air_temp", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average humidity_pct for region = some_value, grouped by condition?", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$condition", "average": {"$avg": "$humidity_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temp_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show humidity_pct between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"recorded_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"humidity_pct": 1, "recorded_at": 1}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "reading_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest reading_celsius in weather_stations", "output": {"type": "aggregate", "pipeline": [{"$sort": {"reading_celsius": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temp_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest humidity_pct in weather_stations", "output": {"type": "aggregate", "pipeline": [{"$sort": {"humidity_pct": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temp_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group weather_stations by condition and locale, show minimum temp_celsius", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"condition": "$condition", "locale": "$locale"}, "minimum": {"$min": "$temp_celsius"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "moisture_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count weather_stations where condition is snow", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "snow"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "air_temp", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "relative_humidity", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find weather_stations where region exists", "output": {"type": "find", "filter": {"region": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "reading_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show weather_stations where condition is one of rain, storm", "output": {"type": "find", "filter": {"condition": {"$in": ["rain", "storm"]}}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "relative_humidity", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of temperature_c by month from recorded_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$recorded_at"}, "average": {"$avg": "$temperature_c"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "total_miles", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all fleet_vehicles where depot is sample_depot", "output": {"type": "find", "filter": {"depot": "sample_depot"}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "distance_traveled", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum distance_traveled per vehicle_type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$vehicle_type", "maximum": {"$max": "$distance_traveled"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "gas_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of gas_expense grouped by depot", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$depot", "total": {"$sum": "$gas_expense"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_spend", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average mileage for vehicle_type = truck, grouped by depot?", "output": {"type": "aggregate", "pipeline": [{"$match": {"vehicle_type": "truck"}}, {"$group": {"_id": "$depot", "average": {"$avg": "$mileage"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "total_miles", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average fuel_cost by vehicle_type where depot is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"depot": "some_value"}}, {"$group": {"_id": "$vehicle_type", "average": {"$avg": "$fuel_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "distance_traveled", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_spend", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum fuel_spend for depot = some_value, grouped by vehicle_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"depot": "some_value"}}, {"$group": {"_id": "$vehicle_type", "maximum": {"$max": "$fuel_spend"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "total_miles", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_spend", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get fuel_spend from last_service ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"last_service": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"fuel_spend": 1, "last_service": 1}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "distance_traveled", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "gas_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 fleet_vehicles by distance_traveled", "output": {"type": "aggregate", "pipeline": [{"$sort": {"distance_traveled": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_spend", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest fuel_spend in fleet_vehicles", "output": {"type": "aggregate", "pipeline": [{"$sort": {"fuel_spend": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group fleet_vehicles by depot and vehicle_type, show total odometer", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"depot": "$depot", "vehicle_type": "$vehicle_type"}, "total": {"$sum": "$odometer"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_spend", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many fleet_vehicles have vehicle_type equal to sedan?", "output": {"type": "aggregate", "pipeline": [{"$match": {"vehicle_type": "sedan"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find fleet_vehicles where is_available exists", "output": {"type": "find", "filter": {"is_available": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "total_visitors", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all museum_exhibits where wing is sample_wing", "output": {"type": "find", "filter": {"wing": "sample_wing"}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List museum_exhibits that have medium set to mixed_media", "output": {"type": "find", "filter": {"medium": "mixed_media"}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum footfall per medium?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$medium", "maximum": {"$max": "$footfall"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "total_visitors", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum total_visitors for wing = some_value, grouped by medium?", "output": {"type": "aggregate", "pipeline": [{"$match": {"wing": "some_value"}}, {"$group": {"_id": "$medium", "minimum": {"$min": "$total_visitors"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average footfall for medium = photography, grouped by wing?", "output": {"type": "aggregate", "pipeline": [{"$match": {"medium": "photography"}}, {"$group": {"_id": "$wing", "average": {"$avg": "$footfall"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "total_visitors", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get total_visitors from opened_on ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_on": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total_visitors": 1, "opened_on": 1}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest attendance in museum_exhibits", "output": {"type": "aggregate", "pipeline": [{"$sort": {"attendance": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count museum_exhibits where medium is photography", "output": {"type": "aggregate", "pipeline": [{"$match": {"medium": "photography"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "total_visitors", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which museum_exhibits have a wing?", "output": {"type": "find", "filter": {"wing": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find museum_exhibits with medium in [mixed_media, photography, installation]", "output": {"type": "find", "filter": {"medium": {"$in": ["mixed_media", "photography", "installation"]}}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "moisture_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all weather_stations where region is sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "reading_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find weather_stations with condition equal to clear", "output": {"type": "find", "filter": {"condition": "clear"}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "air_temp", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "relative_humidity", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum air_temp per region?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "minimum": {"$min": "$air_temp"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "moisture_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum temperature_c for each condition", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "minimum": {"$min": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temp_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "rh_percent", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of rh_percent grouped by region", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "minimum": {"$min": "$rh_percent"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temp_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of humidity_pct grouped by condition", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "average": {"$avg": "$humidity_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "reading_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum humidity_pct by condition where region is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$condition", "maximum": {"$max": "$humidity_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average humidity_pct for area = some_value, grouped by condition?", "output": {"type": "aggregate", "pipeline": [{"$match": {"area": "some_value"}}, {"$group": {"_id": "$condition", "average": {"$avg": "$humidity_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temp_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "rh_percent", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total temp_celsius by condition where region is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$condition", "total": {"$sum": "$temp_celsius"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "reading_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show humidity_pct between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"recorded_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"humidity_pct": 1, "recorded_at": 1}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "moisture_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest temperature_c in weather_stations", "output": {"type": "aggregate", "pipeline": [{"$sort": {"temperature_c": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "reading_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest humidity_pct in weather_stations", "output": {"type": "aggregate", "pipeline": [{"$sort": {"humidity_pct": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group weather_stations by condition and territory, show minimum temperature_c", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"condition": "$condition", "territory": "$territory"}, "minimum": {"$min": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "air_temp", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count weather_stations where condition is snow", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "snow"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "air_temp", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find weather_stations where zone exists", "output": {"type": "find", "filter": {"zone": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "air_temp", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "rh_percent", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show weather_stations where condition is one of rain, storm", "output": {"type": "find", "filter": {"condition": {"$in": ["rain", "storm"]}}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temp_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of temp_celsius by month from recorded_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$recorded_at"}, "average": {"$avg": "$temp_celsius"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all fleet_vehicles where depot is sample_depot", "output": {"type": "find", "filter": {"depot": "sample_depot"}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List fleet_vehicles that have vehicle_type set to suv", "output": {"type": "find", "filter": {"vehicle_type": "suv"}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "gas_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum mileage per vehicle_type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$vehicle_type", "maximum": {"$max": "$mileage"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of fuel_expense grouped by depot", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$depot", "total": {"$sum": "$fuel_expense"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "total_miles", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_spend", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of fuel_spend grouped by vehicle_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$vehicle_type", "total": {"$sum": "$fuel_spend"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "distance_traveled", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "gas_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average distance_traveled for vehicle_type = truck, grouped by depot?", "output": {"type": "aggregate", "pipeline": [{"$match": {"vehicle_type": "truck"}}, {"$group": {"_id": "$depot", "average": {"$avg": "$distance_traveled"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "total_miles", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "gas_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum gas_expense for depot = some_value, grouped by vehicle_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"depot": "some_value"}}, {"$group": {"_id": "$vehicle_type", "maximum": {"$max": "$gas_expense"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get fuel_expense from last_service ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"last_service": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"fuel_expense": 1, "last_service": 1}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_spend", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group fleet_vehicles by depot and vehicle_type, show total odometer", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"depot": "$depot", "vehicle_type": "$vehicle_type"}, "total": {"$sum": "$odometer"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "total_miles", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_spend", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many fleet_vehicles have vehicle_type equal to sedan?", "output": {"type": "aggregate", "pipeline": [{"$match": {"vehicle_type": "sedan"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "gas_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find fleet_vehicles with vehicle_type in [bus, suv, truck]", "output": {"type": "find", "filter": {"vehicle_type": {"$in": ["bus", "suv", "truck"]}}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "total_visitors", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all museum_exhibits where wing is sample_wing", "output": {"type": "find", "filter": {"wing": "sample_wing"}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List museum_exhibits that have medium set to mixed_media", "output": {"type": "find", "filter": {"medium": "mixed_media"}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average attendance per wing?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$wing", "average": {"$avg": "$attendance"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum footfall per medium?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$medium", "maximum": {"$max": "$footfall"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum footfall for wing = some_value, grouped by medium?", "output": {"type": "aggregate", "pipeline": [{"$match": {"wing": "some_value"}}, {"$group": {"_id": "$medium", "minimum": {"$min": "$footfall"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "footfall", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get footfall from opened_on ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_on": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"footfall": 1, "opened_on": 1}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest attendance in museum_exhibits", "output": {"type": "aggregate", "pipeline": [{"$sort": {"attendance": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group museum_exhibits by medium and wing, show average attendance", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"medium": "$medium", "wing": "$wing"}, "average": {"$avg": "$attendance"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "total_visitors", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count museum_exhibits where medium is photography", "output": {"type": "aggregate", "pipeline": [{"$match": {"medium": "photography"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "total_visitors", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many museum_exhibits have is_permanent set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_permanent": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "attendance", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which museum_exhibits have a wing?", "output": {"type": "find", "filter": {"wing": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "total_visitors", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find museum_exhibits with medium in [mixed_media, photography, installation]", "output": {"type": "find", "filter": {"medium": {"$in": ["mixed_media", "photography", "installation"]}}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "total_visitors", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum total_visitors bucketed by day using opened_on", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_on"}, "maximum": {"$max": "$total_visitors"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "reading_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "rh_percent", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all weather_stations where region is sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "air_temp", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find weather_stations with condition equal to clear", "output": {"type": "find", "filter": {"condition": "clear"}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum temperature_c per locale?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$locale", "minimum": {"$min": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "relative_humidity", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum temperature_c for each condition", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "minimum": {"$min": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temp_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of humidity_pct grouped by zone", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$zone", "minimum": {"$min": "$humidity_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temp_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "rh_percent", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of rh_percent grouped by condition", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "average": {"$avg": "$rh_percent"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temp_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "relative_humidity", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average relative_humidity for region = some_value, grouped by condition?", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$condition", "average": {"$avg": "$relative_humidity"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "reading_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total reading_celsius by condition where territory is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"territory": "some_value"}}, {"$group": {"_id": "$condition", "total": {"$sum": "$reading_celsius"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "air_temp", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "relative_humidity", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show relative_humidity between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"recorded_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"relative_humidity": 1, "recorded_at": 1}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temp_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest temp_celsius in weather_stations", "output": {"type": "aggregate", "pipeline": [{"$sort": {"temp_celsius": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "reading_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "moisture_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest moisture_pct in weather_stations", "output": {"type": "aggregate", "pipeline": [{"$sort": {"moisture_pct": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group weather_stations by condition and area, show minimum temperature_c", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"condition": "$condition", "area": "$area"}, "minimum": {"$min": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count weather_stations where condition is snow", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "snow"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temp_celsius", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show weather_stations where condition is one of rain, storm", "output": {"type": "find", "filter": {"condition": {"$in": ["rain", "storm"]}}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "gas_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all fleet_vehicles where depot is sample_depot", "output": {"type": "find", "filter": {"depot": "sample_depot"}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of odometer grouped by depot", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$depot", "minimum": {"$min": "$odometer"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_spend", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum odometer per vehicle_type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$vehicle_type", "maximum": {"$max": "$odometer"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of fuel_expense grouped by depot", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$depot", "total": {"$sum": "$fuel_expense"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_spend", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of fuel_spend grouped by vehicle_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$vehicle_type", "total": {"$sum": "$fuel_spend"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average fuel_expense by vehicle_type where depot is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"depot": "some_value"}}, {"$group": {"_id": "$vehicle_type", "average": {"$avg": "$fuel_expense"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_spend", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum fuel_spend for depot = some_value, grouped by vehicle_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"depot": "some_value"}}, {"$group": {"_id": "$vehicle_type", "maximum": {"$max": "$fuel_spend"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "distance_traveled", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get fuel_cost from last_service ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"last_service": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"fuel_cost": 1, "last_service": 1}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "total_miles", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_spend", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 fleet_vehicles by total_miles", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total_miles": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "distance_traveled", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest fuel_expense in fleet_vehicles", "output": {"type": "aggregate", "pipeline": [{"$sort": {"fuel_expense": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "distance_traveled", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many fleet_vehicles have is_available set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_available": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "odometer", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find fleet_vehicles where is_available exists", "output": {"type": "find", "filter": {"is_available": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_spend", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find fleet_vehicles with vehicle_type in [bus, suv, truck]", "output": {"type": "find", "filter": {"vehicle_type": {"$in": ["bus", "suv", "truck"]}}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_expense", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum fuel_expense bucketed by month using last_service", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$last_service"}, "minimum": {"$min": "$fuel_expense"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all museum_exhibits where elevation is greater than 100", "output": {"error": "Field 'elevation' does not exist in museum_exhibits"}, "is_negative": true}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all weather_stations where tax_rate is greater than 100", "output": {"error": "Field 'tax_rate' does not exist in weather_stations"}, "is_negative": true}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all weather_stations where cpu_usage is greater than 100", "output": {"error": "Field 'cpu_usage' does not exist in weather_stations"}, "is_negative": true}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all fleet_vehicles where blood_pressure is greater than 100", "output": {"error": "Field 'blood_pressure' does not exist in fleet_vehicles"}, "is_negative": true}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get visitor_count from opened_on ranging 2024-07-06T00:00:00Z to 2024-11-29T23:59:59Z", "output": {"type": "find", "filter": {"opened_on": {"$gte": {"$date": "2024-07-06T00:00:00Z"}, "$lte": {"$date": "2024-11-29T23:59:59Z"}}}, "projection": {"visitor_count": 1, "opened_on": 1}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show humidity_pct between 2023-04-03T00:00:00Z and 2023-06-14T23:59:59Z", "output": {"type": "find", "filter": {"recorded_at": {"$gte": {"$date": "2023-04-03T00:00:00Z"}, "$lte": {"$date": "2023-06-14T23:59:59Z"}}}, "projection": {"humidity_pct": 1, "recorded_at": 1}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get fuel_cost from last_service ranging 2024-09-20T00:00:00Z to 2024-12-26T23:59:59Z", "output": {"type": "find", "filter": {"last_service": {"$gte": {"$date": "2024-09-20T00:00:00Z"}, "$lte": {"$date": "2024-12-26T23:59:59Z"}}}, "projection": {"fuel_cost": 1, "last_service": 1}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get visitor_count from opened_on ranging 2023-04-02T00:00:00Z to 2024-03-28T23:59:59Z", "output": {"type": "find", "filter": {"opened_on": {"$gte": {"$date": "2023-04-02T00:00:00Z"}, "$lte": {"$date": "2024-03-28T23:59:59Z"}}}, "projection": {"visitor_count": 1, "opened_on": 1}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show humidity_pct between 2023-07-24T00:00:00Z and 2024-03-12T23:59:59Z", "output": {"type": "find", "filter": {"recorded_at": {"$gte": {"$date": "2023-07-24T00:00:00Z"}, "$lte": {"$date": "2024-03-12T23:59:59Z"}}}, "projection": {"humidity_pct": 1, "recorded_at": 1}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get fuel_cost from last_service ranging 2023-04-14T00:00:00Z to 2023-07-30T23:59:59Z", "output": {"type": "find", "filter": {"last_service": {"$gte": {"$date": "2023-04-14T00:00:00Z"}, "$lte": {"$date": "2023-07-30T23:59:59Z"}}}, "projection": {"fuel_cost": 1, "last_service": 1}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get visitor_count from opened_on ranging 2024-07-27T00:00:00Z to 2025-07-09T23:59:59Z", "output": {"type": "find", "filter": {"opened_on": {"$gte": {"$date": "2024-07-27T00:00:00Z"}, "$lte": {"$date": "2025-07-09T23:59:59Z"}}}, "projection": {"visitor_count": 1, "opened_on": 1}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show humidity_pct between 2024-06-03T00:00:00Z and 2024-07-03T23:59:59Z", "output": {"type": "find", "filter": {"recorded_at": {"$gte": {"$date": "2024-06-03T00:00:00Z"}, "$lte": {"$date": "2024-07-03T23:59:59Z"}}}, "projection": {"humidity_pct": 1, "recorded_at": 1}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get fuel_cost from last_service ranging 2023-09-10T00:00:00Z to 2024-06-24T23:59:59Z", "output": {"type": "find", "filter": {"last_service": {"$gte": {"$date": "2023-09-10T00:00:00Z"}, "$lte": {"$date": "2024-06-24T23:59:59Z"}}}, "projection": {"fuel_cost": 1, "last_service": 1}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get visitor_count from opened_on ranging 2024-11-30T00:00:00Z to 2025-11-12T23:59:59Z", "output": {"type": "find", "filter": {"opened_on": {"$gte": {"$date": "2024-11-30T00:00:00Z"}, "$lte": {"$date": "2025-11-12T23:59:59Z"}}}, "projection": {"visitor_count": 1, "opened_on": 1}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show humidity_pct between 2024-05-21T00:00:00Z and 2024-09-24T23:59:59Z", "output": {"type": "find", "filter": {"recorded_at": {"$gte": {"$date": "2024-05-21T00:00:00Z"}, "$lte": {"$date": "2024-09-24T23:59:59Z"}}}, "projection": {"humidity_pct": 1, "recorded_at": 1}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get fuel_cost from last_service ranging 2024-11-05T00:00:00Z to 2025-10-04T23:59:59Z", "output": {"type": "find", "filter": {"last_service": {"$gte": {"$date": "2024-11-05T00:00:00Z"}, "$lte": {"$date": "2025-10-04T23:59:59Z"}}}, "projection": {"fuel_cost": 1, "last_service": 1}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all museum_exhibits where wing is sample_wing", "output": {"type": "find", "filter": {"wing": "sample_wing"}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List museum_exhibits that have medium set to mixed_media", "output": {"type": "find", "filter": {"medium": "mixed_media"}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum visitor_count for wing = some_value, grouped by medium?", "output": {"type": "aggregate", "pipeline": [{"$match": {"wing": "some_value"}}, {"$group": {"_id": "$medium", "minimum": {"$min": "$visitor_count"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average visitor_count for medium = photography, grouped by wing?", "output": {"type": "aggregate", "pipeline": [{"$match": {"medium": "photography"}}, {"$group": {"_id": "$wing", "average": {"$avg": "$visitor_count"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group museum_exhibits by medium and wing, show average visitor_count", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"medium": "$medium", "wing": "$wing"}, "average": {"$avg": "$visitor_count"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count museum_exhibits where medium is photography", "output": {"type": "aggregate", "pipeline": [{"$match": {"medium": "photography"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all weather_stations where region is sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total temperature_c by condition where region is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$condition", "total": {"$sum": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show humidity_pct between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"recorded_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"humidity_pct": 1, "recorded_at": 1}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest temperature_c in weather_stations", "output": {"type": "aggregate", "pipeline": [{"$sort": {"temperature_c": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest humidity_pct in weather_stations", "output": {"type": "aggregate", "pipeline": [{"$sort": {"humidity_pct": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group weather_stations by condition and region, show minimum temperature_c", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"condition": "$condition", "region": "$region"}, "minimum": {"$min": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of temperature_c by month from recorded_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$recorded_at"}, "average": {"$avg": "$temperature_c"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all fleet_vehicles where depot is sample_depot", "output": {"type": "find", "filter": {"depot": "sample_depot"}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average fuel_cost by vehicle_type where depot is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"depot": "some_value"}}, {"$group": {"_id": "$vehicle_type", "average": {"$avg": "$fuel_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get fuel_cost from last_service ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"last_service": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"fuel_cost": 1, "last_service": 1}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 fleet_vehicles by mileage", "output": {"type": "aggregate", "pipeline": [{"$sort": {"mileage": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many fleet_vehicles have vehicle_type equal to sedan?", "output": {"type": "aggregate", "pipeline": [{"$match": {"vehicle_type": "sedan"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find fleet_vehicles where is_available exists", "output": {"type": "find", "filter": {"is_available": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find fleet_vehicles with vehicle_type in [bus, suv, truck]", "output": {"type": "find", "filter": {"vehicle_type": {"$in": ["bus", "suv", "truck"]}}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum fuel_cost bucketed by month using last_service", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$last_service"}, "minimum": {"$min": "$fuel_cost"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all museum_exhibits where wing is sample_wing", "output": {"type": "find", "filter": {"wing": "sample_wing"}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average visitor_count for medium = photography, grouped by wing?", "output": {"type": "aggregate", "pipeline": [{"$match": {"medium": "photography"}}, {"$group": {"_id": "$wing", "average": {"$avg": "$visitor_count"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count museum_exhibits where medium is photography", "output": {"type": "aggregate", "pipeline": [{"$match": {"medium": "photography"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which museum_exhibits have a wing?", "output": {"type": "find", "filter": {"wing": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum visitor_count bucketed by day using opened_on", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_on"}, "maximum": {"$max": "$visitor_count"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all weather_stations where region is sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find weather_stations with condition equal to clear", "output": {"type": "find", "filter": {"condition": "clear"}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Calculate the minimum of humidity_pct grouped by region", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "minimum": {"$min": "$humidity_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of humidity_pct grouped by condition", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "average": {"$avg": "$humidity_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum humidity_pct by condition where region is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$condition", "maximum": {"$max": "$humidity_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total temperature_c by condition where region is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$condition", "total": {"$sum": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Show the 3 highest humidity_pct in weather_stations", "output": {"type": "aggregate", "pipeline": [{"$sort": {"humidity_pct": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count weather_stations where condition is snow", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "snow"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "Show weather_stations where condition is one of rain, storm", "output": {"type": "find", "filter": {"condition": {"$in": ["rain", "storm"]}}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all fleet_vehicles where depot is sample_depot", "output": {"type": "find", "filter": {"depot": "sample_depot"}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of fuel_cost grouped by depot", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$depot", "total": {"$sum": "$fuel_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average mileage for vehicle_type = truck, grouped by depot?", "output": {"type": "aggregate", "pipeline": [{"$match": {"vehicle_type": "truck"}}, {"$group": {"_id": "$depot", "average": {"$avg": "$mileage"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get fuel_cost from last_service ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"last_service": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"fuel_cost": 1, "last_service": 1}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many fleet_vehicles have is_available set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_available": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find fleet_vehicles where is_available exists", "output": {"type": "find", "filter": {"is_available": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List museum_exhibits that have medium set to mixed_media", "output": {"type": "find", "filter": {"medium": "mixed_media"}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum visitor_count per medium?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$medium", "maximum": {"$max": "$visitor_count"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average visitor_count for medium = photography, grouped by wing?", "output": {"type": "aggregate", "pipeline": [{"$match": {"medium": "photography"}}, {"$group": {"_id": "$wing", "average": {"$avg": "$visitor_count"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get visitor_count from opened_on ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_on": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"visitor_count": 1, "opened_on": 1}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find museum_exhibits with medium in [mixed_media, photography, installation]", "output": {"type": "find", "filter": {"medium": {"$in": ["mixed_media", "photography", "installation"]}}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum visitor_count bucketed by day using opened_on", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_on"}, "maximum": {"$max": "$visitor_count"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum temperature_c for each condition", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "minimum": {"$min": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of humidity_pct grouped by region", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "minimum": {"$min": "$humidity_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of humidity_pct grouped by condition", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "average": {"$avg": "$humidity_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Show total temperature_c by condition where region is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$condition", "total": {"$sum": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$skip", "$project", "$unwind", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show humidity_pct between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"recorded_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"humidity_pct": 1, "recorded_at": 1}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest temperature_c in weather_stations", "output": {"type": "aggregate", "pipeline": [{"$sort": {"temperature_c": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show weather_stations where condition is one of rain, storm", "output": {"type": "find", "filter": {"condition": {"$in": ["rain", "storm"]}}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all fleet_vehicles where depot is sample_depot", "output": {"type": "find", "filter": {"depot": "sample_depot"}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of fuel_cost grouped by vehicle_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$vehicle_type", "total": {"$sum": "$fuel_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "Show average fuel_cost by vehicle_type where depot is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"depot": "some_value"}}, {"$group": {"_id": "$vehicle_type", "average": {"$avg": "$fuel_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucketAuto", "$facet", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum fuel_cost for depot = some_value, grouped by vehicle_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"depot": "some_value"}}, {"$group": {"_id": "$vehicle_type", "maximum": {"$max": "$fuel_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find fleet_vehicles where is_available exists", "output": {"type": "find", "filter": {"is_available": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find fleet_vehicles with vehicle_type in [bus, suv, truck]", "output": {"type": "find", "filter": {"vehicle_type": {"$in": ["bus", "suv", "truck"]}}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Show minimum fuel_cost bucketed by month using last_service", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$last_service"}, "minimum": {"$min": "$fuel_cost"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all museum_exhibits where wing is sample_wing", "output": {"type": "find", "filter": {"wing": "sample_wing"}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum visitor_count per medium?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$medium", "maximum": {"$max": "$visitor_count"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "Get visitor_count from opened_on ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_on": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"visitor_count": 1, "opened_on": 1}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$group", "$sort", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group museum_exhibits by medium and wing, show average visitor_count", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"medium": "$medium", "wing": "$wing"}, "average": {"$avg": "$visitor_count"}}}]}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which museum_exhibits have a wing?", "output": {"type": "find", "filter": {"wing": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "museum_exhibits", "domain": "culture", "fields": [{"name": "exhibit_id", "type": "string", "role": "identifier", "description": "Exhibit identifier"}, {"name": "title", "type": "string", "role": "text", "description": "Exhibit title"}, {"name": "visitor_count", "type": "int", "role": "measure", "description": "Total visitors"}, {"name": "opened_on", "type": "date", "role": "timestamp", "description": "Opening date"}, {"name": "wing", "type": "string", "role": "category", "description": "Museum wing"}, {"name": "medium", "type": "string", "role": "enum", "description": "Art medium", "enum_values": ["painting", "sculpture", "photography", "installation", "mixed_media"]}, {"name": "is_permanent", "type": "bool", "role": "boolean", "description": "Permanent exhibit"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find museum_exhibits with medium in [mixed_media, photography, installation]", "output": {"type": "find", "filter": {"medium": {"$in": ["mixed_media", "photography", "installation"]}}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "Find weather_stations with condition equal to clear", "output": {"type": "find", "filter": {"condition": "clear"}}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of humidity_pct grouped by region", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "minimum": {"$min": "$humidity_pct"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group weather_stations by condition and region, show minimum temperature_c", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"condition": "$condition", "region": "$region"}, "minimum": {"$min": "$temperature_c"}}}]}, "is_negative": false}
{"schema": {"collection": "weather_stations", "domain": "meteorology", "fields": [{"name": "station_id", "type": "string", "role": "identifier", "description": "Station identifier"}, {"name": "temperature_c", "type": "double", "role": "measure", "description": "Temperature in Celsius"}, {"name": "recorded_at", "type": "date", "role": "timestamp", "description": "Recording timestamp"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "condition", "type": "string", "role": "enum", "description": "Weather condition", "enum_values": ["clear", "cloudy", "rain", "snow", "storm"]}, {"name": "humidity_pct", "type": "double", "role": "measure", "description": "Relative humidity %"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of temperature_c by month from recorded_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$recorded_at"}, "average": {"$avg": "$temperature_c"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all fleet_vehicles where depot is sample_depot", "output": {"type": "find", "filter": {"depot": "sample_depot"}}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$toDate"]}, "intent": "What is the average mileage for vehicle_type = truck, grouped by depot?", "output": {"type": "aggregate", "pipeline": [{"$match": {"vehicle_type": "truck"}}, {"$group": {"_id": "$depot", "average": {"$avg": "$mileage"}}}]}, "is_negative": false}
{"schema": {"collection": "fleet_vehicles", "domain": "transportation", "fields": [{"name": "vehicle_id", "type": "string", "role": "identifier", "description": "Vehicle identifier"}, {"name": "mileage", "type": "int", "role": "measure", "description": "Odometer reading"}, {"name": "last_service", "type": "date", "role": "timestamp", "description": "Last service date"}, {"name": "vehicle_type", "type": "string", "role": "enum", "description": "Vehicle type", "enum_values": ["sedan", "suv", "truck", "van", "bus"]}, {"name": "depot", "type": "string", "role": "category", "description": "Home depot"}, {"name": "is_available", "type": "bool", "role": "boolean", "description": "Currently available"}, {"name": "fuel_cost", "type": "double", "role": "measure", "description": "Monthly fuel cost"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest fuel_cost in fleet_vehicles", "output": {"type": "aggregate", "pipeline": [{"$sort": {"fuel_cost": -1}}, {"$limit": 5}]}, "is_negative": false}
