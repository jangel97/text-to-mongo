{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List posts that have topic set to sample_topic", "output": {"type": "find", "filter": {"topic": "sample_topic"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$dateToString", "$toDate"]}, "intent": "Count transactions where type is transfer", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "transfer"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which sensor_sensor_values have a is_anomaly?", "output": {"type": "find", "filter": {"is_anomaly": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get duration_sec from user_activity with action_type = comment", "output": {"type": "find", "filter": {"action_type": "comment"}, "projection": {"duration_sec": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "max_capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get max_capacity from opened_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"max_capacity": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total available_funds bucketed by day using opened_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_at"}, "total": {"$sum": "$available_funds"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of reading grouped by location", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$location", "minimum": {"$min": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "division", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find employees with level in [junior, senior, lead]", "output": {"type": "find", "filter": {"level": {"$in": ["junior", "senior", "lead"]}}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the topic and content for all posts", "output": {"type": "find", "filter": {}, "projection": {"topic": 1, "content": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "title", "type": "string", "role": "text", "description": "Full name"}, {"name": "compensation", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many employees have is_active set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_active": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total value for each test_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$test_type", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum processing_time per severity?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$severity", "minimum": {"$min": "$processing_time"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get region and warehouse_id of each warehouses", "output": {"type": "find", "filter": {}, "projection": {"region": 1, "warehouse_id": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of amount grouped by type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$type", "average": {"$avg": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get weight_kg from shipped_at ranging 2023-06-13T00:00:00Z to 2024-06-08T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2023-06-13T00:00:00Z"}, "$lte": {"$date": "2024-06-08T23:59:59Z"}}}, "projection": {"weight_kg": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which customers have a tier?", "output": {"type": "find", "filter": {"tier": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of weight_kg by month from shipped_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$shipped_at"}, "average": {"$avg": "$weight_kg"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average final_score bucketed by year using enrolled_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$enrolled_at"}, "average": {"$avg": "$final_score"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average balance by branch where account_type is checking", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "checking"}}, {"$group": {"_id": "$branch", "average": {"$avg": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest total in transactions", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total fee_amount per team?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$team", "total": {"$sum": "$fee_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum grade by course where status is waitlisted", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "waitlisted"}}, {"$group": {"_id": "$course", "maximum": {"$max": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with platform equal to sample_platform", "output": {"type": "find", "filter": {"platform": "sample_platform"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with type equal to fee", "output": {"type": "find", "filter": {"type": "fee"}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 posts by reactions", "output": {"type": "aggregate", "pipeline": [{"$sort": {"reactions": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with type equal to fee", "output": {"type": "find", "filter": {"type": "fee"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get lifetime_value from signup_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"signup_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"lifetime_value": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get lifetime_value from signup_date ranging 2024-10-01T00:00:00Z to 2025-07-06T23:59:59Z", "output": {"type": "find", "filter": {"signup_date": {"$gte": {"$date": "2024-10-01T00:00:00Z"}, "$lte": {"$date": "2025-07-06T23:59:59Z"}}}, "projection": {"lifetime_value": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all transactions where merchant is sample_merchant", "output": {"type": "find", "filter": {"merchant": "sample_merchant"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get reading from timestamp ranging 2023-10-09T00:00:00Z to 2024-03-28T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2023-10-09T00:00:00Z"}, "$lte": {"$date": "2024-03-28T23:59:59Z"}}}, "projection": {"reading": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get elapsed_seconds from user_activity with action_type = comment", "output": {"type": "find", "filter": {"action_type": "comment"}, "projection": {"elapsed_seconds": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$dateToString", "$toDate"]}, "intent": "Show total balance by account_type where branch is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "total": {"$sum": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of data_point grouped by location", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$location", "minimum": {"$min": "$data_point"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average grade bucketed by year using enrolled_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$enrolled_at"}, "average": {"$avg": "$grade"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the name and level for all employees", "output": {"type": "find", "filter": {}, "projection": {"name": 1, "level": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest final_score in enrollments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"final_score": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find products where created_at exists", "output": {"type": "find", "filter": {"created_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get lifetime_value from signup_date ranging 2024-04-22T00:00:00Z to 2024-06-24T23:59:59Z", "output": {"type": "find", "filter": {"signup_date": {"$gte": {"$date": "2024-04-22T00:00:00Z"}, "$lte": {"$date": "2024-06-24T23:59:59Z"}}}, "projection": {"lifetime_value": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all lab_results where profit_margin is greater than 100", "output": {"error": "Field 'profit_margin' does not exist in lab_results"}, "is_negative": true}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum customer_value per region?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "maximum": {"$max": "$customer_value"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "unit", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total bill_amount per unit?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$unit", "total": {"$sum": "$bill_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many enrollments have status equal to active?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "active"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average response_time_ms by severity where severity is debug", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "debug"}}, {"$group": {"_id": "$severity", "average": {"$avg": "$response_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customers with tier in [bronze, gold]", "output": {"type": "find", "filter": {"tier": {"$in": ["bronze", "gold"]}}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average processing_time by severity where severity is debug", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "debug"}}, {"$group": {"_id": "$severity", "average": {"$avg": "$processing_time"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "upvotes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find published_at and post_id in posts with topic = some_value", "output": {"type": "find", "filter": {"topic": "some_value"}, "projection": {"published_at": 1, "post_id": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_data_points have is_anomaly set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_anomaly": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average available_funds per branch?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$branch", "average": {"$avg": "$available_funds"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total weight_kg for each carrier", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$carrier", "total": {"$sum": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "title", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of salary grouped by department", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$department", "minimum": {"$min": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipped_at and shipment_id in shipments with carrier = some_value", "output": {"type": "find", "filter": {"carrier": "some_value"}, "projection": {"shipped_at": 1, "shipment_id": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipped_at and shipment_id in shipments with carrier = some_value", "output": {"type": "find", "filter": {"carrier": "some_value"}, "projection": {"shipped_at": 1, "shipment_id": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum session_length by action_type where platform is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"platform": "some_value"}}, {"$group": {"_id": "$action_type", "minimum": {"$min": "$session_length"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which lab_results have a value?", "output": {"type": "find", "filter": {"value": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum data_point per unit?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$unit", "minimum": {"$min": "$data_point"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count shipments where current_status is returned", "output": {"type": "aggregate", "pipeline": [{"$match": {"current_status": "returned"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which warehouses have a storage_limit?", "output": {"type": "find", "filter": {"storage_limit": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count lab_results where condition is completed", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "completed"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total lifetime_value for tier = bronze, grouped by region?", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "bronze"}}, {"$group": {"_id": "$region", "total": {"$sum": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 5 lab_results by value", "output": {"type": "aggregate", "pipeline": [{"$sort": {"value": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count enrollments where is_auditing is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_auditing": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of grade grouped by status", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "minimum": {"$min": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments where enrolled_at exists", "output": {"type": "find", "filter": {"enrolled_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get capacity from opened_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"capacity": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest gross_weight in shipments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"gross_weight": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity where action_type exists", "output": {"type": "find", "filter": {"action_type": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all transactions where merchant is sample_merchant", "output": {"type": "find", "filter": {"merchant": "sample_merchant"}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum like_count by topic where topic is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"topic": "some_value"}}, {"$group": {"_id": "$topic", "maximum": {"$max": "$like_count"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "display_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "division", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the display_name and level for all employees", "output": {"type": "find", "filter": {}, "projection": {"display_name": 1, "level": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipped_at and shipment_id in shipments with carrier = some_value", "output": {"type": "find", "filter": {"carrier": "some_value"}, "projection": {"shipped_at": 1, "shipment_id": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum sensor_value per unit?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$unit", "minimum": {"$min": "$sensor_value"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group shipments by carrier and status, show total weight_kg", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"carrier": "$carrier", "status": "$status"}, "total": {"$sum": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total value for test_type = some_value, grouped by current_status?", "output": {"type": "aggregate", "pipeline": [{"$match": {"test_type": "some_value"}}, {"$group": {"_id": "$current_status", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get lifetime_value from signup_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"signup_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"lifetime_value": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "Find employees with level in [junior, senior, lead]", "output": {"type": "find", "filter": {"level": {"$in": ["junior", "senior", "lead"]}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "title", "type": "string", "role": "text", "description": "Product name"}, {"name": "price_per_item", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum price_per_item bucketed by year using created_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$created_at"}, "maximum": {"$max": "$price_per_item"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List posts that have topic set to sample_topic", "output": {"type": "find", "filter": {"topic": "sample_topic"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many shipments have is_fragile set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_fragile": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show user_activity where action_type is one of login, logout, share", "output": {"type": "find", "filter": {"action_type": {"$in": ["login", "logout", "share"]}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count shipments where status is returned", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "returned"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "minimum": {"$min": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count lab_results where condition is completed", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "completed"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of total grouped by merchant", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$merchant", "maximum": {"$max": "$total"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many posts have is_pinned set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_pinned": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group orders by state and channel, show total total_value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"state": "$state", "channel": "$channel"}, "total": {"$sum": "$total_value"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 5 employees by salary", "output": {"type": "aggregate", "pipeline": [{"$sort": {"salary": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average academic_score bucketed by year using enrolled_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$enrolled_at"}, "average": {"$avg": "$academic_score"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of grade grouped by status", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "minimum": {"$min": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average sensor_value by location where unit is rpm", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "rpm"}}, {"$group": {"_id": "$location", "average": {"$avg": "$sensor_value"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get visit_id from patient_visits with department = some_value", "output": {"type": "find", "filter": {"department": "some_value"}, "projection": {"visit_id": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "annual_pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total annual_pay by department where level is senior", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "senior"}}, {"$group": {"_id": "$department", "total": {"$sum": "$annual_pay"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest rating in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"rating": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which posts have a topic?", "output": {"type": "find", "filter": {"topic": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest rating in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"rating": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List user_activity that have action_type set to comment", "output": {"type": "find", "filter": {"action_type": "comment"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where branch is sample_branch", "output": {"type": "find", "filter": {"branch": "sample_branch"}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get area and warehouse_id of each warehouses", "output": {"type": "find", "filter": {}, "projection": {"area": 1, "warehouse_id": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total session_length bucketed by day using occurred_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$occurred_at"}, "total": {"$sum": "$session_length"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with type equal to fee", "output": {"type": "find", "filter": {"type": "fee"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest session_length in user_activity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"session_length": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many posts have is_pinned set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_pinned": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all customers where tier is platinum", "output": {"type": "find", "filter": {"tier": "platinum"}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which warehouses have a capacity?", "output": {"type": "find", "filter": {"capacity": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "group", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of price grouped by group", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$group", "total": {"$sum": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_data_points where location is sample_location", "output": {"type": "find", "filter": {"location": "sample_location"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average grade bucketed by year using enrolled_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$enrolled_at"}, "average": {"$avg": "$grade"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where account_type is savings", "output": {"type": "find", "filter": {"account_type": "savings"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$dateToString", "$toDate"]}, "intent": "Show all accounts where branch is sample_branch", "output": {"type": "find", "filter": {"branch": "sample_branch"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average final_score bucketed by year using enrolled_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$enrolled_at"}, "average": {"$avg": "$final_score"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which orders have a channel?", "output": {"type": "find", "filter": {"channel": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group orders by status and channel, show total total_amount", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"status": "$status", "channel": "$channel"}, "total": {"$sum": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average total_amount for channel = some_value, grouped by condition?", "output": {"type": "aggregate", "pipeline": [{"$match": {"channel": "some_value"}}, {"$group": {"_id": "$condition", "average": {"$avg": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which employees have a is_active?", "output": {"type": "find", "filter": {"is_active": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of current_balance grouped by account_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$account_type", "total": {"$sum": "$current_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find orders with state in [delivered, cancelled]", "output": {"type": "find", "filter": {"state": {"$in": ["delivered", "cancelled"]}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "full_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "annual_pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show annual_pay between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"hire_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"annual_pay": 1, "hire_date": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum score bucketed by year using review_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$review_date"}, "maximum": {"$max": "$score"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total gross_weight for each carrier", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$carrier", "total": {"$sum": "$gross_weight"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count customers where tier is bronze", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "bronze"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which device_logs have a severity?", "output": {"type": "find", "filter": {"severity": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum grade for condition = completed, grouped by course?", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "completed"}}, {"$group": {"_id": "$course", "maximum": {"$max": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "title", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count employees where level is junior", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "junior"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get reading from timestamp ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"reading": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get time_spent from occurred_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"time_spent": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where type is transfer", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "transfer"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "full_name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest price in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"price": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of capacity grouped by region", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "maximum": {"$max": "$capacity"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count user_activity where action_type is post", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "post"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where latitude is greater than 100", "output": {"error": "Field 'latitude' does not exist in accounts"}, "is_negative": true}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "group", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List performance_reviews that have group set to sample_group", "output": {"type": "find", "filter": {"group": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all shipments where heart_rate is greater than 100", "output": {"error": "Field 'heart_rate' does not exist in shipments"}, "is_negative": true}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "rating", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "type_class", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum rating bucketed by year using review_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$review_date"}, "maximum": {"$max": "$rating"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest lifetime_value in customers", "output": {"type": "aggregate", "pipeline": [{"$sort": {"lifetime_value": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find device_logs with severity equal to info", "output": {"type": "find", "filter": {"severity": "info"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find device_logs with severity in [warning, info]", "output": {"type": "find", "filter": {"severity": {"$in": ["warning", "info"]}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many enrollments have status equal to active?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "active"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get grade from enrolled_at ranging 2024-04-23T00:00:00Z to 2024-08-10T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-04-23T00:00:00Z"}, "$lte": {"$date": "2024-08-10T23:59:59Z"}}}, "projection": {"grade": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show gross_weight, carrier and is_fragile from shipments", "output": {"type": "find", "filter": {}, "projection": {"gross_weight": 1, "carrier": 1, "is_fragile": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "total_slots", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of total_slots grouped by region", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "maximum": {"$max": "$total_slots"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the topic and content for all posts", "output": {"type": "find", "filter": {}, "projection": {"topic": 1, "content": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total total_spend for each tier", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$tier", "total": {"$sum": "$total_spend"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customer_id and signup_date in customers with tier = gold", "output": {"type": "find", "filter": {"tier": "gold"}, "projection": {"customer_id": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customers with region equal to sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of gross_weight by month from shipped_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$shipped_at"}, "average": {"$avg": "$gross_weight"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count lab_results where status is completed", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "completed"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_readings where altitude is greater than 100", "output": {"error": "Field 'altitude' does not exist in sensor_readings"}, "is_negative": true}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of score grouped by category", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "average": {"$avg": "$score"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get shipping_weight from shipped_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"shipping_weight": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total lifetime_value for each tier", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$tier", "total": {"$sum": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group employees by department and level, show maximum wage", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"department": "$department", "level": "$level"}, "maximum": {"$max": "$wage"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_readings have unit equal to kwh?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "kwh"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "total_slots", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 warehouses by total_slots", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total_slots": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show user_activity where action_type is one of login, logout, share", "output": {"type": "find", "filter": {"action_type": {"$in": ["login", "logout", "share"]}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum mass_kg by current_status where carrier is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"carrier": "some_value"}}, {"$group": {"_id": "$current_status", "minimum": {"$min": "$mass_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "max_capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find warehouses with region equal to sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group user_activity by platform and action_type, show total session_length", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"platform": "$platform", "action_type": "$action_type"}, "total": {"$sum": "$session_length"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "grand_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many orders have status equal to pending?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "pending"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List performance_reviews that have category set to sample_category", "output": {"type": "find", "filter": {"category": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipments with condition in [returned, delivered, processing]", "output": {"type": "find", "filter": {"condition": {"$in": ["returned", "delivered", "processing"]}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get balance from opened_at ranging 2023-12-08T00:00:00Z to 2024-04-29T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2023-12-08T00:00:00Z"}, "$lte": {"$date": "2024-04-29T23:59:59Z"}}}, "projection": {"balance": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show accounts where account_type is one of investment, savings", "output": {"type": "find", "filter": {"account_type": {"$in": ["investment", "savings"]}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 sensor_sensor_values by sensor_value", "output": {"type": "aggregate", "pipeline": [{"$sort": {"sensor_value": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many transactions have is_flagged set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_flagged": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_data_points where location is sample_location", "output": {"type": "find", "filter": {"location": "sample_location"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show patient_id, value and collected_at from lab_results", "output": {"type": "find", "filter": {}, "projection": {"patient_id": 1, "value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total mass_kg per current_status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$current_status", "total": {"$sum": "$mass_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average account_balance by branch where account_type is checking", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "checking"}}, {"$group": {"_id": "$branch", "average": {"$avg": "$account_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 sensor_readings by reading", "output": {"type": "aggregate", "pipeline": [{"$sort": {"reading": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get quantity_value from txn_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"quantity_value": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with status in [dropped, completed]", "output": {"type": "find", "filter": {"status": {"$in": ["dropped", "completed"]}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show salary between 2023-08-06T00:00:00Z and 2023-12-31T23:59:59Z", "output": {"type": "find", "filter": {"hire_date": {"$gte": {"$date": "2023-08-06T00:00:00Z"}, "$lte": {"$date": "2023-12-31T23:59:59Z"}}}, "projection": {"salary": 1, "hire_date": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "visit_cost", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "section", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum visit_cost for section = some_value, grouped by section?", "output": {"type": "aggregate", "pipeline": [{"$match": {"section": "some_value"}}, {"$group": {"_id": "$section", "minimum": {"$min": "$visit_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which warehouses have a capacity?", "output": {"type": "find", "filter": {"capacity": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find employees with level in [junior, senior, lead]", "output": {"type": "find", "filter": {"level": {"$in": ["junior", "senior", "lead"]}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_readings where unit is fahrenheit", "output": {"type": "find", "filter": {"unit": "fahrenheit"}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Get capacity from opened_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"capacity": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "unit", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average salary per level?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$level", "average": {"$avg": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$dateToString", "$toDate"]}, "intent": "Find products where created_at exists", "output": {"type": "find", "filter": {"created_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 5 lab_results by value", "output": {"type": "aggregate", "pipeline": [{"$sort": {"value": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "division", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find patient_visits with division equal to sample_division", "output": {"type": "find", "filter": {"division": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "max_capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show opened_date and max_capacity for warehouses where region is some_value", "output": {"type": "find", "filter": {"region": "some_value"}, "projection": {"opened_date": 1, "max_capacity": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all patient_visits where api_key is greater than 100", "output": {"error": "Field 'api_key' does not exist in patient_visits"}, "is_negative": true}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 patient_visits by charge", "output": {"type": "aggregate", "pipeline": [{"$sort": {"charge": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the occurred_at, activity_id and action_type for all user_activity", "output": {"type": "find", "filter": {}, "projection": {"occurred_at": 1, "activity_id": 1, "action_type": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the topic and content for all posts", "output": {"type": "find", "filter": {}, "projection": {"topic": 1, "content": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average response_time_ms by severity where severity is debug", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "debug"}}, {"$group": {"_id": "$severity", "average": {"$avg": "$response_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of storage_limit by day from opened_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_date"}, "total": {"$sum": "$storage_limit"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Get amount from txn_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"amount": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$min", "$max", "$first", "$last", "$push", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest total_amount in orders", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total_amount": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with course equal to sample_course", "output": {"type": "find", "filter": {"course": "sample_course"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum customer_value for area = some_value, grouped by tier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"area": "some_value"}}, {"$group": {"_id": "$tier", "maximum": {"$max": "$customer_value"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum lifetime_value for region = some_value, grouped by tier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$tier", "maximum": {"$max": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum total_amount for current_status = shipped, grouped by channel?", "output": {"type": "aggregate", "pipeline": [{"$match": {"current_status": "shipped"}}, {"$group": {"_id": "$channel", "minimum": {"$min": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total score by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "total": {"$sum": "$score"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show employee_id and score for performance_reviews where category is some_value", "output": {"type": "find", "filter": {"category": "some_value"}, "projection": {"employee_id": 1, "score": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get account_id from transactions with merchant = some_value", "output": {"type": "find", "filter": {"merchant": "some_value"}, "projection": {"account_id": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show category, reviewer and score from performance_reviews", "output": {"type": "find", "filter": {}, "projection": {"category": 1, "reviewer": 1, "score": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show reply_time_ms between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"reply_time_ms": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find data_point and timestamp in sensor_data_points with location = some_value", "output": {"type": "find", "filter": {"location": "some_value"}, "projection": {"data_point": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "cost", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get created_at from products with category = some_value", "output": {"type": "find", "filter": {"category": "some_value"}, "projection": {"created_at": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$dateToString", "$toDate"]}, "intent": "Get lifetime_value from signup_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"signup_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"lifetime_value": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total value for test_type = some_value, grouped by state?", "output": {"type": "aggregate", "pipeline": [{"$match": {"test_type": "some_value"}}, {"$group": {"_id": "$state", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average balance per branch?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$branch", "average": {"$avg": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total duration_sec for each action_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$action_type", "total": {"$sum": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total mass_kg per current_status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$current_status", "total": {"$sum": "$mass_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "star_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "total": {"$sum": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show lab_results where state is one of reviewed, completed", "output": {"type": "find", "filter": {"state": {"$in": ["reviewed", "completed"]}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of data_point by day from timestamp", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$timestamp"}, "total": {"$sum": "$data_point"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List orders that have channel set to sample_channel", "output": {"type": "find", "filter": {"channel": "sample_channel"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count customers where tier is bronze", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "bronze"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with type in [transfer, credit]", "output": {"type": "find", "filter": {"type": {"$in": ["transfer", "credit"]}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments where enrolled_at exists", "output": {"type": "find", "filter": {"enrolled_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total available_funds by account_type where branch is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "total": {"$sum": "$available_funds"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get grade from enrolled_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"grade": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions where type exists", "output": {"type": "find", "filter": {"type": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all employees where longitude is greater than 100", "output": {"error": "Field 'longitude' does not exist in employees"}, "is_negative": true}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "label", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "minimum": {"$min": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find orders with current_status in [delivered, cancelled]", "output": {"type": "find", "filter": {"current_status": {"$in": ["delivered", "cancelled"]}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_measurements have is_anomaly set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_anomaly": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average total_amount for channel = some_value, grouped by condition?", "output": {"type": "aggregate", "pipeline": [{"$match": {"channel": "some_value"}}, {"$group": {"_id": "$condition", "average": {"$avg": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "display_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average salary per level?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$level", "average": {"$avg": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipped_at and shipment_id in shipments with carrier = some_value", "output": {"type": "find", "filter": {"carrier": "some_value"}, "projection": {"shipped_at": 1, "shipment_id": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get balance from opened_at ranging 2023-01-11T00:00:00Z to 2023-09-01T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2023-01-11T00:00:00Z"}, "$lte": {"$date": "2023-09-01T23:59:59Z"}}}, "projection": {"balance": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get account_id from transactions with merchant = some_value", "output": {"type": "find", "filter": {"merchant": "some_value"}, "projection": {"account_id": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 performance_reviews by score", "output": {"type": "aggregate", "pipeline": [{"$sort": {"score": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all employees where department is sample_department", "output": {"type": "find", "filter": {"department": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the name and level for all employees", "output": {"type": "find", "filter": {}, "projection": {"name": 1, "level": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which customers have a tier?", "output": {"type": "find", "filter": {"tier": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average total_value bucketed by day using order_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$order_date"}, "average": {"$avg": "$total_value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total value for test_type = some_value, grouped by status?", "output": {"type": "aggregate", "pipeline": [{"$match": {"test_type": "some_value"}}, {"$group": {"_id": "$status", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_data_points have unit equal to kwh?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "kwh"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show visit_date, department and is_emergency from patient_visits", "output": {"type": "find", "filter": {}, "projection": {"visit_date": 1, "department": 1, "is_emergency": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total lifetime_value for tier = bronze, grouped by territory?", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "bronze"}}, {"$group": {"_id": "$territory", "total": {"$sum": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "title", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total salary bucketed by year using hire_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$hire_date"}, "total": {"$sum": "$salary"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments where enrolled_at exists", "output": {"type": "find", "filter": {"enrolled_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find device_logs with severity equal to info", "output": {"type": "find", "filter": {"severity": "info"}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find patient_visits with department equal to sample_department", "output": {"type": "find", "filter": {"department": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get weight_kg from shipped_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"weight_kg": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get location and unit of each sensor_measurements", "output": {"type": "find", "filter": {}, "projection": {"location": 1, "unit": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with platform equal to sample_platform", "output": {"type": "find", "filter": {"platform": "sample_platform"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all employees where department is sample_department", "output": {"type": "find", "filter": {"department": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "unit_price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum unit_price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "minimum": {"$min": "$unit_price"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show response_time_ms between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"response_time_ms": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customers with region equal to sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count device_logs where severity is info", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "info"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "full_name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest rating in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"rating": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many enrollments have status equal to active?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "active"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "title", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "unit", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 5 employees by salary", "output": {"type": "aggregate", "pipeline": [{"$sort": {"salary": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of score grouped by category", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "average": {"$avg": "$score"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find employees with level in [junior, senior, lead]", "output": {"type": "find", "filter": {"level": {"$in": ["junior", "senior", "lead"]}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show result_id for lab_results where status is completed", "output": {"type": "find", "filter": {"status": "completed"}, "projection": {"result_id": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the occurred_at, activity_id and action_type for all user_activity", "output": {"type": "find", "filter": {}, "projection": {"occurred_at": 1, "activity_id": 1, "action_type": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find employees with level in [junior, senior, lead]", "output": {"type": "find", "filter": {"level": {"$in": ["junior", "senior", "lead"]}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "title", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total salary bucketed by year using hire_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$hire_date"}, "total": {"$sum": "$salary"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get capacity from opened_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"capacity": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest total_amount in orders", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total_amount": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customers with tier in [bronze, gold]", "output": {"type": "find", "filter": {"tier": {"$in": ["bronze", "gold"]}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum academic_score by course where status is waitlisted", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "waitlisted"}}, {"$group": {"_id": "$course", "maximum": {"$max": "$academic_score"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show price between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"created_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"price": 1, "created_at": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group shipments by carrier and status, show total gross_weight", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"carrier": "$carrier", "status": "$status"}, "total": {"$sum": "$gross_weight"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of measurement by day from timestamp", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$timestamp"}, "total": {"$sum": "$measurement"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find patient_visits where is_emergency exists", "output": {"type": "find", "filter": {"is_emergency": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total current_balance by account_type where branch is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "total": {"$sum": "$current_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get reading from timestamp ranging 2023-09-19T00:00:00Z to 2024-07-17T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2023-09-19T00:00:00Z"}, "$lte": {"$date": "2024-07-17T23:59:59Z"}}}, "projection": {"reading": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum duration_sec for action_type = post, grouped by platform?", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "post"}}, {"$group": {"_id": "$platform", "minimum": {"$min": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group customers by area and tier, show maximum ltv", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"area": "$area", "tier": "$tier"}, "maximum": {"$max": "$ltv"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List user_activity that have action_type set to comment", "output": {"type": "find", "filter": {"action_type": "comment"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total value per condition?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get weight_kg from shipped_at ranging 2024-12-09T00:00:00Z to 2025-05-30T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2024-12-09T00:00:00Z"}, "$lte": {"$date": "2025-05-30T23:59:59Z"}}}, "projection": {"weight_kg": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group sensor_data_points by unit and location, show average data_point", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"unit": "$unit", "location": "$location"}, "average": {"$avg": "$data_point"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which sensor_measurements have a is_anomaly?", "output": {"type": "find", "filter": {"is_anomaly": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "rating", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "type_class", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show type_class, reviewer and rating from performance_reviews", "output": {"type": "find", "filter": {}, "projection": {"type_class": 1, "reviewer": 1, "rating": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 patient_visits by charge", "output": {"type": "aggregate", "pipeline": [{"$sort": {"charge": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of salary grouped by department", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$department", "minimum": {"$min": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many orders have status equal to pending?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "pending"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of score grouped by category", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "average": {"$avg": "$score"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total customer_value for each tier", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$tier", "total": {"$sum": "$customer_value"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest weight_kg in shipments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"weight_kg": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "group", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get created_at from products with group = some_value", "output": {"type": "find", "filter": {"group": "some_value"}, "projection": {"created_at": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group user_activity by platform and action_type, show total elapsed_seconds", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"platform": "$platform", "action_type": "$action_type"}, "total": {"$sum": "$elapsed_seconds"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum total_spend per region?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "maximum": {"$max": "$total_spend"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get status and order_total of each orders", "output": {"type": "find", "filter": {}, "projection": {"status": 1, "order_total": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "max_capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which warehouses have a max_capacity?", "output": {"type": "find", "filter": {"max_capacity": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum session_length by action_type where platform is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"platform": "some_value"}}, {"$group": {"_id": "$action_type", "minimum": {"$min": "$session_length"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many posts have is_pinned set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_pinned": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "How many transactions have is_flagged set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_flagged": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total total by merchant where type is debit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "debit"}}, {"$group": {"_id": "$merchant", "total": {"$sum": "$total"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum price bucketed by year using created_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$created_at"}, "maximum": {"$max": "$price"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest final_score in enrollments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"final_score": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "Top 5 lab_results by value", "output": {"type": "aggregate", "pipeline": [{"$sort": {"value": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many warehouses have is_climate_controlled set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_climate_controlled": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count shipments where condition is returned", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "returned"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get duration_sec from occurred_at ranging 2023-05-29T00:00:00Z to 2023-08-06T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2023-05-29T00:00:00Z"}, "$lte": {"$date": "2023-08-06T23:59:59Z"}}}, "projection": {"duration_sec": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show score between 2023-11-11T00:00:00Z and 2024-08-21T23:59:59Z", "output": {"type": "find", "filter": {"review_date": {"$gte": {"$date": "2023-11-11T00:00:00Z"}, "$lte": {"$date": "2024-08-21T23:59:59Z"}}}, "projection": {"score": 1, "review_date": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 accounts by current_balance", "output": {"type": "aggregate", "pipeline": [{"$sort": {"current_balance": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get capacity from opened_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"capacity": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "rating", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "type_class", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews where review_date exists", "output": {"type": "find", "filter": {"review_date": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count customers where tier is bronze", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "bronze"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "section", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum fee_amount bucketed by day using visit_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$visit_date"}, "maximum": {"$max": "$fee_amount"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 5 lab_results by value", "output": {"type": "aggregate", "pipeline": [{"$sort": {"value": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many posts have is_pinned set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_pinned": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all shipments where carrier is sample_carrier", "output": {"type": "find", "filter": {"carrier": "sample_carrier"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$dateToString", "$toDate"]}, "intent": "Group sensor_readings by unit and location, show average reading", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"unit": "$unit", "location": "$location"}, "average": {"$avg": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "division", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group employees by division and level, show maximum salary", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"division": "$division", "level": "$level"}, "maximum": {"$max": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total total_amount per status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "total": {"$sum": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find warehouses with area equal to sample_area", "output": {"type": "find", "filter": {"area": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show visit_date, team and is_emergency from patient_visits", "output": {"type": "find", "filter": {}, "projection": {"visit_date": 1, "team": 1, "is_emergency": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total value for test_type = some_value, grouped by current_status?", "output": {"type": "aggregate", "pipeline": [{"$match": {"test_type": "some_value"}}, {"$group": {"_id": "$current_status", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 posts by like_count", "output": {"type": "aggregate", "pipeline": [{"$sort": {"like_count": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get amount from txn_date ranging 2024-10-20T00:00:00Z to 2024-12-06T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2024-10-20T00:00:00Z"}, "$lte": {"$date": "2024-12-06T23:59:59Z"}}}, "projection": {"amount": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List shipments that have status set to returned", "output": {"type": "find", "filter": {"status": "returned"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "star_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many products have in_stock set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"in_stock": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all customers where latitude is greater than 100", "output": {"error": "Field 'latitude' does not exist in customers"}, "is_negative": true}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$dateToString", "$toDate"]}, "intent": "How many transactions have is_flagged set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_flagged": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "classification", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average review_score per classification?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$classification", "average": {"$avg": "$review_score"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of amount by merchant and type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"merchant": "$merchant", "type": "$type"}, "minimum": {"$min": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Top 3 accounts by balance", "output": {"type": "aggregate", "pipeline": [{"$sort": {"balance": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find device_logs with severity equal to info", "output": {"type": "find", "filter": {"severity": "info"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total lifetime_value for each tier", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$tier", "total": {"$sum": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total weight_kg for each carrier", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$carrier", "total": {"$sum": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "compensation", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "unit", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average compensation for unit = some_value, grouped by level?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "some_value"}}, {"$group": {"_id": "$level", "average": {"$avg": "$compensation"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show opened_date and capacity for warehouses where region is some_value", "output": {"type": "find", "filter": {"region": "some_value"}, "projection": {"opened_date": 1, "capacity": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of total grouped by merchant", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$merchant", "maximum": {"$max": "$total"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count shipments where status is returned", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "returned"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group user_activity by platform and action_type, show total session_length", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"platform": "$platform", "action_type": "$action_type"}, "total": {"$sum": "$session_length"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of capacity by day from opened_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_date"}, "total": {"$sum": "$capacity"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show user_activity where action_type is one of login, logout, share", "output": {"type": "find", "filter": {"action_type": {"$in": ["login", "logout", "share"]}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with course equal to sample_course", "output": {"type": "find", "filter": {"course": "sample_course"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count device_logs where severity is info", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "info"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "Calculate the maximum of grade grouped by course", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$course", "maximum": {"$max": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "label", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many products have in_stock set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"in_stock": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_readings where location is sample_location", "output": {"type": "find", "filter": {"location": "sample_location"}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all patient_visits where discount_pct is greater than 100", "output": {"error": "Field 'discount_pct' does not exist in patient_visits"}, "is_negative": true}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average reading by location where unit is rpm", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "rpm"}}, {"$group": {"_id": "$location", "average": {"$avg": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count shipments where condition is returned", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "returned"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find published_at and post_id in posts with topic = some_value", "output": {"type": "find", "filter": {"topic": "some_value"}, "projection": {"published_at": 1, "post_id": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "unit_cost", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show unit_cost between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"created_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"unit_cost": 1, "created_at": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get just product_id, name and in_stock from products", "output": {"type": "find", "filter": {}, "projection": {"product_id": 1, "name": 1, "in_stock": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "upvotes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum upvotes bucketed by day using published_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$published_at"}, "minimum": {"$min": "$upvotes"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get account_id from transactions with merchant = some_value", "output": {"type": "find", "filter": {"merchant": "some_value"}, "projection": {"account_id": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum lifetime_value per region?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "maximum": {"$max": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show likes between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"likes": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with type in [transfer, credit]", "output": {"type": "find", "filter": {"type": {"$in": ["transfer", "credit"]}}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of storage_limit by day from opened_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_date"}, "total": {"$sum": "$storage_limit"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum total_cost for status = shipped, grouped by channel?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "shipped"}}, {"$group": {"_id": "$channel", "minimum": {"$min": "$total_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show sensor_readings where unit is one of kwh, celsius", "output": {"type": "find", "filter": {"unit": {"$in": ["kwh", "celsius"]}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group enrollments by condition and course, show total course_grade", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"condition": "$condition", "course": "$course"}, "total": {"$sum": "$course_grade"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of capacity by day from opened_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_date"}, "total": {"$sum": "$capacity"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum likes bucketed by day using published_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$published_at"}, "minimum": {"$min": "$likes"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show accounts where account_type is one of investment, savings", "output": {"type": "find", "filter": {"account_type": {"$in": ["investment", "savings"]}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get lifetime_value and email of each customers", "output": {"type": "find", "filter": {}, "projection": {"lifetime_value": 1, "email": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group lab_results by test_type and condition, show maximum value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"test_type": "$test_type", "condition": "$condition"}, "maximum": {"$max": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show patient_id, value and collected_at from lab_results", "output": {"type": "find", "filter": {}, "projection": {"patient_id": 1, "value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count enrollments where is_auditing is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_auditing": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of session_length grouped by platform", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$platform", "total": {"$sum": "$session_length"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "evaluation", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "classification", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of evaluation grouped by classification", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$classification", "average": {"$avg": "$evaluation"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average value by test_type where status is pending", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "pending"}}, {"$group": {"_id": "$test_type", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with course equal to sample_course", "output": {"type": "find", "filter": {"course": "sample_course"}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 patient_visits by charge", "output": {"type": "aggregate", "pipeline": [{"$sort": {"charge": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get amount and type of each transactions", "output": {"type": "find", "filter": {}, "projection": {"amount": 1, "type": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all transactions where merchant is sample_merchant", "output": {"type": "find", "filter": {"merchant": "sample_merchant"}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get capacity from opened_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"capacity": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of sensor_value by day from timestamp", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$timestamp"}, "total": {"$sum": "$sensor_value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with status in [dropped, completed]", "output": {"type": "find", "filter": {"status": {"$in": ["dropped", "completed"]}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average salary for department = some_value, grouped by level?", "output": {"type": "aggregate", "pipeline": [{"$match": {"department": "some_value"}}, {"$group": {"_id": "$level", "average": {"$avg": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of sensor_value grouped by location", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$location", "minimum": {"$min": "$sensor_value"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of response_time_ms by day from logged_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$logged_at"}, "maximum": {"$max": "$response_time_ms"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "display_name", "type": "string", "role": "text", "description": "Product name"}, {"name": "cost", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find products where created_at exists", "output": {"type": "find", "filter": {"created_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of weight_kg by month from shipped_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$shipped_at"}, "average": {"$avg": "$weight_kg"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "unit_price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "segment", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum unit_price bucketed by year using created_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$created_at"}, "maximum": {"$max": "$unit_price"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List lab_results that have current_status set to reviewed", "output": {"type": "find", "filter": {"current_status": "reviewed"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group customers by region and tier, show maximum lifetime_value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"region": "$region", "tier": "$tier"}, "maximum": {"$max": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all products where discount_pct is greater than 100", "output": {"error": "Field 'discount_pct' does not exist in products"}, "is_negative": true}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 accounts by current_balance", "output": {"type": "aggregate", "pipeline": [{"$sort": {"current_balance": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find patient_visits with department equal to sample_department", "output": {"type": "find", "filter": {"department": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which orders have a channel?", "output": {"type": "find", "filter": {"channel": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average mass_kg by current_status where carrier is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"carrier": "some_value"}}, {"$group": {"_id": "$current_status", "average": {"$avg": "$mass_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipments with condition in [returned, delivered, processing]", "output": {"type": "find", "filter": {"condition": {"$in": ["returned", "delivered", "processing"]}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_sensor_values where location is sample_location", "output": {"type": "find", "filter": {"location": "sample_location"}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "max_capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find warehouses with territory equal to sample_territory", "output": {"type": "find", "filter": {"territory": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show response_time_ms between 2024-01-11T00:00:00Z and 2024-07-19T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2024-01-11T00:00:00Z"}, "$lte": {"$date": "2024-07-19T23:59:59Z"}}}, "projection": {"response_time_ms": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show sensor_sensor_values where unit is one of kwh, celsius", "output": {"type": "find", "filter": {"unit": {"$in": ["kwh", "celsius"]}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the account_id, balance and owner_name for all accounts", "output": {"type": "find", "filter": {}, "projection": {"account_id": 1, "balance": 1, "owner_name": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total quantity_value by merchant where type is debit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "debit"}}, {"$group": {"_id": "$merchant", "total": {"$sum": "$quantity_value"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get customer_value and email of each customers", "output": {"type": "find", "filter": {}, "projection": {"customer_value": 1, "email": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show accounts where account_type is one of investment, savings", "output": {"type": "find", "filter": {"account_type": {"$in": ["investment", "savings"]}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List products that have category set to sample_category", "output": {"type": "find", "filter": {"category": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest latency_ms in device_logs", "output": {"type": "aggregate", "pipeline": [{"$sort": {"latency_ms": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_readings have unit equal to kwh?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "kwh"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customers with area equal to sample_area", "output": {"type": "find", "filter": {"area": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_sensor_values have unit equal to kwh?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "kwh"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "unit", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total salary bucketed by year using hire_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$hire_date"}, "total": {"$sum": "$salary"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group shipments by carrier and state, show total gross_weight", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"carrier": "$carrier", "state": "$state"}, "total": {"$sum": "$gross_weight"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where cpu_usage is greater than 100", "output": {"error": "Field 'cpu_usage' does not exist in accounts"}, "is_negative": true}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest reply_time_ms in device_logs", "output": {"type": "aggregate", "pipeline": [{"$sort": {"reply_time_ms": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest processing_time in device_logs", "output": {"type": "aggregate", "pipeline": [{"$sort": {"processing_time": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count enrollments where is_auditing is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_auditing": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of quantity_value by day from txn_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$txn_date"}, "minimum": {"$min": "$quantity_value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "Show minimum weight_kg by status where carrier is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"carrier": "some_value"}}, {"$group": {"_id": "$status", "minimum": {"$min": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total order_total per state?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$state", "total": {"$sum": "$order_total"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$map", "$dateToString", "$toDate"]}, "intent": "Count lab_results where status is completed", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "completed"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "unit_cost", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "star_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get created_at from products with category = some_value", "output": {"type": "find", "filter": {"category": "some_value"}, "projection": {"created_at": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total charge per department?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$department", "total": {"$sum": "$charge"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customer_id and signup_date in customers with tier = gold", "output": {"type": "find", "filter": {"tier": "gold"}, "projection": {"customer_id": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of final_score grouped by condition", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "minimum": {"$min": "$final_score"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with course equal to sample_course", "output": {"type": "find", "filter": {"course": "sample_course"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum ltv for locale = some_value, grouped by tier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"locale": "some_value"}}, {"$group": {"_id": "$tier", "maximum": {"$max": "$ltv"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with type in [transfer, credit]", "output": {"type": "find", "filter": {"type": {"$in": ["transfer", "credit"]}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total available_funds bucketed by day using opened_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_at"}, "total": {"$sum": "$available_funds"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many warehouses have is_climate_controlled set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_climate_controlled": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the enrollment_id, is_auditing and enrolled_at for all enrollments", "output": {"type": "find", "filter": {}, "projection": {"enrollment_id": 1, "is_auditing": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with status in [dropped, completed]", "output": {"type": "find", "filter": {"status": {"$in": ["dropped", "completed"]}}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show severity and log_id from device_logs", "output": {"type": "find", "filter": {}, "projection": {"severity": 1, "log_id": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "Which device_logs have a severity?", "output": {"type": "find", "filter": {"severity": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "max_capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show opened_date and max_capacity for warehouses where territory is some_value", "output": {"type": "find", "filter": {"territory": "some_value"}, "projection": {"opened_date": 1, "max_capacity": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group employees by section and level, show maximum salary", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"section": "$section", "level": "$level"}, "maximum": {"$max": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get charge from visit_date ranging 2023-12-29T00:00:00Z to 2024-03-19T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2023-12-29T00:00:00Z"}, "$lte": {"$date": "2024-03-19T23:59:59Z"}}}, "projection": {"charge": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest duration_sec in user_activity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"duration_sec": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of elapsed_seconds grouped by platform", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$platform", "total": {"$sum": "$elapsed_seconds"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest final_score in enrollments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"final_score": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all products where ip_address is greater than 100", "output": {"error": "Field 'ip_address' does not exist in products"}, "is_negative": true}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum duration_sec for action_type = post, grouped by platform?", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "post"}}, {"$group": {"_id": "$platform", "minimum": {"$min": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest order_total in orders", "output": {"type": "aggregate", "pipeline": [{"$sort": {"order_total": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_value and timestamp in sensor_sensor_values with location = some_value", "output": {"type": "find", "filter": {"location": "some_value"}, "projection": {"sensor_value": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipments with status in [returned, delivered, processing]", "output": {"type": "find", "filter": {"status": {"$in": ["returned", "delivered", "processing"]}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group sensor_measurements by unit and location, show average measurement", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"unit": "$unit", "location": "$location"}, "average": {"$avg": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get fee_amount from visit_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"fee_amount": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get grade from enrolled_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"grade": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum reading per unit?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$unit", "minimum": {"$min": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show likes between 2024-08-19T00:00:00Z and 2025-02-15T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-08-19T00:00:00Z"}, "$lte": {"$date": "2025-02-15T23:59:59Z"}}}, "projection": {"likes": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of mass_kg by month from shipped_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$shipped_at"}, "average": {"$avg": "$mass_kg"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest rating in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"rating": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "division", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count employees where level is junior", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "junior"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find patient_visits where is_emergency exists", "output": {"type": "find", "filter": {"is_emergency": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$multiply", "$divide", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group orders by status and channel, show total total_amount", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"status": "$status", "channel": "$channel"}, "total": {"$sum": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "division", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all employees where division is sample_division", "output": {"type": "find", "filter": {"division": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of academic_score grouped by course", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$course", "maximum": {"$max": "$academic_score"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "segment", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 performance_reviews by score", "output": {"type": "aggregate", "pipeline": [{"$sort": {"score": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where type is transfer", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "transfer"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 patient_visits by bill_amount", "output": {"type": "aggregate", "pipeline": [{"$sort": {"bill_amount": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find measurement and timestamp in sensor_measurements with location = some_value", "output": {"type": "find", "filter": {"location": "some_value"}, "projection": {"measurement": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many transactions have is_flagged set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_flagged": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where account_type is savings", "output": {"type": "find", "filter": {"account_type": "savings"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count device_logs where severity is info", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "info"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get weight_kg from shipped_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"weight_kg": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_readings have is_anomaly set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_anomaly": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "title", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show salary between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"hire_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"salary": 1, "hire_date": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which sensor_readings have a is_anomaly?", "output": {"type": "find", "filter": {"is_anomaly": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipped_at and shipment_id in shipments with carrier = some_value", "output": {"type": "find", "filter": {"carrier": "some_value"}, "projection": {"shipped_at": 1, "shipment_id": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of mass_kg by month from shipped_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$shipped_at"}, "average": {"$avg": "$mass_kg"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customers with tier in [bronze, gold]", "output": {"type": "find", "filter": {"tier": {"$in": ["bronze", "gold"]}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find orders with status in [delivered, cancelled]", "output": {"type": "find", "filter": {"status": {"$in": ["delivered", "cancelled"]}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "annual_pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "division", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average annual_pay for division = some_value, grouped by level?", "output": {"type": "aggregate", "pipeline": [{"$match": {"division": "some_value"}}, {"$group": {"_id": "$level", "average": {"$avg": "$annual_pay"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all orders where status is pending", "output": {"type": "find", "filter": {"status": "pending"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "compensation", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of compensation grouped by department", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$department", "minimum": {"$min": "$compensation"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipments where status exists", "output": {"type": "find", "filter": {"status": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show order_id for orders where channel is some_value", "output": {"type": "find", "filter": {"channel": "some_value"}, "projection": {"order_id": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_sensor_values where location is sample_location", "output": {"type": "find", "filter": {"location": "sample_location"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum grade by course where condition is waitlisted", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "waitlisted"}}, {"$group": {"_id": "$course", "maximum": {"$max": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "Find customers with region equal to sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with type in [transfer, credit]", "output": {"type": "find", "filter": {"type": {"$in": ["transfer", "credit"]}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 5 lab_results by value", "output": {"type": "aggregate", "pipeline": [{"$sort": {"value": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "division", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which employees have a is_active?", "output": {"type": "find", "filter": {"is_active": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get amount and type of each transactions", "output": {"type": "find", "filter": {}, "projection": {"amount": 1, "type": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average likes per topic?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$topic", "average": {"$avg": "$likes"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group customers by locale and tier, show maximum customer_value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"locale": "$locale", "tier": "$tier"}, "maximum": {"$max": "$customer_value"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get grade from enrolled_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"grade": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get data_point from timestamp ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"data_point": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List user_activity that have action_type set to comment", "output": {"type": "find", "filter": {"action_type": "comment"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with status equal to dropped", "output": {"type": "find", "filter": {"status": "dropped"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customers with tier in [bronze, gold]", "output": {"type": "find", "filter": {"tier": {"$in": ["bronze", "gold"]}}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find device_logs with severity equal to info", "output": {"type": "find", "filter": {"severity": "info"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show severity and log_id from device_logs", "output": {"type": "find", "filter": {}, "projection": {"severity": 1, "log_id": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum lifetime_value for region = some_value, grouped by tier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$tier", "maximum": {"$max": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum duration_sec for action_type = post, grouped by platform?", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "post"}}, {"$group": {"_id": "$platform", "minimum": {"$min": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show visit_date, department and is_emergency from patient_visits", "output": {"type": "find", "filter": {}, "projection": {"visit_date": 1, "department": 1, "is_emergency": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of course_grade grouped by condition", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "minimum": {"$min": "$course_grade"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 warehouses by capacity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"capacity": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get course_grade from enrolled_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"course_grade": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest weight_kg in shipments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"weight_kg": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many warehouses have is_climate_controlled set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_climate_controlled": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest ltv in customers", "output": {"type": "aggregate", "pipeline": [{"$sort": {"ltv": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many transactions have is_flagged set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_flagged": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show account_id and opened_at for accounts where branch is some_value", "output": {"type": "find", "filter": {"branch": "some_value"}, "projection": {"account_id": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_readings where location is sample_location", "output": {"type": "find", "filter": {"location": "sample_location"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get status and total_amount of each orders", "output": {"type": "find", "filter": {}, "projection": {"status": 1, "total_amount": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 sensor_readings by reading", "output": {"type": "aggregate", "pipeline": [{"$sort": {"reading": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show severity and log_id from device_logs", "output": {"type": "find", "filter": {}, "projection": {"severity": 1, "log_id": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count customers where tier is bronze", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "bronze"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of course_grade grouped by course", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$course", "maximum": {"$max": "$course_grade"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_sensor_values where location is sample_location", "output": {"type": "find", "filter": {"location": "sample_location"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average sensor_value by location where unit is rpm", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "rpm"}}, {"$group": {"_id": "$location", "average": {"$avg": "$sensor_value"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest lifetime_value in customers", "output": {"type": "aggregate", "pipeline": [{"$sort": {"lifetime_value": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find patient_visits with team equal to sample_team", "output": {"type": "find", "filter": {"team": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_readings have unit equal to kwh?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "kwh"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all orders where status is pending", "output": {"type": "find", "filter": {"status": "pending"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find employees with level in [junior, senior, lead]", "output": {"type": "find", "filter": {"level": {"$in": ["junior", "senior", "lead"]}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show accounts where account_type is one of investment, savings", "output": {"type": "find", "filter": {"account_type": {"$in": ["investment", "savings"]}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipments where state exists", "output": {"type": "find", "filter": {"state": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "unit_price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "classification", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List products that have classification set to sample_classification", "output": {"type": "find", "filter": {"classification": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average wage for department = some_value, grouped by level?", "output": {"type": "aggregate", "pipeline": [{"$match": {"department": "some_value"}}, {"$group": {"_id": "$level", "average": {"$avg": "$wage"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all employees where api_key is greater than 100", "output": {"error": "Field 'api_key' does not exist in employees"}, "is_negative": true}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find published_at and post_id in posts with topic = some_value", "output": {"type": "find", "filter": {"topic": "some_value"}, "projection": {"published_at": 1, "post_id": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show result_id for lab_results where condition is completed", "output": {"type": "find", "filter": {"condition": "completed"}, "projection": {"result_id": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customers with tier in [bronze, gold]", "output": {"type": "find", "filter": {"tier": {"$in": ["bronze", "gold"]}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum weight_kg by status where carrier is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"carrier": "some_value"}}, {"$group": {"_id": "$status", "minimum": {"$min": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customers with tier in [bronze, gold]", "output": {"type": "find", "filter": {"tier": {"$in": ["bronze", "gold"]}}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the topic and content for all posts", "output": {"type": "find", "filter": {}, "projection": {"topic": 1, "content": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest latency_ms in device_logs", "output": {"type": "aggregate", "pipeline": [{"$sort": {"latency_ms": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which sensor_data_points have a is_anomaly?", "output": {"type": "find", "filter": {"is_anomaly": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "grade_score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show employee_id and grade_score for performance_reviews where category is some_value", "output": {"type": "find", "filter": {"category": "some_value"}, "projection": {"employee_id": 1, "grade_score": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average reactions per topic?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$topic", "average": {"$avg": "$reactions"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List orders that have channel set to sample_channel", "output": {"type": "find", "filter": {"channel": "sample_channel"}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum likes by topic where topic is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"topic": "some_value"}}, {"$group": {"_id": "$topic", "maximum": {"$max": "$likes"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where account_type is savings", "output": {"type": "find", "filter": {"account_type": "savings"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which lab_results have a value?", "output": {"type": "find", "filter": {"value": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show response_time_ms between 2023-08-03T00:00:00Z and 2023-12-12T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2023-08-03T00:00:00Z"}, "$lte": {"$date": "2023-12-12T23:59:59Z"}}}, "projection": {"response_time_ms": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest price in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"price": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with course equal to sample_course", "output": {"type": "find", "filter": {"course": "sample_course"}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews where review_date exists", "output": {"type": "find", "filter": {"review_date": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the account_id, current_balance and owner_name for all accounts", "output": {"type": "find", "filter": {}, "projection": {"account_id": 1, "current_balance": 1, "owner_name": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "Show total_amount between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total_amount": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest total_amount in orders", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total_amount": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find latency_ms and device_id in device_logs with severity = warning", "output": {"type": "find", "filter": {"severity": "warning"}, "projection": {"latency_ms": 1, "device_id": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find patient_visits where is_emergency exists", "output": {"type": "find", "filter": {"is_emergency": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group lab_results by test_type and condition, show maximum value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"test_type": "$test_type", "condition": "$condition"}, "maximum": {"$max": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "grand_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find orders with status in [delivered, cancelled]", "output": {"type": "find", "filter": {"status": {"$in": ["delivered", "cancelled"]}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show result_id for lab_results where condition is completed", "output": {"type": "find", "filter": {"condition": "completed"}, "projection": {"result_id": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with course equal to sample_course", "output": {"type": "find", "filter": {"course": "sample_course"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List lab_results that have state set to reviewed", "output": {"type": "find", "filter": {"state": "reviewed"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average available_funds by branch where account_type is checking", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "checking"}}, {"$group": {"_id": "$branch", "average": {"$avg": "$available_funds"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_readings where cholesterol is greater than 100", "output": {"error": "Field 'cholesterol' does not exist in sensor_readings"}, "is_negative": true}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum response_time_ms per severity?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$severity", "minimum": {"$min": "$response_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipments with status in [returned, delivered, processing]", "output": {"type": "find", "filter": {"status": {"$in": ["returned", "delivered", "processing"]}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List shipments that have state set to returned", "output": {"type": "find", "filter": {"state": "returned"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get location and unit of each sensor_measurements", "output": {"type": "find", "filter": {}, "projection": {"location": 1, "unit": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get total_spend from signup_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"signup_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total_spend": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all transactions where merchant is sample_merchant", "output": {"type": "find", "filter": {"merchant": "sample_merchant"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get final_score from enrolled_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"final_score": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show salary for employees where section is some_value", "output": {"type": "find", "filter": {"section": "some_value"}, "projection": {"salary": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show opened_date and capacity for warehouses where region is some_value", "output": {"type": "find", "filter": {"region": "some_value"}, "projection": {"opened_date": 1, "capacity": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of time_spent grouped by platform", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$platform", "total": {"$sum": "$time_spent"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest lifetime_value in customers", "output": {"type": "aggregate", "pipeline": [{"$sort": {"lifetime_value": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum customer_value per zone?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$zone", "maximum": {"$max": "$customer_value"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "visit_cost", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum visit_cost bucketed by day using visit_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$visit_date"}, "maximum": {"$max": "$visit_cost"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of quantity_value by merchant and type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"merchant": "$merchant", "type": "$type"}, "minimum": {"$min": "$quantity_value"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average capacity by region where region is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$region", "average": {"$avg": "$capacity"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "annual_pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show annual_pay for employees where department is some_value", "output": {"type": "find", "filter": {"department": "some_value"}, "projection": {"annual_pay": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count shipments where status is returned", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "returned"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show user_activity where action_type is one of login, logout, share", "output": {"type": "find", "filter": {"action_type": {"$in": ["login", "logout", "share"]}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum data_point by unit where location is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"location": "some_value"}}, {"$group": {"_id": "$unit", "minimum": {"$min": "$data_point"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total value per current_status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$current_status", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "section", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get visit_id from patient_visits with section = some_value", "output": {"type": "find", "filter": {"section": "some_value"}, "projection": {"visit_id": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "grand_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average grand_total bucketed by day using order_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$order_date"}, "average": {"$avg": "$grand_total"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total_amount between 2023-12-10T00:00:00Z and 2024-01-23T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2023-12-10T00:00:00Z"}, "$lte": {"$date": "2024-01-23T23:59:59Z"}}}, "projection": {"total_amount": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many employees have is_active set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_active": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show accounts where account_type is one of investment, savings", "output": {"type": "find", "filter": {"account_type": {"$in": ["investment", "savings"]}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with course equal to sample_course", "output": {"type": "find", "filter": {"course": "sample_course"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find data_point and timestamp in sensor_data_points with location = some_value", "output": {"type": "find", "filter": {"location": "some_value"}, "projection": {"data_point": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "group", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show score between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"review_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"score": 1, "review_date": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where type is transfer", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "transfer"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total duration_sec bucketed by day using occurred_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$occurred_at"}, "total": {"$sum": "$duration_sec"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "title", "type": "string", "role": "text", "description": "Product name"}, {"name": "price_per_item", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find products where created_at exists", "output": {"type": "find", "filter": {"created_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show mass_kg, carrier and is_fragile from shipments", "output": {"type": "find", "filter": {}, "projection": {"mass_kg": 1, "carrier": 1, "is_fragile": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average reading by location where unit is rpm", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "rpm"}}, {"$group": {"_id": "$location", "average": {"$avg": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total account_balance by account_type where branch is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "total": {"$sum": "$account_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average current_balance by branch where account_type is checking", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "checking"}}, {"$group": {"_id": "$branch", "average": {"$avg": "$current_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "team", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of salary grouped by team", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$team", "minimum": {"$min": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum elapsed_seconds for action_type = post, grouped by platform?", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "post"}}, {"$group": {"_id": "$platform", "minimum": {"$min": "$elapsed_seconds"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "unit", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find employees with level in [junior, senior, lead]", "output": {"type": "find", "filter": {"level": {"$in": ["junior", "senior", "lead"]}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "title", "type": "string", "role": "text", "description": "Product name"}, {"name": "unit_cost", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest rating in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"rating": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total lifetime_value for tier = bronze, grouped by region?", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "bronze"}}, {"$group": {"_id": "$region", "total": {"$sum": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "annual_pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "unit", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show annual_pay for employees where unit is some_value", "output": {"type": "find", "filter": {"unit": "some_value"}, "projection": {"annual_pay": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average measurement by location where unit is rpm", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "rpm"}}, {"$group": {"_id": "$location", "average": {"$avg": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "section", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find patient_visits where is_emergency exists", "output": {"type": "find", "filter": {"is_emergency": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of capacity grouped by area", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$area", "maximum": {"$max": "$capacity"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get lifetime_value and email of each customers", "output": {"type": "find", "filter": {}, "projection": {"lifetime_value": 1, "email": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get weight_kg from shipped_at ranging 2023-12-29T00:00:00Z to 2024-10-05T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2023-12-29T00:00:00Z"}, "$lte": {"$date": "2024-10-05T23:59:59Z"}}}, "projection": {"weight_kg": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum total_amount per channel?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$channel", "maximum": {"$max": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "segment", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List products that have segment set to sample_segment", "output": {"type": "find", "filter": {"segment": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group sensor_readings by unit and location, show average reading", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"unit": "$unit", "location": "$location"}, "average": {"$avg": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum total_value per channel?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$channel", "maximum": {"$max": "$total_value"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List posts that have topic set to sample_topic", "output": {"type": "find", "filter": {"topic": "sample_topic"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Get value from collected_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count shipments where status is returned", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "returned"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find reading and timestamp in sensor_readings with location = some_value", "output": {"type": "find", "filter": {"location": "some_value"}, "projection": {"reading": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "mark", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "type_class", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show type_class, reviewer and mark from performance_reviews", "output": {"type": "find", "filter": {}, "projection": {"type_class": 1, "reviewer": 1, "mark": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List posts that have topic set to sample_topic", "output": {"type": "find", "filter": {"topic": "sample_topic"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the enrollment_id, is_auditing and enrolled_at for all enrollments", "output": {"type": "find", "filter": {}, "projection": {"enrollment_id": 1, "is_auditing": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show processing_time between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"processing_time": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show salary between 2024-09-12T00:00:00Z and 2025-04-24T23:59:59Z", "output": {"type": "find", "filter": {"hire_date": {"$gte": {"$date": "2024-09-12T00:00:00Z"}, "$lte": {"$date": "2025-04-24T23:59:59Z"}}}, "projection": {"salary": 1, "hire_date": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show salary between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"hire_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"salary": 1, "hire_date": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "label", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average rating per category?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "average": {"$avg": "$rating"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many enrollments have state equal to active?", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "active"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipped_at and shipment_id in shipments with carrier = some_value", "output": {"type": "find", "filter": {"carrier": "some_value"}, "projection": {"shipped_at": 1, "shipment_id": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get location and unit of each sensor_readings", "output": {"type": "find", "filter": {}, "projection": {"location": 1, "unit": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "cost", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "type_class", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show cost between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"created_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"cost": 1, "created_at": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where branch is sample_branch", "output": {"type": "find", "filter": {"branch": "sample_branch"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show lab_results where condition is one of reviewed, completed", "output": {"type": "find", "filter": {"condition": {"$in": ["reviewed", "completed"]}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customer_id and signup_date in customers with tier = gold", "output": {"type": "find", "filter": {"tier": "gold"}, "projection": {"customer_id": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "mark", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show category, reviewer and mark from performance_reviews", "output": {"type": "find", "filter": {}, "projection": {"category": 1, "reviewer": 1, "mark": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show sensor_data_points where unit is one of kwh, celsius", "output": {"type": "find", "filter": {"unit": {"$in": ["kwh", "celsius"]}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all orders where status is pending", "output": {"type": "find", "filter": {"status": "pending"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions where type exists", "output": {"type": "find", "filter": {"type": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "upvotes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many posts have is_pinned set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_pinned": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get state and order_total of each orders", "output": {"type": "find", "filter": {}, "projection": {"state": 1, "order_total": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "mark", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "group", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total mark by group where group is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"group": "some_value"}}, {"$group": {"_id": "$group", "total": {"$sum": "$mark"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum elapsed_seconds by action_type where platform is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"platform": "some_value"}}, {"$group": {"_id": "$action_type", "minimum": {"$min": "$elapsed_seconds"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "grade_score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews where review_date exists", "output": {"type": "find", "filter": {"review_date": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "unit", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count patient_visits where is_emergency is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_emergency": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get created_at from products with category = some_value", "output": {"type": "find", "filter": {"category": "some_value"}, "projection": {"created_at": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with type equal to fee", "output": {"type": "find", "filter": {"type": "fee"}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "unit", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum charge for unit = some_value, grouped by unit?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "some_value"}}, {"$group": {"_id": "$unit", "minimum": {"$min": "$charge"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total balance bucketed by day using opened_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_at"}, "total": {"$sum": "$balance"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average total by type where merchant is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"merchant": "some_value"}}, {"$group": {"_id": "$type", "average": {"$avg": "$total"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show order_id for orders where channel is some_value", "output": {"type": "find", "filter": {"channel": "some_value"}, "projection": {"order_id": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List shipments that have status set to returned", "output": {"type": "find", "filter": {"status": "returned"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum weight_kg by status where carrier is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"carrier": "some_value"}}, {"$group": {"_id": "$status", "minimum": {"$min": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total balance bucketed by day using opened_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_at"}, "total": {"$sum": "$balance"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all posts where refund_amount is greater than 100", "output": {"error": "Field 'refund_amount' does not exist in posts"}, "is_negative": true}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum score bucketed by year using review_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$review_date"}, "maximum": {"$max": "$score"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum ltv per zone?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$zone", "maximum": {"$max": "$ltv"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 sensor_readings by reading", "output": {"type": "aggregate", "pipeline": [{"$sort": {"reading": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get available_funds from opened_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"available_funds": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum lifetime_value for area = some_value, grouped by tier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"area": "some_value"}}, {"$group": {"_id": "$tier", "maximum": {"$max": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show patient_id, value and collected_at from lab_results", "output": {"type": "find", "filter": {}, "projection": {"patient_id": 1, "value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many orders have status equal to pending?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "pending"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "avg_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of price grouped by category", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "total": {"$sum": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of total by day from txn_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$txn_date"}, "minimum": {"$min": "$total"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get visit_id from patient_visits with department = some_value", "output": {"type": "find", "filter": {"department": "some_value"}, "projection": {"visit_id": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List user_activity that have action_type set to comment", "output": {"type": "find", "filter": {"action_type": "comment"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get time_spent from occurred_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"time_spent": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum elapsed_seconds by action_type where platform is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"platform": "some_value"}}, {"$group": {"_id": "$action_type", "minimum": {"$min": "$elapsed_seconds"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions where type exists", "output": {"type": "find", "filter": {"type": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "grand_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many orders have condition equal to pending?", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "pending"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "title", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group employees by section and level, show maximum salary", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"section": "$section", "level": "$level"}, "maximum": {"$max": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total_amount between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total_amount": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest rating in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"rating": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many employees have is_active set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_active": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count device_logs where severity is info", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "info"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which customers have a tier?", "output": {"type": "find", "filter": {"tier": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "team", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 5 employees by salary", "output": {"type": "aggregate", "pipeline": [{"$sort": {"salary": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of salary grouped by department", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$department", "minimum": {"$min": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get reading from timestamp ranging 2023-01-04T00:00:00Z to 2023-03-30T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2023-01-04T00:00:00Z"}, "$lte": {"$date": "2023-03-30T23:59:59Z"}}}, "projection": {"reading": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "evaluation", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List performance_reviews that have category set to sample_category", "output": {"type": "find", "filter": {"category": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which employees have a is_active?", "output": {"type": "find", "filter": {"is_active": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which warehouses have a capacity?", "output": {"type": "find", "filter": {"capacity": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get charge from visit_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"charge": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find device_logs with severity equal to info", "output": {"type": "find", "filter": {"severity": "info"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where type is transfer", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "transfer"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the topic and content for all posts", "output": {"type": "find", "filter": {}, "projection": {"topic": 1, "content": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average weight_kg by status where carrier is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"carrier": "some_value"}}, {"$group": {"_id": "$status", "average": {"$avg": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total total_amount per status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "total": {"$sum": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of total grouped by type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$type", "average": {"$avg": "$total"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which posts have a topic?", "output": {"type": "find", "filter": {"topic": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest elapsed_seconds in user_activity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"elapsed_seconds": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "cost", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of cost grouped by category", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "total": {"$sum": "$cost"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with condition in [dropped, completed]", "output": {"type": "find", "filter": {"condition": {"$in": ["dropped", "completed"]}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many shipments have is_fragile set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_fragile": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipped_at and shipment_id in shipments with carrier = some_value", "output": {"type": "find", "filter": {"carrier": "some_value"}, "projection": {"shipped_at": 1, "shipment_id": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average wage for department = some_value, grouped by level?", "output": {"type": "aggregate", "pipeline": [{"$match": {"department": "some_value"}}, {"$group": {"_id": "$level", "average": {"$avg": "$wage"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count user_activity where action_type is post", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "post"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "upvotes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the topic and content for all posts", "output": {"type": "find", "filter": {}, "projection": {"topic": 1, "content": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Group enrollments by status and course, show total grade", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"status": "$status", "course": "$course"}, "total": {"$sum": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "visit_cost", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find patient_visits with team equal to sample_team", "output": {"type": "find", "filter": {"team": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group lab_results by test_type and status, show maximum value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"test_type": "$test_type", "status": "$status"}, "maximum": {"$max": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum total_value per channel?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$channel", "maximum": {"$max": "$total_value"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get region and warehouse_id of each warehouses", "output": {"type": "find", "filter": {}, "projection": {"region": 1, "warehouse_id": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get student_id from enrollments with current_status = active", "output": {"type": "find", "filter": {"current_status": "active"}, "projection": {"student_id": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all user_activity where tax_rate is greater than 100", "output": {"error": "Field 'tax_rate' does not exist in user_activity"}, "is_negative": true}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count user_activity where action_type is post", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "post"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all transactions where elevation is greater than 100", "output": {"error": "Field 'elevation' does not exist in transactions"}, "is_negative": true}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "max_capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average max_capacity by region where region is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$region", "average": {"$avg": "$max_capacity"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "section", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find patient_visits where is_emergency exists", "output": {"type": "find", "filter": {"is_emergency": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get amount and type of each transactions", "output": {"type": "find", "filter": {}, "projection": {"amount": 1, "type": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "type_class", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest price in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"price": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of amount grouped by merchant", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$merchant", "maximum": {"$max": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total_amount between 2024-06-22T00:00:00Z and 2024-12-29T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-06-22T00:00:00Z"}, "$lte": {"$date": "2024-12-29T23:59:59Z"}}}, "projection": {"total_amount": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity where action_type exists", "output": {"type": "find", "filter": {"action_type": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many enrollments have status equal to active?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "active"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get duration_sec from occurred_at ranging 2023-12-09T00:00:00Z to 2024-06-26T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2023-12-09T00:00:00Z"}, "$lte": {"$date": "2024-06-26T23:59:59Z"}}}, "projection": {"duration_sec": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get sum_amount and type of each transactions", "output": {"type": "find", "filter": {}, "projection": {"sum_amount": 1, "type": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total salary bucketed by year using hire_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$hire_date"}, "total": {"$sum": "$salary"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the occurred_at, activity_id and action_type for all user_activity", "output": {"type": "find", "filter": {}, "projection": {"occurred_at": 1, "activity_id": 1, "action_type": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "max_capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average max_capacity by locale where locale is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"locale": "some_value"}}, {"$group": {"_id": "$locale", "average": {"$avg": "$max_capacity"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of reply_time_ms by day from logged_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$logged_at"}, "maximum": {"$max": "$reply_time_ms"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many products have in_stock set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"in_stock": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total fee_amount per department?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$department", "total": {"$sum": "$fee_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum like_count by topic where topic is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"topic": "some_value"}}, {"$group": {"_id": "$topic", "maximum": {"$max": "$like_count"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total duration_sec bucketed by day using occurred_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$occurred_at"}, "total": {"$sum": "$duration_sec"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "type_class", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find products where created_at exists", "output": {"type": "find", "filter": {"created_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 accounts by balance", "output": {"type": "aggregate", "pipeline": [{"$sort": {"balance": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of capacity by day from opened_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_date"}, "total": {"$sum": "$capacity"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count accounts where account_type is investment", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "investment"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all transactions where elevation is greater than 100", "output": {"error": "Field 'elevation' does not exist in transactions"}, "is_negative": true}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group user_activity by platform and action_type, show total elapsed_seconds", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"platform": "$platform", "action_type": "$action_type"}, "total": {"$sum": "$elapsed_seconds"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "evaluation", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "classification", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show employee_id and evaluation for performance_reviews where classification is some_value", "output": {"type": "find", "filter": {"classification": "some_value"}, "projection": {"employee_id": 1, "evaluation": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest total_spend in customers", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total_spend": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get sum_amount and type of each transactions", "output": {"type": "find", "filter": {}, "projection": {"sum_amount": 1, "type": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "List the occurred_at, activity_id and action_type for all user_activity", "output": {"type": "find", "filter": {}, "projection": {"occurred_at": 1, "activity_id": 1, "action_type": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest amount in transactions", "output": {"type": "aggregate", "pipeline": [{"$sort": {"amount": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "total_slots", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many warehouses have is_climate_controlled set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_climate_controlled": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group customers by region and tier, show maximum customer_value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"region": "$region", "tier": "$tier"}, "maximum": {"$max": "$customer_value"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group orders by condition and channel, show total total_value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"condition": "$condition", "channel": "$channel"}, "total": {"$sum": "$total_value"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "Find enrollments with status in [dropped, completed]", "output": {"type": "find", "filter": {"status": {"$in": ["dropped", "completed"]}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all employees where department is sample_department", "output": {"type": "find", "filter": {"department": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average rating per category?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "average": {"$avg": "$rating"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average latency_ms by severity where severity is debug", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "debug"}}, {"$group": {"_id": "$severity", "average": {"$avg": "$latency_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average latency_ms by severity where severity is debug", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "debug"}}, {"$group": {"_id": "$severity", "average": {"$avg": "$latency_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total available_funds by account_type where branch is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "total": {"$sum": "$available_funds"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show user_activity where action_type is one of login, logout, share", "output": {"type": "find", "filter": {"action_type": {"$in": ["login", "logout", "share"]}}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "segment", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of score grouped by segment", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$segment", "average": {"$avg": "$score"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group user_activity by platform and action_type, show total duration_sec", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"platform": "$platform", "action_type": "$action_type"}, "total": {"$sum": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_data_points have unit equal to kwh?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "kwh"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest ltv in customers", "output": {"type": "aggregate", "pipeline": [{"$sort": {"ltv": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest weight_kg in shipments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"weight_kg": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum order_total for current_status = shipped, grouped by channel?", "output": {"type": "aggregate", "pipeline": [{"$match": {"current_status": "shipped"}}, {"$group": {"_id": "$channel", "minimum": {"$min": "$order_total"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List employees that have level set to senior", "output": {"type": "find", "filter": {"level": "senior"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average grade bucketed by year using enrolled_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$enrolled_at"}, "average": {"$avg": "$grade"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group enrollments by condition and course, show total final_score", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"condition": "$condition", "course": "$course"}, "total": {"$sum": "$final_score"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group customers by region and tier, show maximum lifetime_value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"region": "$region", "tier": "$tier"}, "maximum": {"$max": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show response_time_ms between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"response_time_ms": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group user_activity by platform and action_type, show total duration_sec", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"platform": "$platform", "action_type": "$action_type"}, "total": {"$sum": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "max_capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get region and warehouse_id of each warehouses", "output": {"type": "find", "filter": {}, "projection": {"region": 1, "warehouse_id": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which orders have a channel?", "output": {"type": "find", "filter": {"channel": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average gross_weight by condition where carrier is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"carrier": "some_value"}}, {"$group": {"_id": "$condition", "average": {"$avg": "$gross_weight"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average reply_time_ms by severity where severity is debug", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "debug"}}, {"$group": {"_id": "$severity", "average": {"$avg": "$reply_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "upvotes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the topic and content for all posts", "output": {"type": "find", "filter": {}, "projection": {"topic": 1, "content": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "division", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show visit_date, division and is_emergency from patient_visits", "output": {"type": "find", "filter": {}, "projection": {"visit_date": 1, "division": 1, "is_emergency": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "compensation", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List employees that have level set to senior", "output": {"type": "find", "filter": {"level": "senior"}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "max_capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average max_capacity by region where region is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$region", "average": {"$avg": "$max_capacity"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group lab_results by test_type and current_status, show maximum value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"test_type": "$test_type", "current_status": "$current_status"}, "maximum": {"$max": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find warehouses with zone equal to sample_zone", "output": {"type": "find", "filter": {"zone": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with platform equal to sample_platform", "output": {"type": "find", "filter": {"platform": "sample_platform"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "Find reading and timestamp in sensor_readings with location = some_value", "output": {"type": "find", "filter": {"location": "some_value"}, "projection": {"reading": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get status and total_amount of each orders", "output": {"type": "find", "filter": {}, "projection": {"status": 1, "total_amount": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find patient_visits where is_emergency exists", "output": {"type": "find", "filter": {"is_emergency": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest session_length in user_activity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"session_length": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get weight_kg from shipped_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"weight_kg": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average rating per category?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "average": {"$avg": "$rating"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all customers where tier is platinum", "output": {"type": "find", "filter": {"tier": "platinum"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show weight_kg, carrier and is_fragile from shipments", "output": {"type": "find", "filter": {}, "projection": {"weight_kg": 1, "carrier": 1, "is_fragile": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total balance bucketed by day using opened_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_at"}, "total": {"$sum": "$balance"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of account_balance grouped by account_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$account_type", "total": {"$sum": "$account_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_sensor_values where unit is fahrenheit", "output": {"type": "find", "filter": {"unit": "fahrenheit"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show price between 2024-03-10T00:00:00Z and 2024-05-05T23:59:59Z", "output": {"type": "find", "filter": {"created_at": {"$gte": {"$date": "2024-03-10T00:00:00Z"}, "$lte": {"$date": "2024-05-05T23:59:59Z"}}}, "projection": {"price": 1, "created_at": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "annual_pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count employees where level is junior", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "junior"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum lifetime_value for territory = some_value, grouped by tier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"territory": "some_value"}}, {"$group": {"_id": "$tier", "maximum": {"$max": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of lifetime_value by day from signup_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$signup_date"}, "maximum": {"$max": "$lifetime_value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count device_logs where severity is info", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "info"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest elapsed_seconds in user_activity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"elapsed_seconds": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average response_time_ms by severity where severity is debug", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "debug"}}, {"$group": {"_id": "$severity", "average": {"$avg": "$response_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all transactions where merchant is sample_merchant", "output": {"type": "find", "filter": {"merchant": "sample_merchant"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group sensor_measurements by unit and location, show average measurement", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"unit": "$unit", "location": "$location"}, "average": {"$avg": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customer_id and signup_date in customers with tier = gold", "output": {"type": "find", "filter": {"tier": "gold"}, "projection": {"customer_id": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest shipping_weight in shipments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"shipping_weight": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_readings where session_token is greater than 100", "output": {"error": "Field 'session_token' does not exist in sensor_readings"}, "is_negative": true}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group sensor_sensor_values by unit and location, show average sensor_value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"unit": "$unit", "location": "$location"}, "average": {"$avg": "$sensor_value"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "What is the minimum response_time_ms per severity?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$severity", "minimum": {"$min": "$response_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show order_total between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"order_total": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of total by merchant and type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"merchant": "$merchant", "type": "$type"}, "minimum": {"$min": "$total"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum measurement by unit where location is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"location": "some_value"}}, {"$group": {"_id": "$unit", "minimum": {"$min": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of total grouped by type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$type", "average": {"$avg": "$total"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions where type exists", "output": {"type": "find", "filter": {"type": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show patient_id, value and collected_at from lab_results", "output": {"type": "find", "filter": {}, "projection": {"patient_id": 1, "value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of academic_score grouped by course", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$course", "maximum": {"$max": "$academic_score"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many employees have is_active set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_active": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group sensor_sensor_values by unit and location, show average sensor_value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"unit": "$unit", "location": "$location"}, "average": {"$avg": "$sensor_value"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_sensor_values have is_anomaly set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_anomaly": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "classification", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum score bucketed by year using review_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$review_date"}, "maximum": {"$max": "$score"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show account_id and opened_at for accounts where branch is some_value", "output": {"type": "find", "filter": {"branch": "some_value"}, "projection": {"account_id": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many orders have current_status equal to pending?", "output": {"type": "aggregate", "pipeline": [{"$match": {"current_status": "pending"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show likes between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"likes": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "Find customers with tier in [bronze, gold]", "output": {"type": "find", "filter": {"tier": {"$in": ["bronze", "gold"]}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average weight_kg by status where carrier is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"carrier": "some_value"}}, {"$group": {"_id": "$status", "average": {"$avg": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the occurred_at, activity_id and action_type for all user_activity", "output": {"type": "find", "filter": {}, "projection": {"occurred_at": 1, "activity_id": 1, "action_type": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "full_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average pay per level?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$level", "average": {"$avg": "$pay"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total value for test_type = some_value, grouped by current_status?", "output": {"type": "aggregate", "pipeline": [{"$match": {"test_type": "some_value"}}, {"$group": {"_id": "$current_status", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get course_grade from enrolled_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"course_grade": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total pay by department where level is senior", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "senior"}}, {"$group": {"_id": "$department", "total": {"$sum": "$pay"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group user_activity by platform and action_type, show total session_length", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"platform": "$platform", "action_type": "$action_type"}, "total": {"$sum": "$session_length"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_measurements where location is sample_location", "output": {"type": "find", "filter": {"location": "sample_location"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total salary bucketed by year using hire_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$hire_date"}, "total": {"$sum": "$salary"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which lab_results have a value?", "output": {"type": "find", "filter": {"value": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of quantity_value grouped by type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$type", "average": {"$avg": "$quantity_value"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total salary by department where level is senior", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "senior"}}, {"$group": {"_id": "$department", "total": {"$sum": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total shipping_weight per current_status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$current_status", "total": {"$sum": "$shipping_weight"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total elapsed_seconds bucketed by day using occurred_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$occurred_at"}, "total": {"$sum": "$elapsed_seconds"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get storage_limit from opened_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"storage_limit": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total weight_kg per status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "total": {"$sum": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipments where state exists", "output": {"type": "find", "filter": {"state": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of reading grouped by location", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$location", "minimum": {"$min": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum academic_score by course where state is waitlisted", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "waitlisted"}}, {"$group": {"_id": "$course", "maximum": {"$max": "$academic_score"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count shipments where status is returned", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "returned"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List performance_reviews that have category set to sample_category", "output": {"type": "find", "filter": {"category": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group user_activity by platform and action_type, show total session_length", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"platform": "$platform", "action_type": "$action_type"}, "total": {"$sum": "$session_length"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum reactions by topic where topic is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"topic": "some_value"}}, {"$group": {"_id": "$topic", "maximum": {"$max": "$reactions"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customer_id and signup_date in customers with tier = gold", "output": {"type": "find", "filter": {"tier": "gold"}, "projection": {"customer_id": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 sensor_sensor_values by sensor_value", "output": {"type": "aggregate", "pipeline": [{"$sort": {"sensor_value": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average review_score per category?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "average": {"$avg": "$review_score"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which device_logs have a severity?", "output": {"type": "find", "filter": {"severity": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of amount grouped by type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$type", "average": {"$avg": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with type in [transfer, credit]", "output": {"type": "find", "filter": {"type": {"$in": ["transfer", "credit"]}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get value from collected_at ranging 2023-06-07T00:00:00Z to 2023-12-22T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2023-06-07T00:00:00Z"}, "$lte": {"$date": "2023-12-22T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipments where current_status exists", "output": {"type": "find", "filter": {"current_status": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total score by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "total": {"$sum": "$score"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all orders where condition is pending", "output": {"type": "find", "filter": {"condition": "pending"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group lab_results by test_type and state, show maximum value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"test_type": "$test_type", "state": "$state"}, "maximum": {"$max": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show thumbs_up between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"thumbs_up": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customer_id and signup_date in customers with tier = gold", "output": {"type": "find", "filter": {"tier": "gold"}, "projection": {"customer_id": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which customers have a tier?", "output": {"type": "find", "filter": {"tier": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "rating", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "group", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum rating bucketed by year using review_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$review_date"}, "maximum": {"$max": "$rating"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of total by day from txn_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$txn_date"}, "minimum": {"$min": "$total"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total amount by merchant where type is debit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "debit"}}, {"$group": {"_id": "$merchant", "total": {"$sum": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 patient_visits by charge", "output": {"type": "aggregate", "pipeline": [{"$sort": {"charge": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_readings have unit equal to kwh?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "kwh"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with status equal to dropped", "output": {"type": "find", "filter": {"status": "dropped"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of final_score grouped by course", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$course", "maximum": {"$max": "$final_score"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average value by test_type where state is pending", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "pending"}}, {"$group": {"_id": "$test_type", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "unit_price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "segment", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get created_at from products with segment = some_value", "output": {"type": "find", "filter": {"segment": "some_value"}, "projection": {"created_at": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with condition in [dropped, completed]", "output": {"type": "find", "filter": {"condition": {"$in": ["dropped", "completed"]}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get measurement from timestamp ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"measurement": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity where action_type exists", "output": {"type": "find", "filter": {"action_type": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total mass_kg per condition?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "total": {"$sum": "$mass_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customers with area equal to sample_area", "output": {"type": "find", "filter": {"area": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where branch is sample_branch", "output": {"type": "find", "filter": {"branch": "sample_branch"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest customer_value in customers", "output": {"type": "aggregate", "pipeline": [{"$sort": {"customer_value": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get just product_id, name and in_stock from products", "output": {"type": "find", "filter": {}, "projection": {"product_id": 1, "name": 1, "in_stock": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum total_amount per channel?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$channel", "maximum": {"$max": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the account_id, balance and owner_name for all accounts", "output": {"type": "find", "filter": {}, "projection": {"account_id": 1, "balance": 1, "owner_name": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show price between 2024-05-23T00:00:00Z and 2025-03-20T23:59:59Z", "output": {"type": "find", "filter": {"created_at": {"$gte": {"$date": "2024-05-23T00:00:00Z"}, "$lte": {"$date": "2025-03-20T23:59:59Z"}}}, "projection": {"price": 1, "created_at": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of data_point by day from timestamp", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$timestamp"}, "total": {"$sum": "$data_point"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "rating", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "group", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show rating between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"review_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"rating": 1, "review_date": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "classification", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show classification, reviewer and score from performance_reviews", "output": {"type": "find", "filter": {}, "projection": {"classification": 1, "reviewer": 1, "score": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average total by type where merchant is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"merchant": "some_value"}}, {"$group": {"_id": "$type", "average": {"$avg": "$total"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where type is transfer", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "transfer"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$dateToString", "$toDate"]}, "intent": "Which sensor_readings have a is_anomaly?", "output": {"type": "find", "filter": {"is_anomaly": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipped_at and shipment_id in shipments with carrier = some_value", "output": {"type": "find", "filter": {"carrier": "some_value"}, "projection": {"shipped_at": 1, "shipment_id": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show sensor_measurements where unit is one of kwh, celsius", "output": {"type": "find", "filter": {"unit": {"$in": ["kwh", "celsius"]}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show lab_results where state is one of reviewed, completed", "output": {"type": "find", "filter": {"state": {"$in": ["reviewed", "completed"]}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which lab_results have a value?", "output": {"type": "find", "filter": {"value": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show likes between 2023-02-20T00:00:00Z and 2023-06-25T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2023-02-20T00:00:00Z"}, "$lte": {"$date": "2023-06-25T23:59:59Z"}}}, "projection": {"likes": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with condition equal to dropped", "output": {"type": "find", "filter": {"condition": "dropped"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List lab_results that have current_status set to reviewed", "output": {"type": "find", "filter": {"current_status": "reviewed"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Which lab_results have a value?", "output": {"type": "find", "filter": {"value": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show account_id and opened_at for accounts where branch is some_value", "output": {"type": "find", "filter": {"branch": "some_value"}, "projection": {"account_id": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "Get student_id from enrollments with status = active", "output": {"type": "find", "filter": {"status": "active"}, "projection": {"student_id": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set"], "expression_operators": ["$sum", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of amount by day from txn_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$txn_date"}, "minimum": {"$min": "$amount"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which lab_results have a value?", "output": {"type": "find", "filter": {"value": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all enrollments where cpu_usage is greater than 100", "output": {"error": "Field 'cpu_usage' does not exist in enrollments"}, "is_negative": true}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum price bucketed by year using created_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$created_at"}, "maximum": {"$max": "$price"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total account_balance by account_type where branch is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "total": {"$sum": "$account_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get grade from enrolled_at ranging 2024-02-07T00:00:00Z to 2025-01-28T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-02-07T00:00:00Z"}, "$lte": {"$date": "2025-01-28T23:59:59Z"}}}, "projection": {"grade": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "section", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show visit_date, section and is_emergency from patient_visits", "output": {"type": "find", "filter": {}, "projection": {"visit_date": 1, "section": 1, "is_emergency": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "Count accounts where account_type is investment", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "investment"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average grade bucketed by year using enrolled_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$enrolled_at"}, "average": {"$avg": "$grade"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get lifetime_value and email of each customers", "output": {"type": "find", "filter": {}, "projection": {"lifetime_value": 1, "email": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average like_count per topic?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$topic", "average": {"$avg": "$like_count"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "unit_cost", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest rating in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"rating": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which lab_results have a value?", "output": {"type": "find", "filter": {"value": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get location and unit of each sensor_readings", "output": {"type": "find", "filter": {}, "projection": {"location": 1, "unit": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get value from collected_at ranging 2023-09-26T00:00:00Z to 2023-12-27T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2023-09-26T00:00:00Z"}, "$lte": {"$date": "2023-12-27T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show latency_ms between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"latency_ms": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of capacity by day from opened_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_date"}, "total": {"$sum": "$capacity"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which employees have a is_active?", "output": {"type": "find", "filter": {"is_active": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Group accounts by account_type and branch, show minimum balance", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"account_type": "$account_type", "branch": "$branch"}, "minimum": {"$min": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show like_count between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"like_count": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get charge from visit_date ranging 2024-09-07T00:00:00Z to 2025-08-28T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-09-07T00:00:00Z"}, "$lte": {"$date": "2025-08-28T23:59:59Z"}}}, "projection": {"charge": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group shipments by carrier and status, show total shipping_weight", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"carrier": "$carrier", "status": "$status"}, "total": {"$sum": "$shipping_weight"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total account_balance bucketed by day using opened_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_at"}, "total": {"$sum": "$account_balance"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Show the 3 highest grade in enrollments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"grade": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of gross_weight by month from shipped_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$shipped_at"}, "average": {"$avg": "$gross_weight"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all shipments where carrier is sample_carrier", "output": {"type": "find", "filter": {"carrier": "sample_carrier"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with type equal to fee", "output": {"type": "find", "filter": {"type": "fee"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show patient_id, value and collected_at from lab_results", "output": {"type": "find", "filter": {}, "projection": {"patient_id": 1, "value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average reading by location where unit is rpm", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "rpm"}}, {"$group": {"_id": "$location", "average": {"$avg": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of value grouped by type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$type", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "title", "type": "string", "role": "text", "description": "Full name"}, {"name": "pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 5 employees by pay", "output": {"type": "aggregate", "pipeline": [{"$sort": {"pay": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "upvotes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum upvotes by topic where topic is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"topic": "some_value"}}, {"$group": {"_id": "$topic", "maximum": {"$max": "$upvotes"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "Count device_logs where severity is info", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "info"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show user_activity where action_type is one of login, logout, share", "output": {"type": "find", "filter": {"action_type": {"$in": ["login", "logout", "share"]}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total lifetime_value for tier = bronze, grouped by zone?", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "bronze"}}, {"$group": {"_id": "$zone", "total": {"$sum": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of measurement by day from timestamp", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$timestamp"}, "total": {"$sum": "$measurement"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Group accounts by account_type and branch, show minimum balance", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"account_type": "$account_type", "branch": "$branch"}, "minimum": {"$min": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 warehouses by capacity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"capacity": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "max_capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get area and warehouse_id of each warehouses", "output": {"type": "find", "filter": {}, "projection": {"area": 1, "warehouse_id": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of measurement by day from timestamp", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$timestamp"}, "total": {"$sum": "$measurement"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total value for each test_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$test_type", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many enrollments have condition equal to active?", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "active"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "division", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 patient_visits by charge", "output": {"type": "aggregate", "pipeline": [{"$sort": {"charge": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average response_time_ms by severity where severity is debug", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "debug"}}, {"$group": {"_id": "$severity", "average": {"$avg": "$response_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which employees have a is_active?", "output": {"type": "find", "filter": {"is_active": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count accounts where account_type is investment", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "investment"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_measurements where unit is fahrenheit", "output": {"type": "find", "filter": {"unit": "fahrenheit"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get value from collected_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List orders that have channel set to sample_channel", "output": {"type": "find", "filter": {"channel": "sample_channel"}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many posts have is_pinned set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_pinned": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count enrollments where is_auditing is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_auditing": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set"], "expression_operators": ["$sum", "$avg", "$min", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get value from collected_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "team", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all employees where team is sample_team", "output": {"type": "find", "filter": {"team": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average total_amount for channel = some_value, grouped by status?", "output": {"type": "aggregate", "pipeline": [{"$match": {"channel": "some_value"}}, {"$group": {"_id": "$status", "average": {"$avg": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get lifetime_value from signup_date ranging 2024-04-07T00:00:00Z to 2024-10-22T23:59:59Z", "output": {"type": "find", "filter": {"signup_date": {"$gte": {"$date": "2024-04-07T00:00:00Z"}, "$lte": {"$date": "2024-10-22T23:59:59Z"}}}, "projection": {"lifetime_value": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average measurement by location where unit is rpm", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "rpm"}}, {"$group": {"_id": "$location", "average": {"$avg": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average likes per topic?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$topic", "average": {"$avg": "$likes"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with platform equal to sample_platform", "output": {"type": "find", "filter": {"platform": "sample_platform"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average total_amount bucketed by day using order_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$order_date"}, "average": {"$avg": "$total_amount"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest price in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"price": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "visit_cost", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "section", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count patient_visits where is_emergency is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_emergency": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of lifetime_value by day from signup_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$signup_date"}, "maximum": {"$max": "$lifetime_value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of measurement grouped by location", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$location", "minimum": {"$min": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count accounts where account_type is investment", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "investment"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "unit", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum fee_amount for unit = some_value, grouped by unit?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "some_value"}}, {"$group": {"_id": "$unit", "minimum": {"$min": "$fee_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest amount in transactions", "output": {"type": "aggregate", "pipeline": [{"$sort": {"amount": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get quantity_value and type of each transactions", "output": {"type": "find", "filter": {}, "projection": {"quantity_value": 1, "type": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "visit_cost", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find patient_visits with team equal to sample_team", "output": {"type": "find", "filter": {"team": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions where type exists", "output": {"type": "find", "filter": {"type": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "group", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total score by group where group is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"group": "some_value"}}, {"$group": {"_id": "$group", "total": {"$sum": "$score"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with type in [transfer, credit]", "output": {"type": "find", "filter": {"type": {"$in": ["transfer", "credit"]}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many products have in_stock set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"in_stock": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "Which posts have a topic?", "output": {"type": "find", "filter": {"topic": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get total from txn_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all lab_results where test_type is sample_test_type", "output": {"type": "find", "filter": {"test_type": "sample_test_type"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 5 employees by salary", "output": {"type": "aggregate", "pipeline": [{"$sort": {"salary": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of sum_amount grouped by merchant", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$merchant", "maximum": {"$max": "$sum_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total value per status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show weight_kg, carrier and is_fragile from shipments", "output": {"type": "find", "filter": {}, "projection": {"weight_kg": 1, "carrier": 1, "is_fragile": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "display_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "division", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group employees by division and level, show maximum salary", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"division": "$division", "level": "$level"}, "maximum": {"$max": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group accounts by account_type and branch, show minimum current_balance", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"account_type": "$account_type", "branch": "$branch"}, "minimum": {"$min": "$current_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest final_score in enrollments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"final_score": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "rating", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List performance_reviews that have category set to sample_category", "output": {"type": "find", "filter": {"category": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "display_name", "type": "string", "role": "text", "description": "Product name"}, {"name": "cost", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find products where created_at exists", "output": {"type": "find", "filter": {"created_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest weight_kg in shipments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"weight_kg": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum session_length for action_type = post, grouped by platform?", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "post"}}, {"$group": {"_id": "$platform", "minimum": {"$min": "$session_length"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get student_id from enrollments with status = active", "output": {"type": "find", "filter": {"status": "active"}, "projection": {"student_id": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with type equal to fee", "output": {"type": "find", "filter": {"type": "fee"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show latency_ms between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"latency_ms": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with platform equal to sample_platform", "output": {"type": "find", "filter": {"platform": "sample_platform"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average order_total for channel = some_value, grouped by condition?", "output": {"type": "aggregate", "pipeline": [{"$match": {"channel": "some_value"}}, {"$group": {"_id": "$condition", "average": {"$avg": "$order_total"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count accounts where account_type is investment", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "investment"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show opened_date and storage_limit for warehouses where locale is some_value", "output": {"type": "find", "filter": {"locale": "some_value"}, "projection": {"opened_date": 1, "storage_limit": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "grand_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum grand_total per channel?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$channel", "maximum": {"$max": "$grand_total"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of value by year from collected_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$collected_at"}, "minimum": {"$min": "$value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group accounts by account_type and branch, show minimum current_balance", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"account_type": "$account_type", "branch": "$branch"}, "minimum": {"$min": "$current_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest academic_score in enrollments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"academic_score": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group shipments by carrier and state, show total mass_kg", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"carrier": "$carrier", "state": "$state"}, "total": {"$sum": "$mass_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show accounts where account_type is one of investment, savings", "output": {"type": "find", "filter": {"account_type": {"$in": ["investment", "savings"]}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the occurred_at, activity_id and action_type for all user_activity", "output": {"type": "find", "filter": {}, "projection": {"occurred_at": 1, "activity_id": 1, "action_type": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average salary per level?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$level", "average": {"$avg": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List products that have category set to sample_category", "output": {"type": "find", "filter": {"category": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get customer_value and email of each customers", "output": {"type": "find", "filter": {}, "projection": {"customer_value": 1, "email": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get measurement from timestamp ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"measurement": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price_per_item", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "star_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show price_per_item between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"created_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"price_per_item": 1, "created_at": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count customers where tier is bronze", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "bronze"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show account_id and opened_at for accounts where branch is some_value", "output": {"type": "find", "filter": {"branch": "some_value"}, "projection": {"account_id": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with platform equal to sample_platform", "output": {"type": "find", "filter": {"platform": "sample_platform"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of total_spend by day from signup_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$signup_date"}, "maximum": {"$max": "$total_spend"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "upvotes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average upvotes per topic?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$topic", "average": {"$avg": "$upvotes"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum reactions bucketed by day using published_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$published_at"}, "minimum": {"$min": "$reactions"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 sensor_measurements by measurement", "output": {"type": "aggregate", "pipeline": [{"$sort": {"measurement": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average weight_kg by state where carrier is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"carrier": "some_value"}}, {"$group": {"_id": "$state", "average": {"$avg": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List orders that have channel set to sample_channel", "output": {"type": "find", "filter": {"channel": "sample_channel"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find orders with status in [delivered, cancelled]", "output": {"type": "find", "filter": {"status": {"$in": ["delivered", "cancelled"]}}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "type_class", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 performance_reviews by score", "output": {"type": "aggregate", "pipeline": [{"$sort": {"score": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where branch is sample_branch", "output": {"type": "find", "filter": {"branch": "sample_branch"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get duration_sec from occurred_at ranging 2023-06-09T00:00:00Z to 2024-03-08T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2023-06-09T00:00:00Z"}, "$lte": {"$date": "2024-03-08T23:59:59Z"}}}, "projection": {"duration_sec": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "group", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum score bucketed by year using review_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$review_date"}, "maximum": {"$max": "$score"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total value for each test_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$test_type", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show order_id for orders where channel is some_value", "output": {"type": "find", "filter": {"channel": "some_value"}, "projection": {"order_id": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions where type exists", "output": {"type": "find", "filter": {"type": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "title", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "minimum": {"$min": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the account_id, balance and owner_name for all accounts", "output": {"type": "find", "filter": {}, "projection": {"account_id": 1, "balance": 1, "owner_name": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find device_logs with severity in [warning, info]", "output": {"type": "find", "filter": {"severity": {"$in": ["warning", "info"]}}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average capacity by region where region is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$region", "average": {"$avg": "$capacity"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find response_time_ms and device_id in device_logs with severity = warning", "output": {"type": "find", "filter": {"severity": "warning"}, "projection": {"response_time_ms": 1, "device_id": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total time_spent for each action_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$action_type", "total": {"$sum": "$time_spent"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "mark", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show mark between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"review_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"mark": 1, "review_date": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 warehouses by capacity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"capacity": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show category, reviewer and score from performance_reviews", "output": {"type": "find", "filter": {}, "projection": {"category": 1, "reviewer": 1, "score": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get location and unit of each sensor_sensor_values", "output": {"type": "find", "filter": {}, "projection": {"location": 1, "unit": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get capacity from opened_date ranging 2024-10-01T00:00:00Z to 2025-01-31T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-10-01T00:00:00Z"}, "$lte": {"$date": "2025-01-31T23:59:59Z"}}}, "projection": {"capacity": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find response_time_ms and device_id in device_logs with severity = warning", "output": {"type": "find", "filter": {"severity": "warning"}, "projection": {"response_time_ms": 1, "device_id": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 accounts by available_funds", "output": {"type": "aggregate", "pipeline": [{"$sort": {"available_funds": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "max_capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many warehouses have is_climate_controlled set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_climate_controlled": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "label", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "type_class", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total price by type_class where type_class is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"type_class": "some_value"}}, {"$group": {"_id": "$type_class", "total": {"$sum": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which warehouses have a capacity?", "output": {"type": "find", "filter": {"capacity": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of capacity grouped by area", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$area", "maximum": {"$max": "$capacity"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count lab_results where current_status is completed", "output": {"type": "aggregate", "pipeline": [{"$match": {"current_status": "completed"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipments where current_status exists", "output": {"type": "find", "filter": {"current_status": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find reading and timestamp in sensor_readings with location = some_value", "output": {"type": "find", "filter": {"location": "some_value"}, "projection": {"reading": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total time_spent bucketed by day using occurred_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$occurred_at"}, "total": {"$sum": "$time_spent"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_readings where discount_pct is greater than 100", "output": {"error": "Field 'discount_pct' does not exist in sensor_readings"}, "is_negative": true}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get customer_value and email of each customers", "output": {"type": "find", "filter": {}, "projection": {"customer_value": 1, "email": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show salary for employees where section is some_value", "output": {"type": "find", "filter": {"section": "some_value"}, "projection": {"salary": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments where enrolled_at exists", "output": {"type": "find", "filter": {"enrolled_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with state equal to dropped", "output": {"type": "find", "filter": {"state": "dropped"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "type_class", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "avg_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get just product_id, name and in_stock from products", "output": {"type": "find", "filter": {}, "projection": {"product_id": 1, "name": 1, "in_stock": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of value by year from collected_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$collected_at"}, "minimum": {"$min": "$value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List orders that have channel set to sample_channel", "output": {"type": "find", "filter": {"channel": "sample_channel"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count customers where tier is bronze", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "bronze"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "title", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the title and level for all employees", "output": {"type": "find", "filter": {}, "projection": {"title": 1, "level": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get value from collected_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which device_logs have a severity?", "output": {"type": "find", "filter": {"severity": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show reactions between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"reactions": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get reading from timestamp ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"reading": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find accounts where branch exists", "output": {"type": "find", "filter": {"branch": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions where type exists", "output": {"type": "find", "filter": {"type": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total value per state?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$state", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get amount from txn_date ranging 2023-11-26T00:00:00Z to 2024-08-02T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2023-11-26T00:00:00Z"}, "$lte": {"$date": "2024-08-02T23:59:59Z"}}}, "projection": {"amount": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get bill_amount from visit_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"bill_amount": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where account_type is savings", "output": {"type": "find", "filter": {"account_type": "savings"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all transactions where merchant is sample_merchant", "output": {"type": "find", "filter": {"merchant": "sample_merchant"}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "grade_score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "type_class", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews where review_date exists", "output": {"type": "find", "filter": {"review_date": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which sensor_sensor_values have a is_anomaly?", "output": {"type": "find", "filter": {"is_anomaly": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List shipments that have state set to returned", "output": {"type": "find", "filter": {"state": "returned"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average value by test_type where state is pending", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "pending"}}, {"$group": {"_id": "$test_type", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total value for each test_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$test_type", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "Show total_amount between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total_amount": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with status equal to dropped", "output": {"type": "find", "filter": {"status": "dropped"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 accounts by balance", "output": {"type": "aggregate", "pipeline": [{"$sort": {"balance": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "total_slots", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many warehouses have is_climate_controlled set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_climate_controlled": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all orders where state is pending", "output": {"type": "find", "filter": {"state": "pending"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "type_class", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest review_score in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"review_score": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get condition and total_value of each orders", "output": {"type": "find", "filter": {}, "projection": {"condition": 1, "total_value": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "upvotes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum upvotes bucketed by day using published_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$published_at"}, "minimum": {"$min": "$upvotes"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total total_amount per status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "total": {"$sum": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average balance by branch where account_type is checking", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "checking"}}, {"$group": {"_id": "$branch", "average": {"$avg": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all employees where memory_mb is greater than 100", "output": {"error": "Field 'memory_mb' does not exist in employees"}, "is_negative": true}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show mass_kg, carrier and is_fragile from shipments", "output": {"type": "find", "filter": {}, "projection": {"mass_kg": 1, "carrier": 1, "is_fragile": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest amount in transactions", "output": {"type": "aggregate", "pipeline": [{"$sort": {"amount": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show price between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"created_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"price": 1, "created_at": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show score between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"review_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"score": 1, "review_date": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all shipments where carrier is sample_carrier", "output": {"type": "find", "filter": {"carrier": "sample_carrier"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipments with state in [returned, delivered, processing]", "output": {"type": "find", "filter": {"state": {"$in": ["returned", "delivered", "processing"]}}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which posts have a topic?", "output": {"type": "find", "filter": {"topic": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Show minimum duration_sec by action_type where platform is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"platform": "some_value"}}, {"$group": {"_id": "$action_type", "minimum": {"$min": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get capacity from opened_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"capacity": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average thumbs_up per topic?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$topic", "average": {"$avg": "$thumbs_up"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average total_cost for channel = some_value, grouped by current_status?", "output": {"type": "aggregate", "pipeline": [{"$match": {"channel": "some_value"}}, {"$group": {"_id": "$current_status", "average": {"$avg": "$total_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_readings have is_anomaly set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_anomaly": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show salary between 2024-08-10T00:00:00Z and 2024-12-26T23:59:59Z", "output": {"type": "find", "filter": {"hire_date": {"$gte": {"$date": "2024-08-10T00:00:00Z"}, "$lte": {"$date": "2024-12-26T23:59:59Z"}}}, "projection": {"salary": 1, "hire_date": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "mark", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "segment", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show employee_id and mark for performance_reviews where segment is some_value", "output": {"type": "find", "filter": {"segment": "some_value"}, "projection": {"employee_id": 1, "mark": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum likes bucketed by day using published_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$published_at"}, "minimum": {"$min": "$likes"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get capacity from opened_date ranging 2023-04-09T00:00:00Z to 2023-08-25T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2023-04-09T00:00:00Z"}, "$lte": {"$date": "2023-08-25T23:59:59Z"}}}, "projection": {"capacity": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of grade grouped by status", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "minimum": {"$min": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total value per status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of total by day from txn_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$txn_date"}, "minimum": {"$min": "$total"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total amount by merchant where type is debit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "debit"}}, {"$group": {"_id": "$merchant", "total": {"$sum": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "display_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all employees where department is sample_department", "output": {"type": "find", "filter": {"department": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all lab_results where test_type is sample_test_type", "output": {"type": "find", "filter": {"test_type": "sample_test_type"}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find published_at and post_id in posts with topic = some_value", "output": {"type": "find", "filter": {"topic": "some_value"}, "projection": {"published_at": 1, "post_id": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group orders by current_status and channel, show total total_value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"current_status": "$current_status", "channel": "$channel"}, "total": {"$sum": "$total_value"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of price grouped by category", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "total": {"$sum": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total score by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "total": {"$sum": "$score"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get value from txn_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"value": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find device_logs with severity in [warning, info]", "output": {"type": "find", "filter": {"severity": {"$in": ["warning", "info"]}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which orders have a channel?", "output": {"type": "find", "filter": {"channel": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count patient_visits where is_emergency is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_emergency": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find data_point and timestamp in sensor_data_points with location = some_value", "output": {"type": "find", "filter": {"location": "some_value"}, "projection": {"data_point": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum total_amount for status = shipped, grouped by channel?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "shipped"}}, {"$group": {"_id": "$channel", "minimum": {"$min": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of measurement grouped by location", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$location", "minimum": {"$min": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which posts have a topic?", "output": {"type": "find", "filter": {"topic": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all customers where tier is platinum", "output": {"type": "find", "filter": {"tier": "platinum"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all customers where tier is platinum", "output": {"type": "find", "filter": {"tier": "platinum"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get location and unit of each sensor_sensor_values", "output": {"type": "find", "filter": {}, "projection": {"location": 1, "unit": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total value per state?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$state", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which sensor_readings have a is_anomaly?", "output": {"type": "find", "filter": {"is_anomaly": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get visit_id from patient_visits with team = some_value", "output": {"type": "find", "filter": {"team": "some_value"}, "projection": {"visit_id": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total total_cost per status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "total": {"$sum": "$total_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of score grouped by category", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "average": {"$avg": "$score"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group enrollments by status and course, show total grade", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"status": "$status", "course": "$course"}, "total": {"$sum": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show accounts where account_type is one of investment, savings", "output": {"type": "find", "filter": {"account_type": {"$in": ["investment", "savings"]}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total value by merchant where type is debit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "debit"}}, {"$group": {"_id": "$merchant", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get account_id from transactions with merchant = some_value", "output": {"type": "find", "filter": {"merchant": "some_value"}, "projection": {"account_id": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum elapsed_seconds for action_type = post, grouped by platform?", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "post"}}, {"$group": {"_id": "$platform", "minimum": {"$min": "$elapsed_seconds"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum charge bucketed by day using visit_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$visit_date"}, "maximum": {"$max": "$charge"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest total in transactions", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "upvotes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find published_at and post_id in posts with topic = some_value", "output": {"type": "find", "filter": {"topic": "some_value"}, "projection": {"published_at": 1, "post_id": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all shipments where carrier is sample_carrier", "output": {"type": "find", "filter": {"carrier": "sample_carrier"}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which posts have a topic?", "output": {"type": "find", "filter": {"topic": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions where type exists", "output": {"type": "find", "filter": {"type": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count device_logs where severity is info", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "info"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show result_id for lab_results where condition is completed", "output": {"type": "find", "filter": {"condition": "completed"}, "projection": {"result_id": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get session_length from occurred_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"session_length": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group enrollments by status and course, show total grade", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"status": "$status", "course": "$course"}, "total": {"$sum": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average weight_kg by status where carrier is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"carrier": "some_value"}}, {"$group": {"_id": "$status", "average": {"$avg": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "visit_cost", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get visit_id from patient_visits with department = some_value", "output": {"type": "find", "filter": {"department": "some_value"}, "projection": {"visit_id": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of course_grade grouped by course", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$course", "maximum": {"$max": "$course_grade"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get reading from timestamp ranging 2023-08-08T00:00:00Z to 2024-01-15T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2023-08-08T00:00:00Z"}, "$lte": {"$date": "2024-01-15T23:59:59Z"}}}, "projection": {"reading": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average total_value for channel = some_value, grouped by status?", "output": {"type": "aggregate", "pipeline": [{"$match": {"channel": "some_value"}}, {"$group": {"_id": "$status", "average": {"$avg": "$total_value"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_sensor_values have unit equal to kwh?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "kwh"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum response_time_ms per severity?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$severity", "minimum": {"$min": "$response_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average value by test_type where condition is pending", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "pending"}}, {"$group": {"_id": "$test_type", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "total_slots", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average total_slots by zone where zone is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"zone": "some_value"}}, {"$group": {"_id": "$zone", "average": {"$avg": "$total_slots"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "grade_score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "classification", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum grade_score bucketed by year using review_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$review_date"}, "maximum": {"$max": "$grade_score"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "section", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find patient_visits where is_emergency exists", "output": {"type": "find", "filter": {"is_emergency": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of quantity_value grouped by type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$type", "average": {"$avg": "$quantity_value"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get lifetime_value from signup_date ranging 2024-04-06T00:00:00Z to 2025-02-18T23:59:59Z", "output": {"type": "find", "filter": {"signup_date": {"$gte": {"$date": "2024-04-06T00:00:00Z"}, "$lte": {"$date": "2025-02-18T23:59:59Z"}}}, "projection": {"lifetime_value": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum reading by unit where location is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"location": "some_value"}}, {"$group": {"_id": "$unit", "minimum": {"$min": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum customer_value for territory = some_value, grouped by tier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"territory": "some_value"}}, {"$group": {"_id": "$tier", "maximum": {"$max": "$customer_value"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "rating", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "type_class", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show employee_id and rating for performance_reviews where type_class is some_value", "output": {"type": "find", "filter": {"type_class": "some_value"}, "projection": {"employee_id": 1, "rating": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Show total salary bucketed by year using hire_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$hire_date"}, "total": {"$sum": "$salary"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List user_activity that have action_type set to comment", "output": {"type": "find", "filter": {"action_type": "comment"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total_amount between 2024-11-27T00:00:00Z and 2025-07-24T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-11-27T00:00:00Z"}, "$lte": {"$date": "2025-07-24T23:59:59Z"}}}, "projection": {"total_amount": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_data_points where unit is fahrenheit", "output": {"type": "find", "filter": {"unit": "fahrenheit"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipments with status in [returned, delivered, processing]", "output": {"type": "find", "filter": {"status": {"$in": ["returned", "delivered", "processing"]}}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "division", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get fee_amount from visit_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"fee_amount": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity where action_type exists", "output": {"type": "find", "filter": {"action_type": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 posts by likes", "output": {"type": "aggregate", "pipeline": [{"$sort": {"likes": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which posts have a topic?", "output": {"type": "find", "filter": {"topic": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show lab_results where current_status is one of reviewed, completed", "output": {"type": "find", "filter": {"current_status": {"$in": ["reviewed", "completed"]}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average available_funds per branch?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$branch", "average": {"$avg": "$available_funds"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest total_amount in orders", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total_amount": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which device_logs have a severity?", "output": {"type": "find", "filter": {"severity": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total order_total per current_status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$current_status", "total": {"$sum": "$order_total"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum weight_kg by status where carrier is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"carrier": "some_value"}}, {"$group": {"_id": "$status", "minimum": {"$min": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum response_time_ms per severity?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$severity", "minimum": {"$min": "$response_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count employees where level is junior", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "junior"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Show minimum price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "minimum": {"$min": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the account_id, balance and owner_name for all accounts", "output": {"type": "find", "filter": {}, "projection": {"account_id": 1, "balance": 1, "owner_name": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the account_id, account_balance and owner_name for all accounts", "output": {"type": "find", "filter": {}, "projection": {"account_id": 1, "account_balance": 1, "owner_name": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List user_activity that have action_type set to comment", "output": {"type": "find", "filter": {"action_type": "comment"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which customers have a tier?", "output": {"type": "find", "filter": {"tier": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of gross_weight by month from shipped_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$shipped_at"}, "average": {"$avg": "$gross_weight"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all lab_results where test_type is sample_test_type", "output": {"type": "find", "filter": {"test_type": "sample_test_type"}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which posts have a topic?", "output": {"type": "find", "filter": {"topic": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "display_name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "star_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List products that have category set to sample_category", "output": {"type": "find", "filter": {"category": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many enrollments have state equal to active?", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "active"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List employees that have level set to senior", "output": {"type": "find", "filter": {"level": "senior"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List products that have category set to sample_category", "output": {"type": "find", "filter": {"category": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all orders where status is pending", "output": {"type": "find", "filter": {"status": "pending"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "display_name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest price in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"price": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of reading grouped by location", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$location", "minimum": {"$min": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_data_points have unit equal to kwh?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "kwh"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count enrollments where is_auditing is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_auditing": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total value for each test_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$test_type", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List lab_results that have state set to reviewed", "output": {"type": "find", "filter": {"state": "reviewed"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of price grouped by category", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "total": {"$sum": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$dateToString", "$toDate"]}, "intent": "Show total price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "total": {"$sum": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total time_spent bucketed by day using occurred_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$occurred_at"}, "total": {"$sum": "$time_spent"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count lab_results where current_status is completed", "output": {"type": "aggregate", "pipeline": [{"$match": {"current_status": "completed"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "group", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get just product_id, name and in_stock from products", "output": {"type": "find", "filter": {}, "projection": {"product_id": 1, "name": 1, "in_stock": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get lifetime_value and email of each customers", "output": {"type": "find", "filter": {}, "projection": {"lifetime_value": 1, "email": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show user_activity where action_type is one of login, logout, share", "output": {"type": "find", "filter": {"action_type": {"$in": ["login", "logout", "share"]}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "label", "type": "string", "role": "text", "description": "Product name"}, {"name": "price_per_item", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest price_per_item in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"price_per_item": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "label", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of price grouped by category", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "total": {"$sum": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where account_type is savings", "output": {"type": "find", "filter": {"account_type": "savings"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get grade from enrolled_at ranging 2024-07-20T00:00:00Z to 2024-09-15T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-07-20T00:00:00Z"}, "$lte": {"$date": "2024-09-15T23:59:59Z"}}}, "projection": {"grade": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 posts by like_count", "output": {"type": "aggregate", "pipeline": [{"$sort": {"like_count": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average data_point by location where unit is rpm", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "rpm"}}, {"$group": {"_id": "$location", "average": {"$avg": "$data_point"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show score between 2024-03-15T00:00:00Z and 2024-08-08T23:59:59Z", "output": {"type": "find", "filter": {"review_date": {"$gte": {"$date": "2024-03-15T00:00:00Z"}, "$lte": {"$date": "2024-08-08T23:59:59Z"}}}, "projection": {"score": 1, "review_date": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show account_id and opened_at for accounts where branch is some_value", "output": {"type": "find", "filter": {"branch": "some_value"}, "projection": {"account_id": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group lab_results by test_type and current_status, show maximum value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"test_type": "$test_type", "current_status": "$current_status"}, "maximum": {"$max": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average total_amount bucketed by day using order_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$order_date"}, "average": {"$avg": "$total_amount"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show account_id and opened_at for accounts where branch is some_value", "output": {"type": "find", "filter": {"branch": "some_value"}, "projection": {"account_id": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of grade grouped by course", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$course", "maximum": {"$max": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 sensor_data_points by data_point", "output": {"type": "aggregate", "pipeline": [{"$sort": {"data_point": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all customers where tax_rate is greater than 100", "output": {"error": "Field 'tax_rate' does not exist in customers"}, "is_negative": true}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "group", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "avg_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum price bucketed by year using created_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$created_at"}, "maximum": {"$max": "$price"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "total": {"$sum": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total balance bucketed by day using opened_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_at"}, "total": {"$sum": "$balance"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show salary for employees where department is some_value", "output": {"type": "find", "filter": {"department": "some_value"}, "projection": {"salary": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "title", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest rating in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"rating": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total value per state?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$state", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show score between 2023-12-09T00:00:00Z and 2024-10-29T23:59:59Z", "output": {"type": "find", "filter": {"review_date": {"$gte": {"$date": "2023-12-09T00:00:00Z"}, "$lte": {"$date": "2024-10-29T23:59:59Z"}}}, "projection": {"score": 1, "review_date": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of value by year from collected_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$collected_at"}, "minimum": {"$min": "$value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average salary per level?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$level", "average": {"$avg": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show result_id for lab_results where status is completed", "output": {"type": "find", "filter": {"status": "completed"}, "projection": {"result_id": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all transactions where merchant is sample_merchant", "output": {"type": "find", "filter": {"merchant": "sample_merchant"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find device_logs with severity in [warning, info]", "output": {"type": "find", "filter": {"severity": {"$in": ["warning", "info"]}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of total_spend by day from signup_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$signup_date"}, "maximum": {"$max": "$total_spend"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 posts by reactions", "output": {"type": "aggregate", "pipeline": [{"$sort": {"reactions": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "compensation", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List employees that have level set to senior", "output": {"type": "find", "filter": {"level": "senior"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total session_length for each action_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$action_type", "total": {"$sum": "$session_length"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show sensor_measurements where unit is one of kwh, celsius", "output": {"type": "find", "filter": {"unit": {"$in": ["kwh", "celsius"]}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of reading grouped by location", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$location", "minimum": {"$min": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show price between 2024-04-27T00:00:00Z and 2024-07-01T23:59:59Z", "output": {"type": "find", "filter": {"created_at": {"$gte": {"$date": "2024-04-27T00:00:00Z"}, "$lte": {"$date": "2024-07-01T23:59:59Z"}}}, "projection": {"price": 1, "created_at": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get current_balance from opened_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"current_balance": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find warehouses with region equal to sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all orders where user_agent is greater than 100", "output": {"error": "Field 'user_agent' does not exist in orders"}, "is_negative": true}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of reading by day from timestamp", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$timestamp"}, "total": {"$sum": "$reading"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average weight_kg by condition where carrier is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"carrier": "some_value"}}, {"$group": {"_id": "$condition", "average": {"$avg": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "rating", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 performance_reviews by rating", "output": {"type": "aggregate", "pipeline": [{"$sort": {"rating": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 accounts by account_balance", "output": {"type": "aggregate", "pipeline": [{"$sort": {"account_balance": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of reply_time_ms by day from logged_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$logged_at"}, "maximum": {"$max": "$reply_time_ms"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get customer_value from signup_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"signup_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"customer_value": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "display_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count employees where level is junior", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "junior"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "mark", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of mark grouped by category", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "average": {"$avg": "$mark"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of balance grouped by account_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$account_type", "total": {"$sum": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get weight_kg from shipped_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"weight_kg": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total balance by account_type where branch is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "total": {"$sum": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get course_grade from enrolled_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"course_grade": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of weight_kg by month from shipped_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$shipped_at"}, "average": {"$avg": "$weight_kg"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total weight_kg per state?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$state", "total": {"$sum": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews where review_date exists", "output": {"type": "find", "filter": {"review_date": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average current_balance by branch where account_type is checking", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "checking"}}, {"$group": {"_id": "$branch", "average": {"$avg": "$current_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many enrollments have state equal to active?", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "active"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of account_balance grouped by account_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$account_type", "total": {"$sum": "$account_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_data_points where unit is fahrenheit", "output": {"type": "find", "filter": {"unit": "fahrenheit"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of quantity_value by merchant and type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"merchant": "$merchant", "type": "$type"}, "minimum": {"$min": "$quantity_value"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 5 employees by salary", "output": {"type": "aggregate", "pipeline": [{"$sort": {"salary": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum score bucketed by year using review_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$review_date"}, "maximum": {"$max": "$score"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which device_logs have a severity?", "output": {"type": "find", "filter": {"severity": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of balance grouped by account_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$account_type", "total": {"$sum": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "type_class", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find products where created_at exists", "output": {"type": "find", "filter": {"created_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "type_class", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews where review_date exists", "output": {"type": "find", "filter": {"review_date": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show employee_id and score for performance_reviews where category is some_value", "output": {"type": "find", "filter": {"category": "some_value"}, "projection": {"employee_id": 1, "score": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average measurement by location where unit is rpm", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "rpm"}}, {"$group": {"_id": "$location", "average": {"$avg": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "division", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count patient_visits where is_emergency is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_emergency": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all orders where condition is pending", "output": {"type": "find", "filter": {"condition": "pending"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get total and type of each transactions", "output": {"type": "find", "filter": {}, "projection": {"total": 1, "type": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find device_logs with severity in [warning, info]", "output": {"type": "find", "filter": {"severity": {"$in": ["warning", "info"]}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get balance from opened_at ranging 2024-07-25T00:00:00Z to 2024-09-12T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2024-07-25T00:00:00Z"}, "$lte": {"$date": "2024-09-12T23:59:59Z"}}}, "projection": {"balance": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average value by test_type where state is pending", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "pending"}}, {"$group": {"_id": "$test_type", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 sensor_readings by reading", "output": {"type": "aggregate", "pipeline": [{"$sort": {"reading": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many products have in_stock set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"in_stock": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "display_name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average rating per category?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "average": {"$avg": "$rating"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get session_length from occurred_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"session_length": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum measurement by unit where location is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"location": "some_value"}}, {"$group": {"_id": "$unit", "minimum": {"$min": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average total_amount for channel = some_value, grouped by status?", "output": {"type": "aggregate", "pipeline": [{"$match": {"channel": "some_value"}}, {"$group": {"_id": "$status", "average": {"$avg": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum charge for team = some_value, grouped by team?", "output": {"type": "aggregate", "pipeline": [{"$match": {"team": "some_value"}}, {"$group": {"_id": "$team", "minimum": {"$min": "$charge"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get shipping_weight from shipped_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"shipping_weight": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with status in [dropped, completed]", "output": {"type": "find", "filter": {"status": {"$in": ["dropped", "completed"]}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get account_id from transactions with merchant = some_value", "output": {"type": "find", "filter": {"merchant": "some_value"}, "projection": {"account_id": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count lab_results where state is completed", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "completed"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_data_points have is_anomaly set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_anomaly": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find published_at and post_id in posts with topic = some_value", "output": {"type": "find", "filter": {"topic": "some_value"}, "projection": {"published_at": 1, "post_id": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show pay for employees where department is some_value", "output": {"type": "find", "filter": {"department": "some_value"}, "projection": {"pay": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many shipments have is_fragile set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_fragile": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "rating", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "type_class", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews where review_date exists", "output": {"type": "find", "filter": {"review_date": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of weight_kg by month from shipped_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$shipped_at"}, "average": {"$avg": "$weight_kg"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum lifetime_value per region?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "maximum": {"$max": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "cost", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "avg_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total cost by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "total": {"$sum": "$cost"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show response_time_ms between 2024-09-23T00:00:00Z and 2024-12-29T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2024-09-23T00:00:00Z"}, "$lte": {"$date": "2024-12-29T23:59:59Z"}}}, "projection": {"response_time_ms": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group employees by department and level, show maximum salary", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"department": "$department", "level": "$level"}, "maximum": {"$max": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the occurred_at, activity_id and action_type for all user_activity", "output": {"type": "find", "filter": {}, "projection": {"occurred_at": 1, "activity_id": 1, "action_type": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customer_id and signup_date in customers with tier = gold", "output": {"type": "find", "filter": {"tier": "gold"}, "projection": {"customer_id": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get time_spent from user_activity with action_type = comment", "output": {"type": "find", "filter": {"action_type": "comment"}, "projection": {"time_spent": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total weight_kg per status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "total": {"$sum": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all shipments where carrier is sample_carrier", "output": {"type": "find", "filter": {"carrier": "sample_carrier"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest total_spend in customers", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total_spend": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List orders that have channel set to sample_channel", "output": {"type": "find", "filter": {"channel": "sample_channel"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get time_spent from user_activity with action_type = comment", "output": {"type": "find", "filter": {"action_type": "comment"}, "projection": {"time_spent": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customers with region equal to sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "unit", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average pay per level?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$level", "average": {"$avg": "$pay"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with condition in [dropped, completed]", "output": {"type": "find", "filter": {"condition": {"$in": ["dropped", "completed"]}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 5 lab_results by value", "output": {"type": "aggregate", "pipeline": [{"$sort": {"value": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with platform equal to sample_platform", "output": {"type": "find", "filter": {"platform": "sample_platform"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show order_total between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"order_total": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the account_id, available_funds and owner_name for all accounts", "output": {"type": "find", "filter": {}, "projection": {"account_id": 1, "available_funds": 1, "owner_name": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum total_amount for state = shipped, grouped by channel?", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "shipped"}}, {"$group": {"_id": "$channel", "minimum": {"$min": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum mass_kg by current_status where carrier is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"carrier": "some_value"}}, {"$group": {"_id": "$current_status", "minimum": {"$min": "$mass_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "title", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show wage between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"hire_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"wage": 1, "hire_date": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total amount by merchant where type is debit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "debit"}}, {"$group": {"_id": "$merchant", "total": {"$sum": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get duration_sec from user_activity with action_type = comment", "output": {"type": "find", "filter": {"action_type": "comment"}, "projection": {"duration_sec": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get balance from opened_at ranging 2023-02-21T00:00:00Z to 2023-12-11T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2023-02-21T00:00:00Z"}, "$lte": {"$date": "2023-12-11T23:59:59Z"}}}, "projection": {"balance": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get amount from txn_date ranging 2023-04-30T00:00:00Z to 2023-11-24T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2023-04-30T00:00:00Z"}, "$lte": {"$date": "2023-11-24T23:59:59Z"}}}, "projection": {"amount": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get charge from visit_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"charge": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show salary for employees where department is some_value", "output": {"type": "find", "filter": {"department": "some_value"}, "projection": {"salary": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get fee_amount from visit_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"fee_amount": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of total grouped by merchant", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$merchant", "maximum": {"$max": "$total"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List shipments that have status set to returned", "output": {"type": "find", "filter": {"status": "returned"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest time_spent in user_activity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"time_spent": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 warehouses by storage_limit", "output": {"type": "aggregate", "pipeline": [{"$sort": {"storage_limit": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get value from collected_at ranging 2024-04-19T00:00:00Z to 2024-06-11T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2024-04-19T00:00:00Z"}, "$lte": {"$date": "2024-06-11T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of reading by day from timestamp", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$timestamp"}, "total": {"$sum": "$reading"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get duration_sec from occurred_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"duration_sec": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum total_amount per channel?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$channel", "maximum": {"$max": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "grade_score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "group", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List performance_reviews that have group set to sample_group", "output": {"type": "find", "filter": {"group": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which warehouses have a capacity?", "output": {"type": "find", "filter": {"capacity": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get value and type of each transactions", "output": {"type": "find", "filter": {}, "projection": {"value": 1, "type": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group lab_results by test_type and current_status, show maximum value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"test_type": "$test_type", "current_status": "$current_status"}, "maximum": {"$max": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "display_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the display_name and level for all employees", "output": {"type": "find", "filter": {}, "projection": {"display_name": 1, "level": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "division", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List employees that have level set to senior", "output": {"type": "find", "filter": {"level": "senior"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_sensor_values where unit is fahrenheit", "output": {"type": "find", "filter": {"unit": "fahrenheit"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum reading per unit?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$unit", "minimum": {"$min": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which lab_results have a value?", "output": {"type": "find", "filter": {"value": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count device_logs where severity is info", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "info"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find products where created_at exists", "output": {"type": "find", "filter": {"created_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest order_total in orders", "output": {"type": "aggregate", "pipeline": [{"$sort": {"order_total": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "mark", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show employee_id and mark for performance_reviews where category is some_value", "output": {"type": "find", "filter": {"category": "some_value"}, "projection": {"employee_id": 1, "mark": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of storage_limit grouped by zone", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$zone", "maximum": {"$max": "$storage_limit"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total value for each test_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$test_type", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many transactions have is_flagged set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_flagged": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show lab_results where status is one of reviewed, completed", "output": {"type": "find", "filter": {"status": {"$in": ["reviewed", "completed"]}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average balance per branch?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$branch", "average": {"$avg": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "division", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List employees that have level set to senior", "output": {"type": "find", "filter": {"level": "senior"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all transactions where merchant is sample_merchant", "output": {"type": "find", "filter": {"merchant": "sample_merchant"}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all posts where user_agent is greater than 100", "output": {"error": "Field 'user_agent' does not exist in posts"}, "is_negative": true}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List user_activity that have action_type set to comment", "output": {"type": "find", "filter": {"action_type": "comment"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count accounts where account_type is investment", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "investment"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show order_id for orders where channel is some_value", "output": {"type": "find", "filter": {"channel": "some_value"}, "projection": {"order_id": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of amount by merchant and type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"merchant": "$merchant", "type": "$type"}, "minimum": {"$min": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where account_type is savings", "output": {"type": "find", "filter": {"account_type": "savings"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "annual_pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total annual_pay by section where level is senior", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "senior"}}, {"$group": {"_id": "$section", "total": {"$sum": "$annual_pay"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "section", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get visit_id from patient_visits with section = some_value", "output": {"type": "find", "filter": {"section": "some_value"}, "projection": {"visit_id": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where branch is sample_branch", "output": {"type": "find", "filter": {"branch": "sample_branch"}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find patient_visits with department equal to sample_department", "output": {"type": "find", "filter": {"department": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List shipments that have status set to returned", "output": {"type": "find", "filter": {"status": "returned"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions where type exists", "output": {"type": "find", "filter": {"type": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest reply_time_ms in device_logs", "output": {"type": "aggregate", "pipeline": [{"$sort": {"reply_time_ms": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find accounts where branch exists", "output": {"type": "find", "filter": {"branch": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group customers by zone and tier, show maximum customer_value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"zone": "$zone", "tier": "$tier"}, "maximum": {"$max": "$customer_value"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest total_amount in orders", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total_amount": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show opened_date and storage_limit for warehouses where region is some_value", "output": {"type": "find", "filter": {"region": "some_value"}, "projection": {"opened_date": 1, "storage_limit": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List user_activity that have action_type set to comment", "output": {"type": "find", "filter": {"action_type": "comment"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "unit_price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "group", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum unit_price bucketed by year using created_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$created_at"}, "maximum": {"$max": "$unit_price"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where account_type is savings", "output": {"type": "find", "filter": {"account_type": "savings"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total lifetime_value for tier = bronze, grouped by region?", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "bronze"}}, {"$group": {"_id": "$region", "total": {"$sum": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of value by year from collected_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$collected_at"}, "minimum": {"$min": "$value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum latency_ms per severity?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$severity", "minimum": {"$min": "$latency_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "Show all orders where status is pending", "output": {"type": "find", "filter": {"status": "pending"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total customer_value for tier = bronze, grouped by region?", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "bronze"}}, {"$group": {"_id": "$region", "total": {"$sum": "$customer_value"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews where review_date exists", "output": {"type": "find", "filter": {"review_date": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$dateToString", "$toDate"]}, "intent": "Find shipments with status in [returned, delivered, processing]", "output": {"type": "find", "filter": {"status": {"$in": ["returned", "delivered", "processing"]}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average value by test_type where state is pending", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "pending"}}, {"$group": {"_id": "$test_type", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all shipments where carrier is sample_carrier", "output": {"type": "find", "filter": {"carrier": "sample_carrier"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with platform equal to sample_platform", "output": {"type": "find", "filter": {"platform": "sample_platform"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with condition equal to dropped", "output": {"type": "find", "filter": {"condition": "dropped"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count device_logs where severity is info", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "info"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest gross_weight in shipments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"gross_weight": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of customer_value by day from signup_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$signup_date"}, "maximum": {"$max": "$customer_value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show patient_id, value and collected_at from lab_results", "output": {"type": "find", "filter": {}, "projection": {"patient_id": 1, "value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show response_time_ms between 2023-06-01T00:00:00Z and 2024-03-02T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2023-06-01T00:00:00Z"}, "$lte": {"$date": "2024-03-02T23:59:59Z"}}}, "projection": {"response_time_ms": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total value for test_type = some_value, grouped by condition?", "output": {"type": "aggregate", "pipeline": [{"$match": {"test_type": "some_value"}}, {"$group": {"_id": "$condition", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum bill_amount bucketed by day using visit_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$visit_date"}, "maximum": {"$max": "$bill_amount"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with condition in [dropped, completed]", "output": {"type": "find", "filter": {"condition": {"$in": ["dropped", "completed"]}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average balance by branch where account_type is checking", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "checking"}}, {"$group": {"_id": "$branch", "average": {"$avg": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which device_logs have a severity?", "output": {"type": "find", "filter": {"severity": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total score by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "total": {"$sum": "$score"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get region and warehouse_id of each warehouses", "output": {"type": "find", "filter": {}, "projection": {"region": 1, "warehouse_id": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get charge from visit_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"charge": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Show average amount by type where merchant is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"merchant": "some_value"}}, {"$group": {"_id": "$type", "average": {"$avg": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of total by merchant and type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"merchant": "$merchant", "type": "$type"}, "minimum": {"$min": "$total"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show category, reviewer and score from performance_reviews", "output": {"type": "find", "filter": {}, "projection": {"category": 1, "reviewer": 1, "score": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of total grouped by type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$type", "average": {"$avg": "$total"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 sensor_sensor_values by sensor_value", "output": {"type": "aggregate", "pipeline": [{"$sort": {"sensor_value": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get student_id from enrollments with state = active", "output": {"type": "find", "filter": {"state": "active"}, "projection": {"student_id": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find orders with current_status in [delivered, cancelled]", "output": {"type": "find", "filter": {"current_status": {"$in": ["delivered", "cancelled"]}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customers with tier in [bronze, gold]", "output": {"type": "find", "filter": {"tier": {"$in": ["bronze", "gold"]}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "compensation", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List employees that have level set to senior", "output": {"type": "find", "filter": {"level": "senior"}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "classification", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show score between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"review_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"score": 1, "review_date": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "total_slots", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of total_slots grouped by region", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "maximum": {"$max": "$total_slots"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all orders where status is pending", "output": {"type": "find", "filter": {"status": "pending"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group enrollments by condition and course, show total final_score", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"condition": "$condition", "course": "$course"}, "total": {"$sum": "$final_score"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List products that have category set to sample_category", "output": {"type": "find", "filter": {"category": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the account_id, account_balance and owner_name for all accounts", "output": {"type": "find", "filter": {}, "projection": {"account_id": 1, "account_balance": 1, "owner_name": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "cost", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get just product_id, name and in_stock from products", "output": {"type": "find", "filter": {}, "projection": {"product_id": 1, "name": 1, "in_stock": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find patient_visits with department equal to sample_department", "output": {"type": "find", "filter": {"department": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get balance from opened_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"balance": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "What is the average likes per topic?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$topic", "average": {"$avg": "$likes"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which posts have a topic?", "output": {"type": "find", "filter": {"topic": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get weight_kg from shipped_at ranging 2023-02-03T00:00:00Z to 2023-03-07T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2023-02-03T00:00:00Z"}, "$lte": {"$date": "2023-03-07T23:59:59Z"}}}, "projection": {"weight_kg": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all lab_results where test_type is sample_test_type", "output": {"type": "find", "filter": {"test_type": "sample_test_type"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all device_logs where latitude is greater than 100", "output": {"error": "Field 'latitude' does not exist in device_logs"}, "is_negative": true}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get student_id from enrollments with status = active", "output": {"type": "find", "filter": {"status": "active"}, "projection": {"student_id": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total weight_kg for each carrier", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$carrier", "total": {"$sum": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of time_spent grouped by platform", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$platform", "total": {"$sum": "$time_spent"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get account_id from transactions with merchant = some_value", "output": {"type": "find", "filter": {"merchant": "some_value"}, "projection": {"account_id": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with platform equal to sample_platform", "output": {"type": "find", "filter": {"platform": "sample_platform"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count customers where tier is bronze", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "bronze"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum charge bucketed by day using visit_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$visit_date"}, "maximum": {"$max": "$charge"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total_amount between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total_amount": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show order_id for orders where channel is some_value", "output": {"type": "find", "filter": {"channel": "some_value"}, "projection": {"order_id": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get account_balance from opened_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"account_balance": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show reactions between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"reactions": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get total_spend and email of each customers", "output": {"type": "find", "filter": {}, "projection": {"total_spend": 1, "email": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum grade for status = completed, grouped by course?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "completed"}}, {"$group": {"_id": "$course", "maximum": {"$max": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show salary between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"hire_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"salary": 1, "hire_date": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get grade from enrolled_at ranging 2023-03-08T00:00:00Z to 2023-06-21T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2023-03-08T00:00:00Z"}, "$lte": {"$date": "2023-06-21T23:59:59Z"}}}, "projection": {"grade": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of duration_sec grouped by platform", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$platform", "total": {"$sum": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with status equal to dropped", "output": {"type": "find", "filter": {"status": "dropped"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group orders by status and channel, show total total_value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"status": "$status", "channel": "$channel"}, "total": {"$sum": "$total_value"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show response_time_ms between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"response_time_ms": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "type_class", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum price by type_class where type_class is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"type_class": "some_value"}}, {"$group": {"_id": "$type_class", "minimum": {"$min": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total charge per department?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$department", "total": {"$sum": "$charge"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum lifetime_value per region?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "maximum": {"$max": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many products have in_stock set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"in_stock": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "visit_cost", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show visit_date, team and is_emergency from patient_visits", "output": {"type": "find", "filter": {}, "projection": {"visit_date": 1, "team": 1, "is_emergency": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum gross_weight by state where carrier is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"carrier": "some_value"}}, {"$group": {"_id": "$state", "minimum": {"$min": "$gross_weight"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum academic_score for condition = completed, grouped by course?", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "completed"}}, {"$group": {"_id": "$course", "maximum": {"$max": "$academic_score"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "unit", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count patient_visits where is_emergency is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_emergency": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count shipments where current_status is returned", "output": {"type": "aggregate", "pipeline": [{"$match": {"current_status": "returned"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum bill_amount bucketed by day using visit_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$visit_date"}, "maximum": {"$max": "$bill_amount"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average value by test_type where state is pending", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "pending"}}, {"$group": {"_id": "$test_type", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many transactions have is_flagged set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_flagged": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many shipments have is_fragile set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_fragile": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 warehouses by capacity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"capacity": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get location and unit of each sensor_readings", "output": {"type": "find", "filter": {}, "projection": {"location": 1, "unit": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find accounts where branch exists", "output": {"type": "find", "filter": {"branch": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all transactions where blood_pressure is greater than 100", "output": {"error": "Field 'blood_pressure' does not exist in transactions"}, "is_negative": true}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest quantity_value in transactions", "output": {"type": "aggregate", "pipeline": [{"$sort": {"quantity_value": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total_amount between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total_amount": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List employees that have level set to senior", "output": {"type": "find", "filter": {"level": "senior"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show order_id for orders where channel is some_value", "output": {"type": "find", "filter": {"channel": "some_value"}, "projection": {"order_id": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find published_at and post_id in posts with topic = some_value", "output": {"type": "find", "filter": {"topic": "some_value"}, "projection": {"published_at": 1, "post_id": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "classification", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of score grouped by classification", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$classification", "average": {"$avg": "$score"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group shipments by carrier and state, show total weight_kg", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"carrier": "$carrier", "state": "$state"}, "total": {"$sum": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show reply_time_ms between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"reply_time_ms": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total weight_kg per status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "total": {"$sum": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with current_status in [dropped, completed]", "output": {"type": "find", "filter": {"current_status": {"$in": ["dropped", "completed"]}}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show severity and log_id from device_logs", "output": {"type": "find", "filter": {}, "projection": {"severity": 1, "log_id": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get value from txn_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"value": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show gross_weight, carrier and is_fragile from shipments", "output": {"type": "find", "filter": {}, "projection": {"gross_weight": 1, "carrier": 1, "is_fragile": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where type is transfer", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "transfer"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List user_activity that have action_type set to comment", "output": {"type": "find", "filter": {"action_type": "comment"}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "upvotes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find published_at and post_id in posts with topic = some_value", "output": {"type": "find", "filter": {"topic": "some_value"}, "projection": {"published_at": 1, "post_id": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "grand_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show order_id for orders where channel is some_value", "output": {"type": "find", "filter": {"channel": "some_value"}, "projection": {"order_id": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find accounts where branch exists", "output": {"type": "find", "filter": {"branch": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 posts by likes", "output": {"type": "aggregate", "pipeline": [{"$sort": {"likes": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group accounts by account_type and branch, show minimum account_balance", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"account_type": "$account_type", "branch": "$branch"}, "minimum": {"$min": "$account_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum duration_sec by action_type where platform is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"platform": "some_value"}}, {"$group": {"_id": "$action_type", "minimum": {"$min": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total elapsed_seconds for each action_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$action_type", "total": {"$sum": "$elapsed_seconds"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "display_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "annual_pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count employees where level is junior", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "junior"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "unit_price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "star_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get just product_id, name and in_stock from products", "output": {"type": "find", "filter": {}, "projection": {"product_id": 1, "name": 1, "in_stock": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get charge from visit_date ranging 2023-11-10T00:00:00Z to 2024-03-04T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2023-11-10T00:00:00Z"}, "$lte": {"$date": "2024-03-04T23:59:59Z"}}}, "projection": {"charge": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum reply_time_ms per severity?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$severity", "minimum": {"$min": "$reply_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many transactions have is_flagged set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_flagged": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show likes between 2023-04-29T00:00:00Z and 2024-01-19T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2023-04-29T00:00:00Z"}, "$lte": {"$date": "2024-01-19T23:59:59Z"}}}, "projection": {"likes": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get value from collected_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show severity and log_id from device_logs", "output": {"type": "find", "filter": {}, "projection": {"severity": 1, "log_id": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum lifetime_value for region = some_value, grouped by tier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$tier", "maximum": {"$max": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum latency_ms per severity?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$severity", "minimum": {"$min": "$latency_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total value for each test_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$test_type", "total": {"$sum": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get account_id from transactions with merchant = some_value", "output": {"type": "find", "filter": {"merchant": "some_value"}, "projection": {"account_id": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total session_length bucketed by day using occurred_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$occurred_at"}, "total": {"$sum": "$session_length"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "annual_pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average annual_pay per level?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$level", "average": {"$avg": "$annual_pay"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all employees where department is sample_department", "output": {"type": "find", "filter": {"department": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find warehouses with region equal to sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "title", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of salary grouped by section", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$section", "minimum": {"$min": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show score between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"review_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"score": 1, "review_date": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 performance_reviews by score", "output": {"type": "aggregate", "pipeline": [{"$sort": {"score": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum reading by unit where location is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"location": "some_value"}}, {"$group": {"_id": "$unit", "minimum": {"$min": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "rating", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "group", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 performance_reviews by rating", "output": {"type": "aggregate", "pipeline": [{"$sort": {"rating": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average salary per level?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$level", "average": {"$avg": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group sensor_sensor_values by unit and location, show average sensor_value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"unit": "$unit", "location": "$location"}, "average": {"$avg": "$sensor_value"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get value from collected_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show salary for employees where department is some_value", "output": {"type": "find", "filter": {"department": "some_value"}, "projection": {"salary": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show likes between 2024-04-19T00:00:00Z and 2025-01-16T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-04-19T00:00:00Z"}, "$lte": {"$date": "2025-01-16T23:59:59Z"}}}, "projection": {"likes": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of grade grouped by current_status", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$current_status", "minimum": {"$min": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "division", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get bill_amount from visit_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"bill_amount": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get total_spend from signup_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"signup_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total_spend": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total gross_weight for each carrier", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$carrier", "total": {"$sum": "$gross_weight"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count user_activity where action_type is post", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "post"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group employees by department and level, show maximum salary", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"department": "$department", "level": "$level"}, "maximum": {"$max": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List orders that have channel set to sample_channel", "output": {"type": "find", "filter": {"channel": "sample_channel"}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 warehouses by capacity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"capacity": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get charge from visit_date ranging 2024-06-09T00:00:00Z to 2024-10-04T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-06-09T00:00:00Z"}, "$lte": {"$date": "2024-10-04T23:59:59Z"}}}, "projection": {"charge": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get time_spent from occurred_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"time_spent": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find accounts where branch exists", "output": {"type": "find", "filter": {"branch": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get duration_sec from occurred_at ranging 2023-08-15T00:00:00Z to 2023-11-06T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2023-08-15T00:00:00Z"}, "$lte": {"$date": "2023-11-06T23:59:59Z"}}}, "projection": {"duration_sec": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of response_time_ms by day from logged_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$logged_at"}, "maximum": {"$max": "$response_time_ms"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show weight_kg, carrier and is_fragile from shipments", "output": {"type": "find", "filter": {}, "projection": {"weight_kg": 1, "carrier": 1, "is_fragile": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity where action_type exists", "output": {"type": "find", "filter": {"action_type": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get created_at from products with category = some_value", "output": {"type": "find", "filter": {"category": "some_value"}, "projection": {"created_at": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show visit_date, team and is_emergency from patient_visits", "output": {"type": "find", "filter": {}, "projection": {"visit_date": 1, "team": 1, "is_emergency": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity where action_type exists", "output": {"type": "find", "filter": {"action_type": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "label", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "minimum": {"$min": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List shipments that have status set to returned", "output": {"type": "find", "filter": {"status": "returned"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum total_cost for status = shipped, grouped by channel?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "shipped"}}, {"$group": {"_id": "$channel", "minimum": {"$min": "$total_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get value from collected_at ranging 2023-01-01T00:00:00Z to 2023-05-14T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2023-01-01T00:00:00Z"}, "$lte": {"$date": "2023-05-14T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get current_status and order_total of each orders", "output": {"type": "find", "filter": {}, "projection": {"current_status": 1, "order_total": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average salary per level?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$level", "average": {"$avg": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Get location and unit of each sensor_readings", "output": {"type": "find", "filter": {}, "projection": {"location": 1, "unit": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum grade for status = completed, grouped by course?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "completed"}}, {"$group": {"_id": "$course", "maximum": {"$max": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group shipments by carrier and status, show total weight_kg", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"carrier": "$carrier", "status": "$status"}, "total": {"$sum": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipments with status in [returned, delivered, processing]", "output": {"type": "find", "filter": {"status": {"$in": ["returned", "delivered", "processing"]}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum ltv for region = some_value, grouped by tier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$tier", "maximum": {"$max": "$ltv"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show severity and log_id from device_logs", "output": {"type": "find", "filter": {}, "projection": {"severity": 1, "log_id": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find processing_time and device_id in device_logs with severity = warning", "output": {"type": "find", "filter": {"severity": "warning"}, "projection": {"processing_time": 1, "device_id": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get amount from txn_date ranging 2024-02-15T00:00:00Z to 2024-06-26T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2024-02-15T00:00:00Z"}, "$lte": {"$date": "2024-06-26T23:59:59Z"}}}, "projection": {"amount": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show severity and log_id from device_logs", "output": {"type": "find", "filter": {}, "projection": {"severity": 1, "log_id": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get balance from opened_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"balance": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of capacity by day from opened_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_date"}, "total": {"$sum": "$capacity"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest order_total in orders", "output": {"type": "aggregate", "pipeline": [{"$sort": {"order_total": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "classification", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of score grouped by classification", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$classification", "average": {"$avg": "$score"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments where enrolled_at exists", "output": {"type": "find", "filter": {"enrolled_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the enrollment_id, is_auditing and enrolled_at for all enrollments", "output": {"type": "find", "filter": {}, "projection": {"enrollment_id": 1, "is_auditing": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where longitude is greater than 100", "output": {"error": "Field 'longitude' does not exist in accounts"}, "is_negative": true}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of lifetime_value by day from signup_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$signup_date"}, "maximum": {"$max": "$lifetime_value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "division", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 patient_visits by fee_amount", "output": {"type": "aggregate", "pipeline": [{"$sort": {"fee_amount": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many shipments have is_fragile set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_fragile": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "section", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total charge per section?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$section", "total": {"$sum": "$charge"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "visit_cost", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get visit_cost from visit_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"visit_cost": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "grand_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest grand_total in orders", "output": {"type": "aggregate", "pipeline": [{"$sort": {"grand_total": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "label", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "segment", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get created_at from products with segment = some_value", "output": {"type": "find", "filter": {"segment": "some_value"}, "projection": {"created_at": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "How many employees have is_active set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_active": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest response_time_ms in device_logs", "output": {"type": "aggregate", "pipeline": [{"$sort": {"response_time_ms": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find patient_visits where is_emergency exists", "output": {"type": "find", "filter": {"is_emergency": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of session_length grouped by platform", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$platform", "total": {"$sum": "$session_length"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "upvotes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 posts by upvotes", "output": {"type": "aggregate", "pipeline": [{"$sort": {"upvotes": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find warehouses with zone equal to sample_zone", "output": {"type": "find", "filter": {"zone": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum course_grade by course where condition is waitlisted", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "waitlisted"}}, {"$group": {"_id": "$course", "maximum": {"$max": "$course_grade"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show user_activity where action_type is one of login, logout, share", "output": {"type": "find", "filter": {"action_type": {"$in": ["login", "logout", "share"]}}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "division", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 patient_visits by charge", "output": {"type": "aggregate", "pipeline": [{"$sort": {"charge": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of duration_sec grouped by platform", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$platform", "total": {"$sum": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "Find published_at and post_id in posts with topic = some_value", "output": {"type": "find", "filter": {"topic": "some_value"}, "projection": {"published_at": 1, "post_id": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total available_funds bucketed by day using opened_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_at"}, "total": {"$sum": "$available_funds"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get charge from visit_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"charge": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of value by year from collected_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$collected_at"}, "minimum": {"$min": "$value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get account_id from transactions with merchant = some_value", "output": {"type": "find", "filter": {"merchant": "some_value"}, "projection": {"account_id": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of amount grouped by type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$type", "average": {"$avg": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest weight_kg in shipments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"weight_kg": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show account_id and opened_at for accounts where branch is some_value", "output": {"type": "find", "filter": {"branch": "some_value"}, "projection": {"account_id": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "Show account_id and opened_at for accounts where branch is some_value", "output": {"type": "find", "filter": {"branch": "some_value"}, "projection": {"account_id": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count accounts where account_type is investment", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "investment"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total charge per department?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$department", "total": {"$sum": "$charge"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum price bucketed by year using created_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$created_at"}, "maximum": {"$max": "$price"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get status and total_amount of each orders", "output": {"type": "find", "filter": {}, "projection": {"status": 1, "total_amount": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show lab_results where status is one of reviewed, completed", "output": {"type": "find", "filter": {"status": {"$in": ["reviewed", "completed"]}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "grand_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show grand_total between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"grand_total": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total account_balance by account_type where branch is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "total": {"$sum": "$account_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the enrollment_id, is_auditing and enrolled_at for all enrollments", "output": {"type": "find", "filter": {}, "projection": {"enrollment_id": 1, "is_auditing": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_sensor_values have is_anomaly set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_anomaly": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group accounts by account_type and branch, show minimum current_balance", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"account_type": "$account_type", "branch": "$branch"}, "minimum": {"$min": "$current_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show likes between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"likes": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipments where status exists", "output": {"type": "find", "filter": {"status": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show price between 2024-01-29T00:00:00Z and 2024-12-20T23:59:59Z", "output": {"type": "find", "filter": {"created_at": {"$gte": {"$date": "2024-01-29T00:00:00Z"}, "$lte": {"$date": "2024-12-20T23:59:59Z"}}}, "projection": {"price": 1, "created_at": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of price grouped by category", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "total": {"$sum": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find customers with region equal to sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum sensor_value per unit?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$unit", "minimum": {"$min": "$sensor_value"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List lab_results that have status set to reviewed", "output": {"type": "find", "filter": {"status": "reviewed"}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get zone and warehouse_id of each warehouses", "output": {"type": "find", "filter": {}, "projection": {"zone": 1, "warehouse_id": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total current_balance bucketed by day using opened_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$opened_at"}, "total": {"$sum": "$current_balance"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "full_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many employees have is_active set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_active": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get data_point from timestamp ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"data_point": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum duration_sec by action_type where platform is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"platform": "some_value"}}, {"$group": {"_id": "$action_type", "minimum": {"$min": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group lab_results by test_type and status, show maximum value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"test_type": "$test_type", "status": "$status"}, "maximum": {"$max": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of value by year from collected_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$collected_at"}, "minimum": {"$min": "$value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List the account_id, account_balance and owner_name for all accounts", "output": {"type": "find", "filter": {}, "projection": {"account_id": 1, "account_balance": 1, "owner_name": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 accounts by available_funds", "output": {"type": "aggregate", "pipeline": [{"$sort": {"available_funds": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average likes per topic?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$topic", "average": {"$avg": "$likes"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total ltv for each tier", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$tier", "total": {"$sum": "$ltv"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "average of weight_kg by month from shipped_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$shipped_at"}, "average": {"$avg": "$weight_kg"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "Show lab_results where status is one of reviewed, completed", "output": {"type": "find", "filter": {"status": {"$in": ["reviewed", "completed"]}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest grade in enrollments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"grade": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total balance by account_type where branch is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "total": {"$sum": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show severity and log_id from device_logs", "output": {"type": "find", "filter": {}, "projection": {"severity": 1, "log_id": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum latency_ms per severity?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$severity", "minimum": {"$min": "$latency_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average account_balance per branch?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$branch", "average": {"$avg": "$account_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List orders that have channel set to sample_channel", "output": {"type": "find", "filter": {"channel": "sample_channel"}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average capacity by region where region is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$region", "average": {"$avg": "$capacity"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show visit_date, department and is_emergency from patient_visits", "output": {"type": "find", "filter": {}, "projection": {"visit_date": 1, "department": 1, "is_emergency": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which orders have a channel?", "output": {"type": "find", "filter": {"channel": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get capacity from opened_date ranging 2024-07-16T00:00:00Z to 2025-03-03T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-07-16T00:00:00Z"}, "$lte": {"$date": "2025-03-03T23:59:59Z"}}}, "projection": {"capacity": 1, "opened_date": 1}}, "is_negative": false}
