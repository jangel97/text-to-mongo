{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all performance_reviews where api_key is greater than 100", "output": {"error": "Field 'api_key' does not exist in performance_reviews"}, "is_negative": true}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of data_point by month from timestamp", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$timestamp"}, "average": {"$avg": "$data_point"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "compensation", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of compensation by month from hire_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$hire_date"}, "average": {"$avg": "$compensation"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "section", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many patient_visits have is_emergency set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_emergency": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show weight_kg between 2023-06-13T00:00:00Z and 2024-06-08T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2023-06-13T00:00:00Z"}, "$lte": {"$date": "2024-06-08T23:59:59Z"}}}, "projection": {"weight_kg": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get sensor_value from timestamp ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"sensor_value": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total_amount between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total_amount": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all warehouses where region is sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "visit_cost", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get visit_cost from visit_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"visit_cost": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all customers where latitude is greater than 100", "output": {"error": "Field 'latitude' does not exist in customers"}, "is_negative": true}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average response_time_ms per severity?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$severity", "average": {"$avg": "$response_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "rating", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "classification", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum rating bucketed by year using review_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$review_date"}, "maximum": {"$max": "$rating"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum final_score by course where condition is dropped", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "dropped"}}, {"$group": {"_id": "$course", "maximum": {"$max": "$final_score"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_data_points have is_anomaly set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_anomaly": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_sensor_values where is_anomaly exists", "output": {"type": "find", "filter": {"is_anomaly": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with platform equal to sample_platform", "output": {"type": "find", "filter": {"platform": "sample_platform"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of salary by month from hire_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$hire_date"}, "average": {"$avg": "$salary"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average salary for level = director, grouped by department?", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "director"}}, {"$group": {"_id": "$department", "average": {"$avg": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "total_slots", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total total_slots by zone where zone is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"zone": "some_value"}}, {"$group": {"_id": "$zone", "total": {"$sum": "$total_slots"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average value for condition = pending, grouped by test_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "pending"}}, {"$group": {"_id": "$test_type", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get balance from opened_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"balance": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total total_amount per status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "total": {"$sum": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum available_funds for branch = some_value, grouped by account_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "maximum": {"$max": "$available_funds"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show employees where level is one of director, junior, lead", "output": {"type": "find", "filter": {"level": {"$in": ["director", "junior", "lead"]}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum duration_sec by platform where action_type is login", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "login"}}, {"$group": {"_id": "$platform", "minimum": {"$min": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many user_activity have action_type equal to comment?", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "comment"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get final_score from enrolled_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"final_score": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of value by day from collected_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$collected_at"}, "average": {"$avg": "$value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum lifetime_value bucketed by day using signup_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$signup_date"}, "minimum": {"$min": "$lifetime_value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average duration_sec for platform = some_value, grouped by action_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"platform": "some_value"}}, {"$group": {"_id": "$action_type", "average": {"$avg": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show shipments where condition is one of delivered, processing", "output": {"type": "find", "filter": {"condition": {"$in": ["delivered", "processing"]}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List customers that have tier set to silver", "output": {"type": "find", "filter": {"tier": "silver"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get reading from timestamp ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"reading": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which customers have a email?", "output": {"type": "find", "filter": {"email": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum data_point by location where unit is celsius", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "celsius"}}, {"$group": {"_id": "$location", "minimum": {"$min": "$data_point"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count device_logs where severity is warning", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "warning"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum rating for each category", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "maximum": {"$max": "$rating"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show value between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get thumbs_up from published_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"thumbs_up": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "visit_cost", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List patient_visits that have department set to sample_department", "output": {"type": "find", "filter": {"department": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all orders where status is pending", "output": {"type": "find", "filter": {"status": "pending"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum value for status = pending, grouped by test_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "pending"}}, {"$group": {"_id": "$test_type", "minimum": {"$min": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List orders that have channel set to sample_channel", "output": {"type": "find", "filter": {"channel": "sample_channel"}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "mark", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum mark bucketed by year using review_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$review_date"}, "maximum": {"$max": "$mark"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of charge by year from visit_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$visit_date"}, "maximum": {"$max": "$charge"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum amount by type where merchant is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"merchant": "some_value"}}, {"$group": {"_id": "$type", "minimum": {"$min": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "title", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "group", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum price for each group", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$group", "maximum": {"$max": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show value between 2023-09-26T00:00:00Z and 2023-12-27T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2023-09-26T00:00:00Z"}, "$lte": {"$date": "2023-12-27T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest reply_time_ms in device_logs", "output": {"type": "aggregate", "pipeline": [{"$sort": {"reply_time_ms": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group orders by status and channel, show total total_amount", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"status": "$status", "channel": "$channel"}, "total": {"$sum": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all orders where status is pending", "output": {"type": "find", "filter": {"status": "pending"}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$dateToString", "$toDate"]}, "intent": "How many patient_visits have is_emergency set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_emergency": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show capacity between 2023-04-09T00:00:00Z and 2023-08-25T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2023-04-09T00:00:00Z"}, "$lte": {"$date": "2023-08-25T23:59:59Z"}}}, "projection": {"capacity": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group orders by status and channel, show total total_amount", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"status": "$status", "channel": "$channel"}, "total": {"$sum": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where is_flagged is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_flagged": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which transactions have a is_flagged?", "output": {"type": "find", "filter": {"is_flagged": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total amount bucketed by month using txn_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$txn_date"}, "total": {"$sum": "$amount"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average total by merchant where type is credit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "credit"}}, {"$group": {"_id": "$merchant", "average": {"$avg": "$total"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average account_balance bucketed by month using opened_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$opened_at"}, "average": {"$avg": "$account_balance"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "label", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many products have in_stock set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"in_stock": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List customers that have region set to sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$dateToString", "$toDate"]}, "intent": "How many products have in_stock set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"in_stock": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show customers where tier is one of platinum, gold", "output": {"type": "find", "filter": {"tier": {"$in": ["platinum", "gold"]}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all lab_results where condition is reviewed", "output": {"type": "find", "filter": {"condition": "reviewed"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group user_activity by platform and action_type, show maximum time_spent", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"platform": "$platform", "action_type": "$action_type"}, "maximum": {"$max": "$time_spent"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest salary in employees", "output": {"type": "aggregate", "pipeline": [{"$sort": {"salary": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with status in [completed, active, dropped]", "output": {"type": "find", "filter": {"status": {"$in": ["completed", "active", "dropped"]}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List customers that have tier set to silver", "output": {"type": "find", "filter": {"tier": "silver"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all user_activity where refund_amount is greater than 100", "output": {"error": "Field 'refund_amount' does not exist in user_activity"}, "is_negative": true}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of ltv by tier and region", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"tier": "$tier", "region": "$region"}, "total": {"$sum": "$ltv"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of likes by day from published_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$published_at"}, "maximum": {"$max": "$likes"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find posts where published_at exists", "output": {"type": "find", "filter": {"published_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show device_logs where severity is one of critical, error, debug", "output": {"type": "find", "filter": {"severity": {"$in": ["critical", "error", "debug"]}}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total storage_limit by locale where locale is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"locale": "some_value"}}, {"$group": {"_id": "$locale", "total": {"$sum": "$storage_limit"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get charge from visit_date ranging 2024-06-09T00:00:00Z to 2024-10-04T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-06-09T00:00:00Z"}, "$lte": {"$date": "2024-10-04T23:59:59Z"}}}, "projection": {"charge": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get processing_time from logged_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"processing_time": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count device_logs where severity is warning", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "warning"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest course_grade in enrollments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"course_grade": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total value bucketed by month using txn_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$txn_date"}, "total": {"$sum": "$value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum mass_kg per carrier?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$carrier", "minimum": {"$min": "$mass_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum total by type where merchant is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"merchant": "some_value"}}, {"$group": {"_id": "$type", "minimum": {"$min": "$total"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show ltv between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"signup_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"ltv": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List employees that have level set to junior", "output": {"type": "find", "filter": {"level": "junior"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of final_score by course and current_status", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"course": "$course", "current_status": "$current_status"}, "total": {"$sum": "$final_score"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List customers that have zone set to sample_zone", "output": {"type": "find", "filter": {"zone": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$dateToString", "$toDate"]}, "intent": "How many enrollments have is_auditing set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_auditing": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average total_cost for channel = some_value, grouped by current_status?", "output": {"type": "aggregate", "pipeline": [{"$match": {"channel": "some_value"}}, {"$group": {"_id": "$current_status", "average": {"$avg": "$total_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average elapsed_seconds for platform = some_value, grouped by action_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"platform": "some_value"}}, {"$group": {"_id": "$action_type", "average": {"$avg": "$elapsed_seconds"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show transactions where type is one of credit, fee", "output": {"type": "find", "filter": {"type": {"$in": ["credit", "fee"]}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get balance from opened_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"balance": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get salary from hire_date ranging 2024-08-10T00:00:00Z to 2024-12-26T23:59:59Z", "output": {"type": "find", "filter": {"hire_date": {"$gte": {"$date": "2024-08-10T00:00:00Z"}, "$lte": {"$date": "2024-12-26T23:59:59Z"}}}, "projection": {"salary": 1, "hire_date": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average reply_time_ms per severity?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$severity", "average": {"$avg": "$reply_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "full_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all employees where department is sample_department", "output": {"type": "find", "filter": {"department": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of measurement by month from timestamp", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$timestamp"}, "average": {"$avg": "$measurement"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average session_length per platform?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$platform", "average": {"$avg": "$session_length"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of shipping_weight by year from shipped_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$shipped_at"}, "total": {"$sum": "$shipping_weight"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of like_count grouped by topic", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$topic", "total": {"$sum": "$like_count"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many enrollments have is_auditing set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_auditing": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest grade in enrollments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"grade": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average time_spent per platform?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$platform", "average": {"$avg": "$time_spent"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where type is debit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "debit"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many employees have is_active set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_active": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of duration_sec by day from occurred_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$occurred_at"}, "minimum": {"$min": "$duration_sec"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many lab_results have current_status equal to pending?", "output": {"type": "aggregate", "pipeline": [{"$match": {"current_status": "pending"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average total_spend for locale = some_value, grouped by tier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"locale": "some_value"}}, {"$group": {"_id": "$tier", "average": {"$avg": "$total_spend"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show transactions where type is one of credit, fee", "output": {"type": "find", "filter": {"type": {"$in": ["credit", "fee"]}}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List patient_visits that have department set to sample_department", "output": {"type": "find", "filter": {"department": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_readings have unit equal to fahrenheit?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "fahrenheit"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show score between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"review_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"score": 1, "review_date": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipments with status equal to in_transit", "output": {"type": "find", "filter": {"status": "in_transit"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_data_points with unit in [fahrenheit, psi]", "output": {"type": "find", "filter": {"unit": {"$in": ["fahrenheit", "psi"]}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "full_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average salary for level = director, grouped by section?", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "director"}}, {"$group": {"_id": "$section", "average": {"$avg": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum total_amount for current_status = shipped, grouped by channel?", "output": {"type": "aggregate", "pipeline": [{"$match": {"current_status": "shipped"}}, {"$group": {"_id": "$channel", "minimum": {"$min": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "label", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest price in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"price": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "section", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average charge by section where section is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"section": "some_value"}}, {"$group": {"_id": "$section", "average": {"$avg": "$charge"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucketAuto", "$facet", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group user_activity by platform and action_type, show maximum duration_sec", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"platform": "$platform", "action_type": "$action_type"}, "maximum": {"$max": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List lab_results that have test_type set to sample_test_type", "output": {"type": "find", "filter": {"test_type": "sample_test_type"}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List patient_visits that have department set to sample_department", "output": {"type": "find", "filter": {"department": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average response_time_ms bucketed by year using logged_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$logged_at"}, "average": {"$avg": "$response_time_ms"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of current_balance grouped by branch", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$branch", "average": {"$avg": "$current_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_data_points have is_anomaly set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_anomaly": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_readings have is_anomaly set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_anomaly": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum score per category?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "maximum": {"$max": "$score"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum measurement by location where unit is celsius", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "celsius"}}, {"$group": {"_id": "$location", "minimum": {"$min": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with action_type equal to post", "output": {"type": "find", "filter": {"action_type": "post"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List enrollments that have current_status set to completed", "output": {"type": "find", "filter": {"current_status": "completed"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many accounts have account_type equal to checking?", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "checking"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of value grouped by test_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$test_type", "maximum": {"$max": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group user_activity by platform and action_type, show maximum duration_sec", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"platform": "$platform", "action_type": "$action_type"}, "maximum": {"$max": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum duration_sec by platform where action_type is login", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "login"}}, {"$group": {"_id": "$platform", "minimum": {"$min": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average elapsed_seconds for platform = some_value, grouped by action_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"platform": "some_value"}}, {"$group": {"_id": "$action_type", "average": {"$avg": "$elapsed_seconds"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get charge from visit_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"charge": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "total": {"$sum": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group employees by level and section, show total pay", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"level": "$level", "section": "$section"}, "total": {"$sum": "$pay"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where elevation is greater than 100", "output": {"error": "Field 'elevation' does not exist in accounts"}, "is_negative": true}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "display_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many employees have is_active set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_active": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get charge from visit_date ranging 2023-12-29T00:00:00Z to 2024-03-19T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2023-12-29T00:00:00Z"}, "$lte": {"$date": "2024-03-19T23:59:59Z"}}}, "projection": {"charge": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many accounts have account_type equal to checking?", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "checking"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of value by day from collected_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$collected_at"}, "average": {"$avg": "$value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get bill_amount from visit_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"bill_amount": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many employees have is_active set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_active": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total current_balance for branch = some_value, grouped by account_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "total": {"$sum": "$current_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get course_grade from enrolled_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"course_grade": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average lifetime_value for region = some_value, grouped by tier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$tier", "average": {"$avg": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest duration_sec in user_activity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"duration_sec": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Show minimum price bucketed by month using created_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$created_at"}, "minimum": {"$min": "$price"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all orders where status is pending", "output": {"type": "find", "filter": {"status": "pending"}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum likes for topic = some_value, grouped by topic?", "output": {"type": "aggregate", "pipeline": [{"$match": {"topic": "some_value"}}, {"$group": {"_id": "$topic", "minimum": {"$min": "$likes"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest final_score in enrollments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"final_score": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show value between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "total_slots", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many warehouses have is_climate_controlled set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_climate_controlled": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of charge by year from visit_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$visit_date"}, "maximum": {"$max": "$charge"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of grade by course and status", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"course": "$course", "status": "$status"}, "total": {"$sum": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average session_length per platform?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$platform", "average": {"$avg": "$session_length"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count employees where level is lead", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "lead"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many user_activity have action_type equal to comment?", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "comment"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all lab_results where status is reviewed", "output": {"type": "find", "filter": {"status": "reviewed"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many enrollments have is_auditing set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_auditing": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "total_slots", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of total_slots by year from opened_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$opened_date"}, "total": {"$sum": "$total_slots"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show value between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show customer_value between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"signup_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"customer_value": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total available_funds per account_type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$account_type", "total": {"$sum": "$available_funds"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total account_balance per account_type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$account_type", "total": {"$sum": "$account_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where branch is sample_branch", "output": {"type": "find", "filter": {"branch": "sample_branch"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "Find sensor_readings with unit in [fahrenheit, psi]", "output": {"type": "find", "filter": {"unit": {"$in": ["fahrenheit", "psi"]}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show user_activity where action_type is one of comment, share", "output": {"type": "find", "filter": {"action_type": {"$in": ["comment", "share"]}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show weight_kg between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"weight_kg": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "classification", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "star_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum star_rating for each classification", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$classification", "maximum": {"$max": "$star_rating"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average balance bucketed by month using opened_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$opened_at"}, "average": {"$avg": "$balance"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get reactions from published_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"reactions": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average charge for each department", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$department", "average": {"$avg": "$charge"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all orders where condition is pending", "output": {"type": "find", "filter": {"condition": "pending"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of total by merchant and type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"merchant": "$merchant", "type": "$type"}, "total": {"$sum": "$total"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "visit_cost", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get visit_cost from visit_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"visit_cost": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find accounts where branch exists", "output": {"type": "find", "filter": {"branch": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "grand_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show grand_total between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"grand_total": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where type is debit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "debit"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average elapsed_seconds for platform = some_value, grouped by action_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"platform": "some_value"}}, {"$group": {"_id": "$action_type", "average": {"$avg": "$elapsed_seconds"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total ltv per tier?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$tier", "total": {"$sum": "$ltv"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average sum_amount by merchant where type is credit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "credit"}}, {"$group": {"_id": "$merchant", "average": {"$avg": "$sum_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "division", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average bill_amount for each division", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$division", "average": {"$avg": "$bill_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_data_points where is_anomaly exists", "output": {"type": "find", "filter": {"is_anomaly": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest duration_sec in user_activity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"duration_sec": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many enrollments have is_auditing set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_auditing": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average value per type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$type", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average value per state?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$state", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "mark", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "classification", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 performance_reviews by mark", "output": {"type": "aggregate", "pipeline": [{"$sort": {"mark": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average value for status = pending, grouped by test_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "pending"}}, {"$group": {"_id": "$test_type", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show order_total between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"order_total": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total latency_ms by severity where severity is error", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "error"}}, {"$group": {"_id": "$severity", "total": {"$sum": "$latency_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show value between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"value": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which products have a rating?", "output": {"type": "find", "filter": {"rating": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show capacity between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"capacity": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which customers have a email?", "output": {"type": "find", "filter": {"email": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total salary per level?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$level", "total": {"$sum": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find device_logs where message exists", "output": {"type": "find", "filter": {"message": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "annual_pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "unit", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group employees by level and unit, show total annual_pay", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"level": "$level", "unit": "$unit"}, "total": {"$sum": "$annual_pay"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "max_capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 warehouses by max_capacity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"max_capacity": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get like_count from published_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"like_count": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "total of amount by merchant and type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"merchant": "$merchant", "type": "$type"}, "total": {"$sum": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which patient_visits have a is_emergency?", "output": {"type": "find", "filter": {"is_emergency": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find accounts with account_type equal to checking", "output": {"type": "find", "filter": {"account_type": "checking"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_sensor_values where location is sample_location", "output": {"type": "find", "filter": {"location": "sample_location"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "group", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total price by group where group is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"group": "some_value"}}, {"$group": {"_id": "$group", "total": {"$sum": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average grade by status where course is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"course": "some_value"}}, {"$group": {"_id": "$status", "average": {"$avg": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get sensor_value from timestamp ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"sensor_value": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get reading from timestamp ranging 2023-01-04T00:00:00Z to 2023-03-30T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2023-01-04T00:00:00Z"}, "$lte": {"$date": "2023-03-30T23:59:59Z"}}}, "projection": {"reading": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get likes from published_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"likes": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show weight_kg between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"weight_kg": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average grade per condition?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "average": {"$avg": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total response_time_ms by severity where severity is error", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "error"}}, {"$group": {"_id": "$severity", "total": {"$sum": "$response_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of storage_limit grouped by region", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "total": {"$sum": "$storage_limit"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where type is debit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "debit"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show employees where level is one of director, junior, lead", "output": {"type": "find", "filter": {"level": {"$in": ["director", "junior", "lead"]}}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of capacity grouped by region", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "total": {"$sum": "$capacity"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where is_flagged is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_flagged": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_readings with unit in [fahrenheit, psi]", "output": {"type": "find", "filter": {"unit": {"$in": ["fahrenheit", "psi"]}}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "grade_score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "type_class", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews where reviewer exists", "output": {"type": "find", "filter": {"reviewer": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of grade grouped by course", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$course", "average": {"$avg": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum total_spend per area?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$area", "maximum": {"$max": "$total_spend"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of data_point by month from timestamp", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$timestamp"}, "average": {"$avg": "$data_point"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show customers where tier is one of platinum, gold", "output": {"type": "find", "filter": {"tier": {"$in": ["platinum", "gold"]}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_readings where is_anomaly exists", "output": {"type": "find", "filter": {"is_anomaly": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_data_points have is_anomaly set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_anomaly": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest grade in enrollments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"grade": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum score for category = some_value, grouped by category?", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "maximum": {"$max": "$score"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with status in [completed, active, dropped]", "output": {"type": "find", "filter": {"status": {"$in": ["completed", "active", "dropped"]}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all transactions where type is debit", "output": {"type": "find", "filter": {"type": "debit"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group accounts by branch and account_type, show total current_balance", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"branch": "$branch", "account_type": "$account_type"}, "total": {"$sum": "$current_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of sensor_value grouped by unit", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$unit", "total": {"$sum": "$sensor_value"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all user_activity where heart_rate is greater than 100", "output": {"error": "Field 'heart_rate' does not exist in user_activity"}, "is_negative": true}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average processing_time per severity?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$severity", "average": {"$avg": "$processing_time"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of reading grouped by unit", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$unit", "total": {"$sum": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total reply_time_ms by severity where severity is error", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "error"}}, {"$group": {"_id": "$severity", "total": {"$sum": "$reply_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group employees by level and section, show total pay", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"level": "$level", "section": "$section"}, "total": {"$sum": "$pay"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which patient_visits have a is_emergency?", "output": {"type": "find", "filter": {"is_emergency": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$group", "$sort", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_readings with unit equal to celsius", "output": {"type": "find", "filter": {"unit": "celsius"}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which warehouses have a is_climate_controlled?", "output": {"type": "find", "filter": {"is_climate_controlled": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average value for state = pending, grouped by test_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "pending"}}, {"$group": {"_id": "$test_type", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of measurement grouped by unit", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$unit", "total": {"$sum": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which shipments have a shipped_at?", "output": {"type": "find", "filter": {"shipped_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total order_total per state?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$state", "total": {"$sum": "$order_total"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average reading for each location", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$location", "average": {"$avg": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "avg_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "minimum": {"$min": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_readings where location is sample_location", "output": {"type": "find", "filter": {"location": "sample_location"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total amount bucketed by month using txn_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$txn_date"}, "total": {"$sum": "$amount"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average academic_score by current_status where course is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"course": "some_value"}}, {"$group": {"_id": "$current_status", "average": {"$avg": "$academic_score"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "title", "type": "string", "role": "text", "description": "Product name"}, {"name": "price_per_item", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which products have a rating?", "output": {"type": "find", "filter": {"rating": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "annual_pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total annual_pay per level?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$level", "total": {"$sum": "$annual_pay"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average amount by merchant where type is credit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "credit"}}, {"$group": {"_id": "$merchant", "average": {"$avg": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many warehouses have is_climate_controlled set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_climate_controlled": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with platform equal to sample_platform", "output": {"type": "find", "filter": {"platform": "sample_platform"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all device_logs where discount_pct is greater than 100", "output": {"error": "Field 'discount_pct' does not exist in device_logs"}, "is_negative": true}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "grand_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest grand_total in orders", "output": {"type": "aggregate", "pipeline": [{"$sort": {"grand_total": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 warehouses by storage_limit", "output": {"type": "aggregate", "pipeline": [{"$sort": {"storage_limit": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum total_spend for region = some_value, grouped by tier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$tier", "minimum": {"$min": "$total_spend"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "minimum": {"$min": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total current_balance for branch = some_value, grouped by account_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "total": {"$sum": "$current_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum reading for unit = kwh, grouped by location?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "kwh"}}, {"$group": {"_id": "$location", "minimum": {"$min": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average sum_amount per type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$type", "average": {"$avg": "$sum_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "unit", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average fee_amount by unit where unit is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "some_value"}}, {"$group": {"_id": "$unit", "average": {"$avg": "$fee_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "cost", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "type_class", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest rating in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"rating": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of lifetime_value by tier and region", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"tier": "$tier", "region": "$region"}, "total": {"$sum": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_readings have unit equal to fahrenheit?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "fahrenheit"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average order_total for channel = some_value, grouped by condition?", "output": {"type": "aggregate", "pipeline": [{"$match": {"channel": "some_value"}}, {"$group": {"_id": "$condition", "average": {"$avg": "$order_total"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipments with current_status equal to in_transit", "output": {"type": "find", "filter": {"current_status": "in_transit"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest response_time_ms in device_logs", "output": {"type": "aggregate", "pipeline": [{"$sort": {"response_time_ms": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total session_length per action_type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$action_type", "total": {"$sum": "$session_length"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "annual_pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of annual_pay by month from hire_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$hire_date"}, "average": {"$avg": "$annual_pay"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum gross_weight per carrier?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$carrier", "minimum": {"$min": "$gross_weight"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List enrollments that have condition set to completed", "output": {"type": "find", "filter": {"condition": "completed"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count device_logs where severity is warning", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "warning"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List enrollments that have condition set to completed", "output": {"type": "find", "filter": {"condition": "completed"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all customers where tax_rate is greater than 100", "output": {"error": "Field 'tax_rate' does not exist in customers"}, "is_negative": true}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum grade bucketed by month using enrolled_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$enrolled_at"}, "maximum": {"$max": "$grade"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show shipments where status is one of delivered, processing", "output": {"type": "find", "filter": {"status": {"$in": ["delivered", "processing"]}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many accounts have account_type equal to checking?", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "checking"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "upvotes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find posts with topic equal to sample_topic", "output": {"type": "find", "filter": {"topic": "sample_topic"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many lab_results have state equal to pending?", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "pending"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of thumbs_up grouped by topic", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$topic", "total": {"$sum": "$thumbs_up"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show duration_sec between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"duration_sec": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which orders have a channel?", "output": {"type": "find", "filter": {"channel": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "unit", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest fee_amount in patient_visits", "output": {"type": "aggregate", "pipeline": [{"$sort": {"fee_amount": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where is_flagged is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_flagged": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of total grouped by merchant", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$merchant", "minimum": {"$min": "$total"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show capacity between 2024-10-01T00:00:00Z and 2025-01-31T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-10-01T00:00:00Z"}, "$lte": {"$date": "2025-01-31T23:59:59Z"}}}, "projection": {"capacity": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all products where category is sample_category", "output": {"type": "find", "filter": {"category": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_readings with unit equal to celsius", "output": {"type": "find", "filter": {"unit": "celsius"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average total_value bucketed by day using order_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$order_date"}, "average": {"$avg": "$total_value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where is_flagged is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_flagged": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$dateToString", "$toDate"]}, "intent": "Show total amount bucketed by month using txn_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$txn_date"}, "total": {"$sum": "$amount"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where branch is sample_branch", "output": {"type": "find", "filter": {"branch": "sample_branch"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show lifetime_value between 2024-04-22T00:00:00Z and 2024-06-24T23:59:59Z", "output": {"type": "find", "filter": {"signup_date": {"$gte": {"$date": "2024-04-22T00:00:00Z"}, "$lte": {"$date": "2024-06-24T23:59:59Z"}}}, "projection": {"lifetime_value": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show rating between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"created_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"rating": 1, "created_at": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "title", "type": "string", "role": "text", "description": "Full name"}, {"name": "compensation", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum compensation for each department", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$department", "minimum": {"$min": "$compensation"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where type is debit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "debit"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with current_status in [completed, active, dropped]", "output": {"type": "find", "filter": {"current_status": {"$in": ["completed", "active", "dropped"]}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price_per_item", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest price_per_item in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"price_per_item": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "title", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum price for each category", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "maximum": {"$max": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 warehouses by capacity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"capacity": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "unit", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all employees where unit is sample_unit", "output": {"type": "find", "filter": {"unit": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show lifetime_value between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"signup_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"lifetime_value": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all lab_results where api_key is greater than 100", "output": {"error": "Field 'api_key' does not exist in lab_results"}, "is_negative": true}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many user_activity have action_type equal to comment?", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "comment"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all device_logs where severity is critical", "output": {"type": "find", "filter": {"severity": "critical"}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show capacity between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"capacity": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum reactions for topic = some_value, grouped by topic?", "output": {"type": "aggregate", "pipeline": [{"$match": {"topic": "some_value"}}, {"$group": {"_id": "$topic", "minimum": {"$min": "$reactions"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Get likes from published_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"likes": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many orders have status equal to pending?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "pending"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show user_activity where action_type is one of comment, share", "output": {"type": "find", "filter": {"action_type": {"$in": ["comment", "share"]}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get salary from hire_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"hire_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"salary": 1, "hire_date": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 lab_results by value", "output": {"type": "aggregate", "pipeline": [{"$sort": {"value": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum total_amount for status = shipped, grouped by channel?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "shipped"}}, {"$group": {"_id": "$channel", "minimum": {"$min": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many enrollments have current_status equal to active?", "output": {"type": "aggregate", "pipeline": [{"$match": {"current_status": "active"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of capacity grouped by region", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "total": {"$sum": "$capacity"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count shipments where is_fragile is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_fragile": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of final_score by course and status", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"course": "$course", "status": "$status"}, "total": {"$sum": "$final_score"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show accounts where account_type is one of credit, savings", "output": {"type": "find", "filter": {"account_type": {"$in": ["credit", "savings"]}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which transactions have a is_flagged?", "output": {"type": "find", "filter": {"is_flagged": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find employees where name exists", "output": {"type": "find", "filter": {"name": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest salary in employees", "output": {"type": "aggregate", "pipeline": [{"$sort": {"salary": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average grade per condition?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "average": {"$avg": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all orders where status is pending", "output": {"type": "find", "filter": {"status": "pending"}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "mark", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "type_class", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews where reviewer exists", "output": {"type": "find", "filter": {"reviewer": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count device_logs where severity is warning", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "warning"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group employees by level and department, show total salary", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"level": "$level", "department": "$department"}, "total": {"$sum": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get latency_ms from logged_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"latency_ms": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find device_logs where message exists", "output": {"type": "find", "filter": {"message": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group shipments by state and carrier, show minimum gross_weight", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"state": "$state", "carrier": "$carrier"}, "minimum": {"$min": "$gross_weight"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all lab_results where discount_pct is greater than 100", "output": {"error": "Field 'discount_pct' does not exist in lab_results"}, "is_negative": true}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group shipments by status and carrier, show minimum weight_kg", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"status": "$status", "carrier": "$carrier"}, "minimum": {"$min": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of sum_amount by merchant and type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"merchant": "$merchant", "type": "$type"}, "total": {"$sum": "$sum_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total total_spend per tier?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$tier", "total": {"$sum": "$total_spend"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show device_logs where severity is one of critical, error, debug", "output": {"type": "find", "filter": {"severity": {"$in": ["critical", "error", "debug"]}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "title", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "unit", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average salary for level = director, grouped by unit?", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "director"}}, {"$group": {"_id": "$unit", "average": {"$avg": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "total_slots", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many warehouses have is_climate_controlled set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_climate_controlled": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of mass_kg by year from shipped_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$shipped_at"}, "total": {"$sum": "$mass_kg"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List patient_visits that have team set to sample_team", "output": {"type": "find", "filter": {"team": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total available_funds for branch = some_value, grouped by account_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "total": {"$sum": "$available_funds"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "grade_score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "classification", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum grade_score bucketed by year using review_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$review_date"}, "maximum": {"$max": "$grade_score"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List lab_results that have test_type set to sample_test_type", "output": {"type": "find", "filter": {"test_type": "sample_test_type"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum reading for unit = kwh, grouped by location?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "kwh"}}, {"$group": {"_id": "$location", "minimum": {"$min": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of amount by merchant and type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"merchant": "$merchant", "type": "$type"}, "total": {"$sum": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average balance bucketed by month using opened_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$opened_at"}, "average": {"$avg": "$balance"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average total per type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$type", "average": {"$avg": "$total"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show duration_sec between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"duration_sec": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of sensor_value grouped by unit", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$unit", "total": {"$sum": "$sensor_value"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group lab_results by status and test_type, show minimum value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"status": "$status", "test_type": "$test_type"}, "minimum": {"$min": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which user_activity have a platform?", "output": {"type": "find", "filter": {"platform": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum session_length by platform where action_type is login", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "login"}}, {"$group": {"_id": "$platform", "minimum": {"$min": "$session_length"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count posts where is_pinned is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_pinned": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "total_slots", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total_slots between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total_slots": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show customers where tier is one of platinum, gold", "output": {"type": "find", "filter": {"tier": {"$in": ["platinum", "gold"]}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "display_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find employees where display_name exists", "output": {"type": "find", "filter": {"display_name": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of value by day from collected_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$collected_at"}, "average": {"$avg": "$value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "segment", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum score for segment = some_value, grouped by segment?", "output": {"type": "aggregate", "pipeline": [{"$match": {"segment": "some_value"}}, {"$group": {"_id": "$segment", "maximum": {"$max": "$score"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List orders that have channel set to sample_channel", "output": {"type": "find", "filter": {"channel": "sample_channel"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total order_total per current_status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$current_status", "total": {"$sum": "$order_total"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "total": {"$sum": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of thumbs_up grouped by topic", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$topic", "total": {"$sum": "$thumbs_up"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where type is debit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "debit"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average ltv for area = some_value, grouped by tier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"area": "some_value"}}, {"$group": {"_id": "$tier", "average": {"$avg": "$ltv"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average value for state = pending, grouped by test_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "pending"}}, {"$group": {"_id": "$test_type", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which lab_results have a collected_at?", "output": {"type": "find", "filter": {"collected_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List customers that have territory set to sample_territory", "output": {"type": "find", "filter": {"territory": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many lab_results have current_status equal to pending?", "output": {"type": "aggregate", "pipeline": [{"$match": {"current_status": "pending"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest session_length in user_activity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"session_length": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest total_amount in orders", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total_amount": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total available_funds per account_type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$account_type", "total": {"$sum": "$available_funds"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where blood_pressure is greater than 100", "output": {"error": "Field 'blood_pressure' does not exist in accounts"}, "is_negative": true}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest response_time_ms in device_logs", "output": {"type": "aggregate", "pipeline": [{"$sort": {"response_time_ms": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total quantity_value bucketed by month using txn_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$txn_date"}, "total": {"$sum": "$quantity_value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "full_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "compensation", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many employees have is_active set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_active": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which products have a rating?", "output": {"type": "find", "filter": {"rating": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find accounts with account_type equal to checking", "output": {"type": "find", "filter": {"account_type": "checking"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total time_spent per action_type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$action_type", "total": {"$sum": "$time_spent"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "display_name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "total": {"$sum": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all employees where department is sample_department", "output": {"type": "find", "filter": {"department": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_sensor_values where is_anomaly exists", "output": {"type": "find", "filter": {"is_anomaly": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all device_logs where severity is critical", "output": {"type": "find", "filter": {"severity": "critical"}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of like_count by day from published_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$published_at"}, "maximum": {"$max": "$like_count"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum mass_kg by state where carrier is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"carrier": "some_value"}}, {"$group": {"_id": "$state", "minimum": {"$min": "$mass_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "max_capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all warehouses where region is sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 sensor_sensor_values by sensor_value", "output": {"type": "aggregate", "pipeline": [{"$sort": {"sensor_value": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many customers have tier equal to platinum?", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "platinum"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show capacity between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"capacity": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count posts where is_pinned is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_pinned": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest reactions in posts", "output": {"type": "aggregate", "pipeline": [{"$sort": {"reactions": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of balance grouped by branch", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$branch", "average": {"$avg": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum total_amount per channel?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$channel", "maximum": {"$max": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest price in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"price": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest response_time_ms in device_logs", "output": {"type": "aggregate", "pipeline": [{"$sort": {"response_time_ms": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum grade by course where status is dropped", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "dropped"}}, {"$group": {"_id": "$course", "maximum": {"$max": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average salary for level = director, grouped by department?", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "director"}}, {"$group": {"_id": "$department", "average": {"$avg": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with action_type equal to post", "output": {"type": "find", "filter": {"action_type": "post"}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of reactions by day from published_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$published_at"}, "maximum": {"$max": "$reactions"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Show duration_sec between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"duration_sec": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest elapsed_seconds in user_activity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"elapsed_seconds": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many customers have tier equal to platinum?", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "platinum"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum score bucketed by year using review_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$review_date"}, "maximum": {"$max": "$score"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show capacity between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"capacity": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average time_spent for platform = some_value, grouped by action_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"platform": "some_value"}}, {"$group": {"_id": "$action_type", "average": {"$avg": "$time_spent"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum mass_kg for current_status = returned, grouped by carrier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"current_status": "returned"}}, {"$group": {"_id": "$carrier", "minimum": {"$min": "$mass_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum thumbs_up for topic = some_value, grouped by topic?", "output": {"type": "aggregate", "pipeline": [{"$match": {"topic": "some_value"}}, {"$group": {"_id": "$topic", "minimum": {"$min": "$thumbs_up"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where type is debit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "debit"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get bill_amount from visit_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"bill_amount": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum customer_value bucketed by day using signup_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$signup_date"}, "minimum": {"$min": "$customer_value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum measurement for unit = kwh, grouped by location?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "kwh"}}, {"$group": {"_id": "$location", "minimum": {"$min": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_data_points where location is sample_location", "output": {"type": "find", "filter": {"location": "sample_location"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find accounts with account_type equal to checking", "output": {"type": "find", "filter": {"account_type": "checking"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum balance for branch = some_value, grouped by account_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "maximum": {"$max": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "grade_score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "classification", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews with classification equal to sample_classification", "output": {"type": "find", "filter": {"classification": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "division", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average salary for level = director, grouped by division?", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "director"}}, {"$group": {"_id": "$division", "average": {"$avg": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get fee_amount from visit_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"fee_amount": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of likes grouped by topic", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$topic", "total": {"$sum": "$likes"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest likes in posts", "output": {"type": "aggregate", "pipeline": [{"$sort": {"likes": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average balance bucketed by month using opened_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$opened_at"}, "average": {"$avg": "$balance"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get response_time_ms from logged_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"response_time_ms": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum lifetime_value per locale?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$locale", "maximum": {"$max": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "evaluation", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "type_class", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 performance_reviews by evaluation", "output": {"type": "aggregate", "pipeline": [{"$sort": {"evaluation": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of reading by location and unit", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"location": "$location", "unit": "$unit"}, "maximum": {"$max": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum rating for each category", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "maximum": {"$max": "$rating"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "grand_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which orders have a channel?", "output": {"type": "find", "filter": {"channel": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with platform equal to sample_platform", "output": {"type": "find", "filter": {"platform": "sample_platform"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 lab_results by value", "output": {"type": "aggregate", "pipeline": [{"$sort": {"value": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "grand_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum grand_total per channel?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$channel", "maximum": {"$max": "$grand_total"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group shipments by status and carrier, show minimum weight_kg", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"status": "$status", "carrier": "$carrier"}, "minimum": {"$min": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest total_amount in orders", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total_amount": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many accounts have account_type equal to checking?", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "checking"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all orders where status is pending", "output": {"type": "find", "filter": {"status": "pending"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count shipments where is_fragile is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_fragile": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 lab_results by value", "output": {"type": "aggregate", "pipeline": [{"$sort": {"value": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average amount per type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$type", "average": {"$avg": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all employees where altitude is greater than 100", "output": {"error": "Field 'altitude' does not exist in employees"}, "is_negative": true}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of available_funds grouped by branch", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$branch", "average": {"$avg": "$available_funds"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "total_slots", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 warehouses by total_slots", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total_slots": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get balance from opened_at ranging 2023-02-21T00:00:00Z to 2023-12-11T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2023-02-21T00:00:00Z"}, "$lte": {"$date": "2023-12-11T23:59:59Z"}}}, "projection": {"balance": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which lab_results have a collected_at?", "output": {"type": "find", "filter": {"collected_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all lab_results where status is reviewed", "output": {"type": "find", "filter": {"status": "reviewed"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show accounts where account_type is one of credit, savings", "output": {"type": "find", "filter": {"account_type": {"$in": ["credit", "savings"]}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum weight_kg for state = returned, grouped by carrier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "returned"}}, {"$group": {"_id": "$carrier", "minimum": {"$min": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average total_amount for channel = some_value, grouped by condition?", "output": {"type": "aggregate", "pipeline": [{"$match": {"channel": "some_value"}}, {"$group": {"_id": "$condition", "average": {"$avg": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total_amount between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total_amount": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with platform equal to sample_platform", "output": {"type": "find", "filter": {"platform": "sample_platform"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which enrollments have a enrolled_at?", "output": {"type": "find", "filter": {"enrolled_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 lab_results by value", "output": {"type": "aggregate", "pipeline": [{"$sort": {"value": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average measurement for each location", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$location", "average": {"$avg": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all transactions where memory_mb is greater than 100", "output": {"error": "Field 'memory_mb' does not exist in transactions"}, "is_negative": true}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average lifetime_value for region = some_value, grouped by tier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$tier", "average": {"$avg": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List customers that have tier set to silver", "output": {"type": "find", "filter": {"tier": "silver"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group shipments by current_status and carrier, show minimum shipping_weight", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"current_status": "$current_status", "carrier": "$carrier"}, "minimum": {"$min": "$shipping_weight"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 sensor_data_points by data_point", "output": {"type": "aggregate", "pipeline": [{"$sort": {"data_point": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "display_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find employees where display_name exists", "output": {"type": "find", "filter": {"display_name": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Find user_activity with action_type equal to post", "output": {"type": "find", "filter": {"action_type": "post"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "Get grade from enrolled_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"grade": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 sensor_measurements by measurement", "output": {"type": "aggregate", "pipeline": [{"$sort": {"measurement": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get response_time_ms from logged_at ranging 2023-08-03T00:00:00Z to 2023-12-12T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2023-08-03T00:00:00Z"}, "$lte": {"$date": "2023-12-12T23:59:59Z"}}}, "projection": {"response_time_ms": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all shipments where carrier is sample_carrier", "output": {"type": "find", "filter": {"carrier": "sample_carrier"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get balance from opened_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"balance": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get likes from published_at ranging 2023-02-20T00:00:00Z to 2023-06-25T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2023-02-20T00:00:00Z"}, "$lte": {"$date": "2023-06-25T23:59:59Z"}}}, "projection": {"likes": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find orders with current_status in [delivered, cancelled]", "output": {"type": "find", "filter": {"current_status": {"$in": ["delivered", "cancelled"]}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count employees where level is lead", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "lead"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_data_points where is_anomaly exists", "output": {"type": "find", "filter": {"is_anomaly": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "What is the average amount per type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$type", "average": {"$avg": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with course equal to sample_course", "output": {"type": "find", "filter": {"course": "sample_course"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest available_funds in accounts", "output": {"type": "aggregate", "pipeline": [{"$sort": {"available_funds": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest session_length in user_activity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"session_length": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average bill_amount by department where department is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"department": "some_value"}}, {"$group": {"_id": "$department", "average": {"$avg": "$bill_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "max_capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 warehouses by max_capacity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"max_capacity": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get grade from enrolled_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"grade": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "max_capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show max_capacity between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"max_capacity": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which customers have a email?", "output": {"type": "find", "filter": {"email": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find accounts where branch exists", "output": {"type": "find", "filter": {"branch": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show value between 2023-01-01T00:00:00Z and 2023-05-14T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2023-01-01T00:00:00Z"}, "$lte": {"$date": "2023-05-14T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show device_logs where severity is one of critical, error, debug", "output": {"type": "find", "filter": {"severity": {"$in": ["critical", "error", "debug"]}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get current_balance from opened_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"current_balance": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum shipping_weight for each state", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$state", "maximum": {"$max": "$shipping_weight"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$dateToString", "$toDate"]}, "intent": "Find posts where published_at exists", "output": {"type": "find", "filter": {"published_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average charge by team where team is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"team": "some_value"}}, {"$group": {"_id": "$team", "average": {"$avg": "$charge"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "full_name", "type": "string", "role": "text", "description": "Product name"}, {"name": "cost", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all products where category is sample_category", "output": {"type": "find", "filter": {"category": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average value per state?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$state", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which warehouses have a is_climate_controlled?", "output": {"type": "find", "filter": {"is_climate_controlled": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum measurement for unit = kwh, grouped by location?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "kwh"}}, {"$group": {"_id": "$location", "minimum": {"$min": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "minimum": {"$min": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with action_type equal to post", "output": {"type": "find", "filter": {"action_type": "post"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List customers that have tier set to silver", "output": {"type": "find", "filter": {"tier": "silver"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of grade grouped by course", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$course", "average": {"$avg": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "compensation", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all employees where department is sample_department", "output": {"type": "find", "filter": {"department": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "rating", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "type_class", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews where reviewer exists", "output": {"type": "find", "filter": {"reviewer": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total_amount between 2024-11-27T00:00:00Z and 2025-07-24T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-11-27T00:00:00Z"}, "$lte": {"$date": "2025-07-24T23:59:59Z"}}}, "projection": {"total_amount": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show capacity between 2024-07-16T00:00:00Z and 2025-03-03T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-07-16T00:00:00Z"}, "$lte": {"$date": "2025-03-03T23:59:59Z"}}}, "projection": {"capacity": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average charge for each department", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$department", "average": {"$avg": "$charge"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get salary from hire_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"hire_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"salary": 1, "hire_date": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "grand_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many orders have status equal to pending?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "pending"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show lab_results where state is one of pending, reviewed", "output": {"type": "find", "filter": {"state": {"$in": ["pending", "reviewed"]}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which orders have a channel?", "output": {"type": "find", "filter": {"channel": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total_amount between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total_amount": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all shipments where carrier is sample_carrier", "output": {"type": "find", "filter": {"carrier": "sample_carrier"}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest like_count in posts", "output": {"type": "aggregate", "pipeline": [{"$sort": {"like_count": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum weight_kg for state = returned, grouped by carrier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "returned"}}, {"$group": {"_id": "$carrier", "minimum": {"$min": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average customer_value for region = some_value, grouped by tier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$tier", "average": {"$avg": "$customer_value"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average sum_amount per type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$type", "average": {"$avg": "$sum_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List lab_results that have test_type set to sample_test_type", "output": {"type": "find", "filter": {"test_type": "sample_test_type"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which user_activity have a platform?", "output": {"type": "find", "filter": {"platform": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List customers that have tier set to silver", "output": {"type": "find", "filter": {"tier": "silver"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with course equal to sample_course", "output": {"type": "find", "filter": {"course": "sample_course"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all orders where user_agent is greater than 100", "output": {"error": "Field 'user_agent' does not exist in orders"}, "is_negative": true}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with action_type equal to post", "output": {"type": "find", "filter": {"action_type": "post"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "star_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest price in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"price": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List lab_results that have test_type set to sample_test_type", "output": {"type": "find", "filter": {"test_type": "sample_test_type"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "total": {"$sum": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List enrollments that have status set to completed", "output": {"type": "find", "filter": {"status": "completed"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show duration_sec between 2023-08-15T00:00:00Z and 2023-11-06T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2023-08-15T00:00:00Z"}, "$lte": {"$date": "2023-11-06T23:59:59Z"}}}, "projection": {"duration_sec": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average available_funds bucketed by month using opened_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$opened_at"}, "average": {"$avg": "$available_funds"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find posts where published_at exists", "output": {"type": "find", "filter": {"published_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum session_length by platform where action_type is login", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "login"}}, {"$group": {"_id": "$platform", "minimum": {"$min": "$session_length"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group employees by level and department, show total salary", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"level": "$level", "department": "$department"}, "total": {"$sum": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_readings with unit in [fahrenheit, psi]", "output": {"type": "find", "filter": {"unit": {"$in": ["fahrenheit", "psi"]}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "unit", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get pay from hire_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"hire_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"pay": 1, "hire_date": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many warehouses have is_climate_controlled set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_climate_controlled": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find accounts with account_type equal to checking", "output": {"type": "find", "filter": {"account_type": "checking"}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "classification", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum score for classification = some_value, grouped by classification?", "output": {"type": "aggregate", "pipeline": [{"$match": {"classification": "some_value"}}, {"$group": {"_id": "$classification", "maximum": {"$max": "$score"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "full_name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many products have in_stock set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"in_stock": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show transactions where type is one of credit, fee", "output": {"type": "find", "filter": {"type": {"$in": ["credit", "fee"]}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "minimum": {"$min": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "team", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group employees by level and team, show total salary", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"level": "$level", "team": "$team"}, "total": {"$sum": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum value for condition = pending, grouped by test_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "pending"}}, {"$group": {"_id": "$test_type", "minimum": {"$min": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total available_funds for branch = some_value, grouped by account_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "total": {"$sum": "$available_funds"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all lab_results where current_status is reviewed", "output": {"type": "find", "filter": {"current_status": "reviewed"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which products have a rating?", "output": {"type": "find", "filter": {"rating": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all warehouses where zone is sample_zone", "output": {"type": "find", "filter": {"zone": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average charge by department where department is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"department": "some_value"}}, {"$group": {"_id": "$department", "average": {"$avg": "$charge"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many shipments have state equal to returned?", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "returned"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average course_grade per condition?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "average": {"$avg": "$course_grade"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "avg_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many products have in_stock set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"in_stock": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group lab_results by current_status and test_type, show minimum value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"current_status": "$current_status", "test_type": "$test_type"}, "minimum": {"$min": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which shipments have a shipped_at?", "output": {"type": "find", "filter": {"shipped_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show amount between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"amount": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get grade from enrolled_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"grade": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "cost", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "avg_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest avg_rating in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"avg_rating": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average total_amount bucketed by day using order_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$order_date"}, "average": {"$avg": "$total_amount"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum ltv for zone = some_value, grouped by tier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"zone": "some_value"}}, {"$group": {"_id": "$tier", "minimum": {"$min": "$ltv"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 lab_results by value", "output": {"type": "aggregate", "pipeline": [{"$sort": {"value": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "visit_cost", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which patient_visits have a is_emergency?", "output": {"type": "find", "filter": {"is_emergency": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "grand_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find orders with status in [delivered, cancelled]", "output": {"type": "find", "filter": {"status": {"$in": ["delivered", "cancelled"]}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 sensor_measurements by measurement", "output": {"type": "aggregate", "pipeline": [{"$sort": {"measurement": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum measurement by location where unit is celsius", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "celsius"}}, {"$group": {"_id": "$location", "minimum": {"$min": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of customer_value by tier and area", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"tier": "$tier", "area": "$area"}, "total": {"$sum": "$customer_value"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get latency_ms from logged_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"latency_ms": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List patient_visits that have team set to sample_team", "output": {"type": "find", "filter": {"team": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many patient_visits have is_emergency set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_emergency": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where type is debit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "debit"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest balance in accounts", "output": {"type": "aggregate", "pipeline": [{"$sort": {"balance": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get grade from enrolled_at ranging 2024-02-07T00:00:00Z to 2025-01-28T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-02-07T00:00:00Z"}, "$lte": {"$date": "2025-01-28T23:59:59Z"}}}, "projection": {"grade": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "division", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find employees where name exists", "output": {"type": "find", "filter": {"name": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total lifetime_value per tier?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$tier", "total": {"$sum": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get salary from hire_date ranging 2024-09-12T00:00:00Z to 2025-04-24T23:59:59Z", "output": {"type": "find", "filter": {"hire_date": {"$gte": {"$date": "2024-09-12T00:00:00Z"}, "$lte": {"$date": "2025-04-24T23:59:59Z"}}}, "projection": {"salary": 1, "hire_date": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "division", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum salary for each division", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$division", "minimum": {"$min": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$push", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average lifetime_value for region = some_value, grouped by tier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$tier", "average": {"$avg": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_readings have unit equal to fahrenheit?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "fahrenheit"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count device_logs where severity is warning", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "warning"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest academic_score in enrollments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"academic_score": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "rating", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews with category equal to sample_category", "output": {"type": "find", "filter": {"category": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_data_points with unit in [fahrenheit, psi]", "output": {"type": "find", "filter": {"unit": {"$in": ["fahrenheit", "psi"]}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_data_points where location is sample_location", "output": {"type": "find", "filter": {"location": "sample_location"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum mass_kg by state where carrier is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"carrier": "some_value"}}, {"$group": {"_id": "$state", "minimum": {"$min": "$mass_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with course equal to sample_course", "output": {"type": "find", "filter": {"course": "sample_course"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum lifetime_value per region?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "maximum": {"$max": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show lifetime_value between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"signup_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"lifetime_value": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group shipments by status and carrier, show minimum weight_kg", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"status": "$status", "carrier": "$carrier"}, "minimum": {"$min": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show rating between 2024-03-10T00:00:00Z and 2024-05-05T23:59:59Z", "output": {"type": "find", "filter": {"created_at": {"$gte": {"$date": "2024-03-10T00:00:00Z"}, "$lte": {"$date": "2024-05-05T23:59:59Z"}}}, "projection": {"rating": 1, "created_at": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get balance from opened_at ranging 2024-07-25T00:00:00Z to 2024-09-12T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2024-07-25T00:00:00Z"}, "$lte": {"$date": "2024-09-12T23:59:59Z"}}}, "projection": {"balance": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all shipments where carrier is sample_carrier", "output": {"type": "find", "filter": {"carrier": "sample_carrier"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest quantity_value in transactions", "output": {"type": "aggregate", "pipeline": [{"$sort": {"quantity_value": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all shipments where carrier is sample_carrier", "output": {"type": "find", "filter": {"carrier": "sample_carrier"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of duration_sec by day from occurred_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$occurred_at"}, "minimum": {"$min": "$duration_sec"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum measurement for unit = kwh, grouped by location?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "kwh"}}, {"$group": {"_id": "$location", "minimum": {"$min": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show employees where level is one of director, junior, lead", "output": {"type": "find", "filter": {"level": {"$in": ["director", "junior", "lead"]}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum session_length by platform where action_type is login", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "login"}}, {"$group": {"_id": "$platform", "minimum": {"$min": "$session_length"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest customer_value in customers", "output": {"type": "aggregate", "pipeline": [{"$sort": {"customer_value": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find posts where published_at exists", "output": {"type": "find", "filter": {"published_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which enrollments have a enrolled_at?", "output": {"type": "find", "filter": {"enrolled_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total lifetime_value per tier?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$tier", "total": {"$sum": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average processing_time per severity?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$severity", "average": {"$avg": "$processing_time"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_readings with unit equal to celsius", "output": {"type": "find", "filter": {"unit": "celsius"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all shipments where carrier is sample_carrier", "output": {"type": "find", "filter": {"carrier": "sample_carrier"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show shipments where status is one of delivered, processing", "output": {"type": "find", "filter": {"status": {"$in": ["delivered", "processing"]}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum weight_kg per carrier?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$carrier", "minimum": {"$min": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all orders where state is pending", "output": {"type": "find", "filter": {"state": "pending"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all lab_results where current_status is reviewed", "output": {"type": "find", "filter": {"current_status": "reviewed"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show amount between 2023-04-30T00:00:00Z and 2023-11-24T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2023-04-30T00:00:00Z"}, "$lte": {"$date": "2023-11-24T23:59:59Z"}}}, "projection": {"amount": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "evaluation", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "group", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews with group equal to sample_group", "output": {"type": "find", "filter": {"group": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest lifetime_value in customers", "output": {"type": "aggregate", "pipeline": [{"$sort": {"lifetime_value": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest charge in patient_visits", "output": {"type": "aggregate", "pipeline": [{"$sort": {"charge": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of value grouped by test_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$test_type", "maximum": {"$max": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_readings with unit in [fahrenheit, psi]", "output": {"type": "find", "filter": {"unit": {"$in": ["fahrenheit", "psi"]}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List lab_results that have test_type set to sample_test_type", "output": {"type": "find", "filter": {"test_type": "sample_test_type"}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all warehouses where cpu_usage is greater than 100", "output": {"error": "Field 'cpu_usage' does not exist in warehouses"}, "is_negative": true}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "visit_cost", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get visit_cost from visit_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"visit_cost": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group lab_results by status and test_type, show minimum value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"status": "$status", "test_type": "$test_type"}, "minimum": {"$min": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest likes in posts", "output": {"type": "aggregate", "pipeline": [{"$sort": {"likes": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show amount between 2024-10-20T00:00:00Z and 2024-12-06T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2024-10-20T00:00:00Z"}, "$lte": {"$date": "2024-12-06T23:59:59Z"}}}, "projection": {"amount": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get grade from enrolled_at ranging 2024-07-20T00:00:00Z to 2024-09-15T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-07-20T00:00:00Z"}, "$lte": {"$date": "2024-09-15T23:59:59Z"}}}, "projection": {"grade": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum salary for each department", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$department", "minimum": {"$min": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "mark", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "segment", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 performance_reviews by mark", "output": {"type": "aggregate", "pipeline": [{"$sort": {"mark": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show duration_sec between 2023-12-09T00:00:00Z and 2024-06-26T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2023-12-09T00:00:00Z"}, "$lte": {"$date": "2024-06-26T23:59:59Z"}}}, "projection": {"duration_sec": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum weight_kg for each current_status", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$current_status", "maximum": {"$max": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with merchant equal to sample_merchant", "output": {"type": "find", "filter": {"merchant": "sample_merchant"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List customers that have region set to sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all device_logs where severity is critical", "output": {"type": "find", "filter": {"severity": "critical"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many user_activity have action_type equal to comment?", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "comment"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which customers have a email?", "output": {"type": "find", "filter": {"email": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many orders have status equal to pending?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "pending"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average measurement for each location", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$location", "average": {"$avg": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average quantity_value by merchant where type is credit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "credit"}}, {"$group": {"_id": "$merchant", "average": {"$avg": "$quantity_value"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group shipments by condition and carrier, show minimum weight_kg", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"condition": "$condition", "carrier": "$carrier"}, "minimum": {"$min": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show lab_results where status is one of pending, reviewed", "output": {"type": "find", "filter": {"status": {"$in": ["pending", "reviewed"]}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get final_score from enrolled_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"final_score": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List orders that have channel set to sample_channel", "output": {"type": "find", "filter": {"channel": "sample_channel"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many user_activity have action_type equal to comment?", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "comment"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of customer_value by tier and zone", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"tier": "$tier", "zone": "$zone"}, "total": {"$sum": "$customer_value"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all employees where latitude is greater than 100", "output": {"error": "Field 'latitude' does not exist in employees"}, "is_negative": true}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Calculate the minimum of amount grouped by merchant", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$merchant", "minimum": {"$min": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show storage_limit between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"storage_limit": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where is_flagged is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_flagged": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "max_capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which warehouses have a is_climate_controlled?", "output": {"type": "find", "filter": {"is_climate_controlled": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "display_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "division", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find employees where display_name exists", "output": {"type": "find", "filter": {"display_name": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total lifetime_value per tier?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$tier", "total": {"$sum": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum academic_score by course where current_status is dropped", "output": {"type": "aggregate", "pipeline": [{"$match": {"current_status": "dropped"}}, {"$group": {"_id": "$course", "maximum": {"$max": "$academic_score"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average total_value for channel = some_value, grouped by status?", "output": {"type": "aggregate", "pipeline": [{"$match": {"channel": "some_value"}}, {"$group": {"_id": "$status", "average": {"$avg": "$total_value"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of sensor_value by location and unit", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"location": "$location", "unit": "$unit"}, "maximum": {"$max": "$sensor_value"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum grade bucketed by month using enrolled_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$enrolled_at"}, "maximum": {"$max": "$grade"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which user_activity have a platform?", "output": {"type": "find", "filter": {"platform": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average response_time_ms per severity?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$severity", "average": {"$avg": "$response_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of sum_amount grouped by merchant", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$merchant", "minimum": {"$min": "$sum_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average pay for level = director, grouped by department?", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "director"}}, {"$group": {"_id": "$department", "average": {"$avg": "$pay"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of sensor_value by month from timestamp", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$timestamp"}, "average": {"$avg": "$sensor_value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "type_class", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which products have a review_score?", "output": {"type": "find", "filter": {"review_score": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum value for state = pending, grouped by test_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "pending"}}, {"$group": {"_id": "$test_type", "minimum": {"$min": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum lifetime_value for region = some_value, grouped by tier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$tier", "minimum": {"$min": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of likes by day from published_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$published_at"}, "maximum": {"$max": "$likes"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average available_funds bucketed by month using opened_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$opened_at"}, "average": {"$avg": "$available_funds"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find accounts where branch exists", "output": {"type": "find", "filter": {"branch": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of capacity grouped by territory", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$territory", "total": {"$sum": "$capacity"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "label", "type": "string", "role": "text", "description": "Product name"}, {"name": "price_per_item", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many products have in_stock set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"in_stock": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of value grouped by test_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$test_type", "maximum": {"$max": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum time_spent by platform where action_type is login", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "login"}}, {"$group": {"_id": "$platform", "minimum": {"$min": "$time_spent"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "annual_pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count employees where level is lead", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "lead"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average elapsed_seconds per platform?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$platform", "average": {"$avg": "$elapsed_seconds"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get likes from published_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"likes": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average sum_amount by merchant where type is credit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "credit"}}, {"$group": {"_id": "$merchant", "average": {"$avg": "$sum_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of grade by course and status", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"course": "$course", "status": "$status"}, "total": {"$sum": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "full_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest salary in employees", "output": {"type": "aggregate", "pipeline": [{"$sort": {"salary": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum course_grade bucketed by month using enrolled_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$enrolled_at"}, "maximum": {"$max": "$course_grade"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum value for status = pending, grouped by test_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "pending"}}, {"$group": {"_id": "$test_type", "minimum": {"$min": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many patient_visits have is_emergency set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_emergency": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with status in [completed, active, dropped]", "output": {"type": "find", "filter": {"status": {"$in": ["completed", "active", "dropped"]}}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get charge from visit_date ranging 2024-09-07T00:00:00Z to 2025-08-28T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-09-07T00:00:00Z"}, "$lte": {"$date": "2025-08-28T23:59:59Z"}}}, "projection": {"charge": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where is_flagged is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_flagged": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show time_spent between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"time_spent": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with course equal to sample_course", "output": {"type": "find", "filter": {"course": "sample_course"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest rating in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"rating": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 warehouses by capacity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"capacity": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest gross_weight in shipments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"gross_weight": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest shipping_weight in shipments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"shipping_weight": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "title", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get salary from hire_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"hire_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"salary": 1, "hire_date": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count posts where is_pinned is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_pinned": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum lifetime_value per locale?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$locale", "maximum": {"$max": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum reading by location where unit is celsius", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "celsius"}}, {"$group": {"_id": "$location", "minimum": {"$min": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where branch is sample_branch", "output": {"type": "find", "filter": {"branch": "sample_branch"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with state in [completed, active, dropped]", "output": {"type": "find", "filter": {"state": {"$in": ["completed", "active", "dropped"]}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "annual_pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "unit", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average annual_pay for level = director, grouped by unit?", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "director"}}, {"$group": {"_id": "$unit", "average": {"$avg": "$annual_pay"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "display_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get salary from hire_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"hire_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"salary": 1, "hire_date": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average sum_amount by merchant where type is credit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "credit"}}, {"$group": {"_id": "$merchant", "average": {"$avg": "$sum_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group user_activity by platform and action_type, show maximum elapsed_seconds", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"platform": "$platform", "action_type": "$action_type"}, "maximum": {"$max": "$elapsed_seconds"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which shipments have a shipped_at?", "output": {"type": "find", "filter": {"shipped_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show lifetime_value between 2024-04-06T00:00:00Z and 2025-02-18T23:59:59Z", "output": {"type": "find", "filter": {"signup_date": {"$gte": {"$date": "2024-04-06T00:00:00Z"}, "$lte": {"$date": "2025-02-18T23:59:59Z"}}}, "projection": {"lifetime_value": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest available_funds in accounts", "output": {"type": "aggregate", "pipeline": [{"$sort": {"available_funds": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count posts where is_pinned is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_pinned": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all transactions where type is debit", "output": {"type": "find", "filter": {"type": "debit"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get balance from opened_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"balance": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "total_slots", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of total_slots grouped by locale", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$locale", "total": {"$sum": "$total_slots"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all shipments where longitude is greater than 100", "output": {"error": "Field 'longitude' does not exist in shipments"}, "is_negative": true}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "total of amount by merchant and type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"merchant": "$merchant", "type": "$type"}, "total": {"$sum": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List employees that have level set to junior", "output": {"type": "find", "filter": {"level": "junior"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "division", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total salary per level?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$level", "total": {"$sum": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all lab_results where status is reviewed", "output": {"type": "find", "filter": {"status": "reviewed"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average total_amount for channel = some_value, grouped by condition?", "output": {"type": "aggregate", "pipeline": [{"$match": {"channel": "some_value"}}, {"$group": {"_id": "$condition", "average": {"$avg": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many accounts have account_type equal to checking?", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "checking"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average latency_ms bucketed by year using logged_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$logged_at"}, "average": {"$avg": "$latency_ms"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews with category equal to sample_category", "output": {"type": "find", "filter": {"category": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum shipping_weight for each condition", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$condition", "maximum": {"$max": "$shipping_weight"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of session_length by day from occurred_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$occurred_at"}, "minimum": {"$min": "$session_length"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many warehouses have is_climate_controlled set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_climate_controlled": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average current_balance bucketed by month using opened_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$opened_at"}, "average": {"$avg": "$current_balance"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count device_logs where severity is warning", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "warning"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group orders by condition and channel, show total total_value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"condition": "$condition", "channel": "$channel"}, "total": {"$sum": "$total_value"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "label", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show rating between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"created_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"rating": 1, "created_at": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average data_point for each location", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$location", "average": {"$avg": "$data_point"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many customers have tier equal to platinum?", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "platinum"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "title", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show review_score between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"created_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"review_score": 1, "created_at": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 sensor_readings by reading", "output": {"type": "aggregate", "pipeline": [{"$sort": {"reading": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "full_name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum price bucketed by month using created_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$created_at"}, "minimum": {"$min": "$price"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "compensation", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show employees where level is one of director, junior, lead", "output": {"type": "find", "filter": {"level": {"$in": ["director", "junior", "lead"]}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total duration_sec per action_type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$action_type", "total": {"$sum": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum sum_amount by type where merchant is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"merchant": "some_value"}}, {"$group": {"_id": "$type", "minimum": {"$min": "$sum_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum lifetime_value bucketed by day using signup_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$signup_date"}, "minimum": {"$min": "$lifetime_value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of academic_score grouped by course", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$course", "average": {"$avg": "$academic_score"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of elapsed_seconds by day from occurred_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$occurred_at"}, "minimum": {"$min": "$elapsed_seconds"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total duration_sec per action_type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$action_type", "total": {"$sum": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of reactions by day from published_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$published_at"}, "maximum": {"$max": "$reactions"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count shipments where is_fragile is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_fragile": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "grade_score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum grade_score per category?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "maximum": {"$max": "$grade_score"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get response_time_ms from logged_at ranging 2024-09-23T00:00:00Z to 2024-12-29T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2024-09-23T00:00:00Z"}, "$lte": {"$date": "2024-12-29T23:59:59Z"}}}, "projection": {"response_time_ms": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "unit", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest fee_amount in patient_visits", "output": {"type": "aggregate", "pipeline": [{"$sort": {"fee_amount": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show amount between 2023-11-26T00:00:00Z and 2024-08-02T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2023-11-26T00:00:00Z"}, "$lte": {"$date": "2024-08-02T23:59:59Z"}}}, "projection": {"amount": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest reply_time_ms in device_logs", "output": {"type": "aggregate", "pipeline": [{"$sort": {"reply_time_ms": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average academic_score by status where course is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"course": "some_value"}}, {"$group": {"_id": "$status", "average": {"$avg": "$academic_score"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of reactions grouped by topic", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$topic", "total": {"$sum": "$reactions"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "grand_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum grand_total per channel?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$channel", "maximum": {"$max": "$grand_total"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest course_grade in enrollments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"course_grade": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "upvotes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get upvotes from published_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"upvotes": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of sum_amount grouped by merchant", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$merchant", "minimum": {"$min": "$sum_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show shipments where condition is one of delivered, processing", "output": {"type": "find", "filter": {"condition": {"$in": ["delivered", "processing"]}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show rating between 2024-05-23T00:00:00Z and 2025-03-20T23:59:59Z", "output": {"type": "find", "filter": {"created_at": {"$gte": {"$date": "2024-05-23T00:00:00Z"}, "$lte": {"$date": "2025-03-20T23:59:59Z"}}}, "projection": {"rating": 1, "created_at": 1}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all performance_reviews where longitude is greater than 100", "output": {"error": "Field 'longitude' does not exist in performance_reviews"}, "is_negative": true}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum sensor_value for unit = kwh, grouped by location?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "kwh"}}, {"$group": {"_id": "$location", "minimum": {"$min": "$sensor_value"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest weight_kg in shipments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"weight_kg": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of session_length by day from occurred_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$occurred_at"}, "minimum": {"$min": "$session_length"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of lifetime_value by tier and region", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"tier": "$tier", "region": "$region"}, "total": {"$sum": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "division", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum salary for each division", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$division", "minimum": {"$min": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$regex", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 sensor_readings by reading", "output": {"type": "aggregate", "pipeline": [{"$sort": {"reading": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum like_count for topic = some_value, grouped by topic?", "output": {"type": "aggregate", "pipeline": [{"$match": {"topic": "some_value"}}, {"$group": {"_id": "$topic", "minimum": {"$min": "$like_count"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$sortByCount", "$sample", "$set"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest grade in enrollments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"grade": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many enrollments have is_auditing set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_auditing": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of value by day from collected_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$collected_at"}, "average": {"$avg": "$value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average quantity_value by merchant where type is credit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "credit"}}, {"$group": {"_id": "$merchant", "average": {"$avg": "$quantity_value"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 sensor_measurements by measurement", "output": {"type": "aggregate", "pipeline": [{"$sort": {"measurement": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of grade by course and status", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"course": "$course", "status": "$status"}, "total": {"$sum": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show value between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total amount bucketed by month using txn_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$txn_date"}, "total": {"$sum": "$amount"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which customers have a email?", "output": {"type": "find", "filter": {"email": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest amount in transactions", "output": {"type": "aggregate", "pipeline": [{"$sort": {"amount": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest lifetime_value in customers", "output": {"type": "aggregate", "pipeline": [{"$sort": {"lifetime_value": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count shipments where is_fragile is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_fragile": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of course_grade by course and status", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"course": "$course", "status": "$status"}, "total": {"$sum": "$course_grade"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum total_amount for status = shipped, grouped by channel?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "shipped"}}, {"$group": {"_id": "$channel", "minimum": {"$min": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "Show device_logs where severity is one of critical, error, debug", "output": {"type": "find", "filter": {"severity": {"$in": ["critical", "error", "debug"]}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show value between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find posts with topic equal to sample_topic", "output": {"type": "find", "filter": {"topic": "sample_topic"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average pay for level = director, grouped by department?", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "director"}}, {"$group": {"_id": "$department", "average": {"$avg": "$pay"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "rating", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "classification", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show rating between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"review_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"rating": 1, "review_date": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total_spend between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"signup_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total_spend": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of charge by year from visit_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$visit_date"}, "maximum": {"$max": "$charge"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many employees have is_active set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_active": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "Show average response_time_ms bucketed by year using logged_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$logged_at"}, "average": {"$avg": "$response_time_ms"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "cost", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "group", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all products where group is sample_group", "output": {"type": "find", "filter": {"group": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum available_funds for branch = some_value, grouped by account_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "maximum": {"$max": "$available_funds"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average charge by department where department is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"department": "some_value"}}, {"$group": {"_id": "$department", "average": {"$avg": "$charge"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total sum_amount bucketed by month using txn_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$txn_date"}, "total": {"$sum": "$sum_amount"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of reading grouped by unit", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$unit", "total": {"$sum": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total response_time_ms by severity where severity is error", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "error"}}, {"$group": {"_id": "$severity", "total": {"$sum": "$response_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price_per_item", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "star_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest star_rating in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"star_rating": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show accounts where account_type is one of credit, savings", "output": {"type": "find", "filter": {"account_type": {"$in": ["credit", "savings"]}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average time_spent per platform?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$platform", "average": {"$avg": "$time_spent"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest order_total in orders", "output": {"type": "aggregate", "pipeline": [{"$sort": {"order_total": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "display_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average pay for level = director, grouped by department?", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "director"}}, {"$group": {"_id": "$department", "average": {"$avg": "$pay"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of value grouped by test_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$test_type", "maximum": {"$max": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List customers that have tier set to silver", "output": {"type": "find", "filter": {"tier": "silver"}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show score between 2024-03-15T00:00:00Z and 2024-08-08T23:59:59Z", "output": {"type": "find", "filter": {"review_date": {"$gte": {"$date": "2024-03-15T00:00:00Z"}, "$lte": {"$date": "2024-08-08T23:59:59Z"}}}, "projection": {"score": 1, "review_date": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "segment", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum price by segment where segment is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"segment": "some_value"}}, {"$group": {"_id": "$segment", "minimum": {"$min": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show value between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"value": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of value by day from collected_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$collected_at"}, "average": {"$avg": "$value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of value grouped by test_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$test_type", "maximum": {"$max": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show device_logs where severity is one of critical, error, debug", "output": {"type": "find", "filter": {"severity": {"$in": ["critical", "error", "debug"]}}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all device_logs where severity is critical", "output": {"type": "find", "filter": {"severity": "critical"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many enrollments have is_auditing set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_auditing": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "division", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all employees where division is sample_division", "output": {"type": "find", "filter": {"division": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews with category equal to sample_category", "output": {"type": "find", "filter": {"category": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "unit_price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show rating between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"created_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"rating": 1, "created_at": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with state in [completed, active, dropped]", "output": {"type": "find", "filter": {"state": {"$in": ["completed", "active", "dropped"]}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "label", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show rating between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"created_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"rating": 1, "created_at": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List employees that have level set to junior", "output": {"type": "find", "filter": {"level": "junior"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group lab_results by condition and test_type, show minimum value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"condition": "$condition", "test_type": "$test_type"}, "minimum": {"$min": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many shipments have current_status equal to returned?", "output": {"type": "aggregate", "pipeline": [{"$match": {"current_status": "returned"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average salary for level = director, grouped by department?", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "director"}}, {"$group": {"_id": "$department", "average": {"$avg": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_data_points where location is sample_location", "output": {"type": "find", "filter": {"location": "sample_location"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List enrollments that have status set to completed", "output": {"type": "find", "filter": {"status": "completed"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total time_spent per action_type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$action_type", "total": {"$sum": "$time_spent"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show lab_results where state is one of pending, reviewed", "output": {"type": "find", "filter": {"state": {"$in": ["pending", "reviewed"]}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List orders that have channel set to sample_channel", "output": {"type": "find", "filter": {"channel": "sample_channel"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group lab_results by state and test_type, show minimum value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"state": "$state", "test_type": "$test_type"}, "minimum": {"$min": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all products where discount_pct is greater than 100", "output": {"error": "Field 'discount_pct' does not exist in products"}, "is_negative": true}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show accounts where account_type is one of credit, savings", "output": {"type": "find", "filter": {"account_type": {"$in": ["credit", "savings"]}}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average charge for each team", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$team", "average": {"$avg": "$charge"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List employees that have level set to junior", "output": {"type": "find", "filter": {"level": "junior"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average ltv for area = some_value, grouped by tier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"area": "some_value"}}, {"$group": {"_id": "$tier", "average": {"$avg": "$ltv"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of capacity by year from opened_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$opened_date"}, "total": {"$sum": "$capacity"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest rating in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"rating": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all orders where condition is pending", "output": {"type": "find", "filter": {"condition": "pending"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum value for condition = pending, grouped by test_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "pending"}}, {"$group": {"_id": "$test_type", "minimum": {"$min": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which user_activity have a platform?", "output": {"type": "find", "filter": {"platform": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipments with condition equal to in_transit", "output": {"type": "find", "filter": {"condition": "in_transit"}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many patient_visits have is_emergency set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_emergency": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of salary by month from hire_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$hire_date"}, "average": {"$avg": "$salary"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many customers have tier equal to platinum?", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "platinum"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show shipments where state is one of delivered, processing", "output": {"type": "find", "filter": {"state": {"$in": ["delivered", "processing"]}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum session_length by platform where action_type is login", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "login"}}, {"$group": {"_id": "$platform", "minimum": {"$min": "$session_length"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List orders that have channel set to sample_channel", "output": {"type": "find", "filter": {"channel": "sample_channel"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all transactions where type is debit", "output": {"type": "find", "filter": {"type": "debit"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "full_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "team", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find employees where full_name exists", "output": {"type": "find", "filter": {"full_name": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average sum_amount per type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$type", "average": {"$avg": "$sum_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of thumbs_up by day from published_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$published_at"}, "maximum": {"$max": "$thumbs_up"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show transactions where type is one of credit, fee", "output": {"type": "find", "filter": {"type": {"$in": ["credit", "fee"]}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest academic_score in enrollments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"academic_score": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "maximum of likes by day from published_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$published_at"}, "maximum": {"$max": "$likes"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest charge in patient_visits", "output": {"type": "aggregate", "pipeline": [{"$sort": {"charge": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get final_score from enrolled_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"final_score": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "full_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "division", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total salary per level?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$level", "total": {"$sum": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all lab_results where status is reviewed", "output": {"type": "find", "filter": {"status": "reviewed"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all transactions where type is debit", "output": {"type": "find", "filter": {"type": "debit"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "annual_pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group employees by level and department, show total annual_pay", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"level": "$level", "department": "$department"}, "total": {"$sum": "$annual_pay"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all lab_results where profit_margin is greater than 100", "output": {"error": "Field 'profit_margin' does not exist in lab_results"}, "is_negative": true}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which orders have a channel?", "output": {"type": "find", "filter": {"channel": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many customers have tier equal to platinum?", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "platinum"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "grade_score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "group", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 performance_reviews by grade_score", "output": {"type": "aggregate", "pipeline": [{"$sort": {"grade_score": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "max_capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of max_capacity by year from opened_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$opened_date"}, "total": {"$sum": "$max_capacity"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show sum_amount between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"sum_amount": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with merchant equal to sample_merchant", "output": {"type": "find", "filter": {"merchant": "sample_merchant"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum duration_sec by platform where action_type is login", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "login"}}, {"$group": {"_id": "$platform", "minimum": {"$min": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get reading from timestamp ranging 2023-08-08T00:00:00Z to 2024-01-15T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2023-08-08T00:00:00Z"}, "$lte": {"$date": "2024-01-15T23:59:59Z"}}}, "projection": {"reading": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_sensor_values where is_anomaly exists", "output": {"type": "find", "filter": {"is_anomaly": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all products where ip_address is greater than 100", "output": {"error": "Field 'ip_address' does not exist in products"}, "is_negative": true}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "visit_cost", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "section", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of visit_cost by year from visit_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$visit_date"}, "maximum": {"$max": "$visit_cost"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "upvotes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find posts where published_at exists", "output": {"type": "find", "filter": {"published_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum account_balance for branch = some_value, grouped by account_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "maximum": {"$max": "$account_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "total_slots", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of total_slots grouped by region", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "total": {"$sum": "$total_slots"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show accounts where account_type is one of credit, savings", "output": {"type": "find", "filter": {"account_type": {"$in": ["credit", "savings"]}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest current_balance in accounts", "output": {"type": "aggregate", "pipeline": [{"$sort": {"current_balance": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 sensor_measurements by measurement", "output": {"type": "aggregate", "pipeline": [{"$sort": {"measurement": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum gross_weight per carrier?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$carrier", "minimum": {"$min": "$gross_weight"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group lab_results by status and test_type, show minimum value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"status": "$status", "test_type": "$test_type"}, "minimum": {"$min": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List employees that have level set to junior", "output": {"type": "find", "filter": {"level": "junior"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show session_length between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"session_length": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of academic_score by course and status", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"course": "$course", "status": "$status"}, "total": {"$sum": "$academic_score"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_measurements have unit equal to fahrenheit?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "fahrenheit"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of reading by month from timestamp", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$timestamp"}, "average": {"$avg": "$reading"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest shipping_weight in shipments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"shipping_weight": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show lab_results where current_status is one of pending, reviewed", "output": {"type": "find", "filter": {"current_status": {"$in": ["pending", "reviewed"]}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show weight_kg between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"weight_kg": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total latency_ms by severity where severity is error", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "error"}}, {"$group": {"_id": "$severity", "total": {"$sum": "$latency_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum time_spent by platform where action_type is login", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "login"}}, {"$group": {"_id": "$platform", "minimum": {"$min": "$time_spent"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which user_activity have a platform?", "output": {"type": "find", "filter": {"platform": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show lab_results where condition is one of pending, reviewed", "output": {"type": "find", "filter": {"condition": {"$in": ["pending", "reviewed"]}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of shipping_weight by year from shipped_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$shipped_at"}, "total": {"$sum": "$shipping_weight"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "evaluation", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "segment", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews with segment equal to sample_segment", "output": {"type": "find", "filter": {"segment": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List employees that have level set to junior", "output": {"type": "find", "filter": {"level": "junior"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_sensor_values have unit equal to fahrenheit?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "fahrenheit"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum amount by type where merchant is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"merchant": "some_value"}}, {"$group": {"_id": "$type", "minimum": {"$min": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_measurements with unit equal to celsius", "output": {"type": "find", "filter": {"unit": "celsius"}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 warehouses by capacity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"capacity": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipments with current_status equal to in_transit", "output": {"type": "find", "filter": {"current_status": "in_transit"}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show capacity between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"capacity": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List lab_results that have test_type set to sample_test_type", "output": {"type": "find", "filter": {"test_type": "sample_test_type"}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "evaluation", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "type_class", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum evaluation bucketed by year using review_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$review_date"}, "maximum": {"$max": "$evaluation"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group orders by condition and channel, show total total_value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"condition": "$condition", "channel": "$channel"}, "total": {"$sum": "$total_value"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group accounts by branch and account_type, show total available_funds", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"branch": "$branch", "account_type": "$account_type"}, "total": {"$sum": "$available_funds"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum final_score bucketed by month using enrolled_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$enrolled_at"}, "maximum": {"$max": "$final_score"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List employees that have level set to junior", "output": {"type": "find", "filter": {"level": "junior"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many user_activity have action_type equal to comment?", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "comment"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average value per current_status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$current_status", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which transactions have a is_flagged?", "output": {"type": "find", "filter": {"is_flagged": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group user_activity by platform and action_type, show maximum time_spent", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"platform": "$platform", "action_type": "$action_type"}, "maximum": {"$max": "$time_spent"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "max_capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of max_capacity grouped by region", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "total": {"$sum": "$max_capacity"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of academic_score grouped by course", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$course", "average": {"$avg": "$academic_score"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "visit_cost", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which patient_visits have a is_emergency?", "output": {"type": "find", "filter": {"is_emergency": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all device_logs where session_token is greater than 100", "output": {"error": "Field 'session_token' does not exist in device_logs"}, "is_negative": true}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "grade_score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "classification", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews where reviewer exists", "output": {"type": "find", "filter": {"reviewer": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which warehouses have a is_climate_controlled?", "output": {"type": "find", "filter": {"is_climate_controlled": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "unit", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many patient_visits have is_emergency set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_emergency": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find device_logs where message exists", "output": {"type": "find", "filter": {"message": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show value between 2023-06-07T00:00:00Z and 2023-12-22T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2023-06-07T00:00:00Z"}, "$lte": {"$date": "2023-12-22T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average grade by status where course is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"course": "some_value"}}, {"$group": {"_id": "$status", "average": {"$avg": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get response_time_ms from logged_at ranging 2023-06-01T00:00:00Z to 2024-03-02T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2023-06-01T00:00:00Z"}, "$lte": {"$date": "2024-03-02T23:59:59Z"}}}, "projection": {"response_time_ms": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of salary by month from hire_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$hire_date"}, "average": {"$avg": "$salary"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show lab_results where status is one of pending, reviewed", "output": {"type": "find", "filter": {"status": {"$in": ["pending", "reviewed"]}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get data_point from timestamp ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"data_point": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average sensor_value for each location", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$location", "average": {"$avg": "$sensor_value"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total current_balance per account_type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$account_type", "total": {"$sum": "$current_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all transactions where type is debit", "output": {"type": "find", "filter": {"type": "debit"}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which patient_visits have a is_emergency?", "output": {"type": "find", "filter": {"is_emergency": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show amount between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"amount": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group lab_results by current_status and test_type, show minimum value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"current_status": "$current_status", "test_type": "$test_type"}, "minimum": {"$min": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_sensor_values where location is sample_location", "output": {"type": "find", "filter": {"location": "sample_location"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "annual_pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "section", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum annual_pay for each section", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$section", "minimum": {"$min": "$annual_pay"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average value per status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find posts where published_at exists", "output": {"type": "find", "filter": {"published_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show customers where tier is one of platinum, gold", "output": {"type": "find", "filter": {"tier": {"$in": ["platinum", "gold"]}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of grade grouped by course", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$course", "average": {"$avg": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show transactions where type is one of credit, fee", "output": {"type": "find", "filter": {"type": {"$in": ["credit", "fee"]}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total ltv per tier?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$tier", "total": {"$sum": "$ltv"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "segment", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum score for segment = some_value, grouped by segment?", "output": {"type": "aggregate", "pipeline": [{"$match": {"segment": "some_value"}}, {"$group": {"_id": "$segment", "maximum": {"$max": "$score"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest like_count in posts", "output": {"type": "aggregate", "pipeline": [{"$sort": {"like_count": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of value by day from collected_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$collected_at"}, "average": {"$avg": "$value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show device_logs where severity is one of critical, error, debug", "output": {"type": "find", "filter": {"severity": {"$in": ["critical", "error", "debug"]}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "display_name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "minimum": {"$min": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "division", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest bill_amount in patient_visits", "output": {"type": "aggregate", "pipeline": [{"$sort": {"bill_amount": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average amount per type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$type", "average": {"$avg": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show rating between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"created_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"rating": 1, "created_at": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many customers have tier equal to platinum?", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "platinum"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "display_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get wage from hire_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"hire_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"wage": 1, "hire_date": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_measurements have unit equal to fahrenheit?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "fahrenheit"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum value for current_status = pending, grouped by test_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"current_status": "pending"}}, {"$group": {"_id": "$test_type", "minimum": {"$min": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum value for status = pending, grouped by test_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "pending"}}, {"$group": {"_id": "$test_type", "minimum": {"$min": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "team", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest salary in employees", "output": {"type": "aggregate", "pipeline": [{"$sort": {"salary": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of fee_amount by year from visit_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$visit_date"}, "maximum": {"$max": "$fee_amount"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum total_cost for status = shipped, grouped by channel?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "shipped"}}, {"$group": {"_id": "$channel", "minimum": {"$min": "$total_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group employees by level and department, show total salary", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"level": "$level", "department": "$department"}, "total": {"$sum": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which user_activity have a platform?", "output": {"type": "find", "filter": {"platform": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average salary for level = director, grouped by department?", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "director"}}, {"$group": {"_id": "$department", "average": {"$avg": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group accounts by branch and account_type, show total available_funds", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"branch": "$branch", "account_type": "$account_type"}, "total": {"$sum": "$available_funds"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List customers that have tier set to silver", "output": {"type": "find", "filter": {"tier": "silver"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$regex", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average amount per type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$type", "average": {"$avg": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest account_balance in accounts", "output": {"type": "aggregate", "pipeline": [{"$sort": {"account_balance": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest shipping_weight in shipments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"shipping_weight": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show weight_kg between 2024-12-09T00:00:00Z and 2025-05-30T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2024-12-09T00:00:00Z"}, "$lte": {"$date": "2025-05-30T23:59:59Z"}}}, "projection": {"weight_kg": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get thumbs_up from published_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"thumbs_up": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of grade by course and current_status", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"course": "$course", "current_status": "$current_status"}, "total": {"$sum": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average salary for level = director, grouped by department?", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "director"}}, {"$group": {"_id": "$department", "average": {"$avg": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with merchant equal to sample_merchant", "output": {"type": "find", "filter": {"merchant": "sample_merchant"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many shipments have state equal to returned?", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "returned"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of reactions grouped by topic", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$topic", "total": {"$sum": "$reactions"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get grade from enrolled_at ranging 2024-04-23T00:00:00Z to 2024-08-10T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-04-23T00:00:00Z"}, "$lte": {"$date": "2024-08-10T23:59:59Z"}}}, "projection": {"grade": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average response_time_ms per severity?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$severity", "average": {"$avg": "$response_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get reactions from published_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"reactions": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average response_time_ms bucketed by year using logged_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$logged_at"}, "average": {"$avg": "$response_time_ms"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum weight_kg by status where carrier is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"carrier": "some_value"}}, {"$group": {"_id": "$status", "minimum": {"$min": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show weight_kg between 2023-12-29T00:00:00Z and 2024-10-05T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2023-12-29T00:00:00Z"}, "$lte": {"$date": "2024-10-05T23:59:59Z"}}}, "projection": {"weight_kg": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum gross_weight for each status", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "maximum": {"$max": "$gross_weight"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest time_spent in user_activity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"time_spent": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum likes for topic = some_value, grouped by topic?", "output": {"type": "aggregate", "pipeline": [{"$match": {"topic": "some_value"}}, {"$group": {"_id": "$topic", "minimum": {"$min": "$likes"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get measurement from timestamp ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"measurement": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_measurements with unit in [fahrenheit, psi]", "output": {"type": "find", "filter": {"unit": {"$in": ["fahrenheit", "psi"]}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest total_amount in orders", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total_amount": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count employees where level is lead", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "lead"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "evaluation", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "classification", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show evaluation between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"review_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"evaluation": 1, "review_date": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all warehouses where region is sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average salary for level = director, grouped by department?", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "director"}}, {"$group": {"_id": "$department", "average": {"$avg": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of amount grouped by merchant", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$merchant", "minimum": {"$min": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List customers that have tier set to silver", "output": {"type": "find", "filter": {"tier": "silver"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count shipments where is_fragile is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_fragile": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find posts with topic equal to sample_topic", "output": {"type": "find", "filter": {"topic": "sample_topic"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_data_points have is_anomaly set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_anomaly": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum value by type where merchant is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"merchant": "some_value"}}, {"$group": {"_id": "$type", "minimum": {"$min": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "title", "type": "string", "role": "text", "description": "Full name"}, {"name": "pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of pay by month from hire_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$hire_date"}, "average": {"$avg": "$pay"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group accounts by branch and account_type, show total available_funds", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"branch": "$branch", "account_type": "$account_type"}, "total": {"$sum": "$available_funds"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest quantity_value in transactions", "output": {"type": "aggregate", "pipeline": [{"$sort": {"quantity_value": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "label", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest salary in employees", "output": {"type": "aggregate", "pipeline": [{"$sort": {"salary": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews with category equal to sample_category", "output": {"type": "find", "filter": {"category": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "unit", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average charge by unit where unit is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "some_value"}}, {"$group": {"_id": "$unit", "average": {"$avg": "$charge"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get sensor_value from timestamp ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"sensor_value": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "average of reading by month from timestamp", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$timestamp"}, "average": {"$avg": "$reading"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of current_balance grouped by branch", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$branch", "average": {"$avg": "$current_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total ltv per tier?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$tier", "total": {"$sum": "$ltv"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with platform equal to sample_platform", "output": {"type": "find", "filter": {"platform": "sample_platform"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "total": {"$sum": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum lifetime_value per region?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "maximum": {"$max": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest time_spent in user_activity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"time_spent": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show score between 2023-12-09T00:00:00Z and 2024-10-29T23:59:59Z", "output": {"type": "find", "filter": {"review_date": {"$gte": {"$date": "2023-12-09T00:00:00Z"}, "$lte": {"$date": "2024-10-29T23:59:59Z"}}}, "projection": {"score": 1, "review_date": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average value for status = pending, grouped by test_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "pending"}}, {"$group": {"_id": "$test_type", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total_amount between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total_amount": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total sum_amount bucketed by month using txn_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$txn_date"}, "total": {"$sum": "$sum_amount"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show elapsed_seconds between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"elapsed_seconds": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "review_score", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum price bucketed by month using created_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$created_at"}, "minimum": {"$min": "$price"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "Show all orders where status is pending", "output": {"type": "find", "filter": {"status": "pending"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest total in transactions", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which transactions have a is_flagged?", "output": {"type": "find", "filter": {"is_flagged": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_readings with unit equal to celsius", "output": {"type": "find", "filter": {"unit": "celsius"}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of thumbs_up grouped by topic", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$topic", "total": {"$sum": "$thumbs_up"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipments with condition equal to in_transit", "output": {"type": "find", "filter": {"condition": "in_transit"}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get likes from published_at ranging 2024-04-19T00:00:00Z to 2025-01-16T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-04-19T00:00:00Z"}, "$lte": {"$date": "2025-01-16T23:59:59Z"}}}, "projection": {"likes": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of capacity by year from opened_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$opened_date"}, "total": {"$sum": "$capacity"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "avg_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show avg_rating between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"created_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"avg_rating": 1, "created_at": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "display_name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "classification", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which products have a rating?", "output": {"type": "find", "filter": {"rating": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest price in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"price": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many warehouses have is_climate_controlled set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_climate_controlled": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get salary from hire_date ranging 2024-10-06T00:00:00Z to 2025-10-02T23:59:59Z", "output": {"type": "find", "filter": {"hire_date": {"$gte": {"$date": "2024-10-06T00:00:00Z"}, "$lte": {"$date": "2025-10-02T23:59:59Z"}}}, "projection": {"salary": 1, "hire_date": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "label", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest price in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"price": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with action_type equal to post", "output": {"type": "find", "filter": {"action_type": "post"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest value in transactions", "output": {"type": "aggregate", "pipeline": [{"$sort": {"value": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest amount in transactions", "output": {"type": "aggregate", "pipeline": [{"$sort": {"amount": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of reading by location and unit", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"location": "$location", "unit": "$unit"}, "maximum": {"$max": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many orders have status equal to pending?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "pending"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find orders with status in [delivered, cancelled]", "output": {"type": "find", "filter": {"status": {"$in": ["delivered", "cancelled"]}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "total", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"txn_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total": 1, "txn_date": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of measurement grouped by unit", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$unit", "total": {"$sum": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "label", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "minimum": {"$min": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all sensor_readings where cholesterol is greater than 100", "output": {"error": "Field 'cholesterol' does not exist in sensor_readings"}, "is_negative": true}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "sum_amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where is_flagged is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_flagged": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group user_activity by platform and action_type, show maximum duration_sec", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"platform": "$platform", "action_type": "$action_type"}, "maximum": {"$max": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all employees where department is sample_department", "output": {"type": "find", "filter": {"department": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total customer_value per tier?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$tier", "total": {"$sum": "$customer_value"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find device_logs where message exists", "output": {"type": "find", "filter": {"message": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_sensor_values have is_anomaly set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_anomaly": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum total_value per channel?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$channel", "maximum": {"$max": "$total_value"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count shipments where is_fragile is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_fragile": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which shipments have a shipped_at?", "output": {"type": "find", "filter": {"shipped_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of sensor_value by location and unit", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"location": "$location", "unit": "$unit"}, "maximum": {"$max": "$sensor_value"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average duration_sec for platform = some_value, grouped by action_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"platform": "some_value"}}, {"$group": {"_id": "$action_type", "average": {"$avg": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "like_count", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count posts where is_pinned is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_pinned": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where branch is sample_branch", "output": {"type": "find", "filter": {"branch": "sample_branch"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average grade per state?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$state", "average": {"$avg": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all enrollments where refund_amount is greater than 100", "output": {"error": "Field 'refund_amount' does not exist in enrollments"}, "is_negative": true}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "max_capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all warehouses where region is sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total reply_time_ms by severity where severity is error", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "error"}}, {"$group": {"_id": "$severity", "total": {"$sum": "$reply_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with merchant equal to sample_merchant", "output": {"type": "find", "filter": {"merchant": "sample_merchant"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find accounts with account_type equal to checking", "output": {"type": "find", "filter": {"account_type": "checking"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many orders have current_status equal to pending?", "output": {"type": "aggregate", "pipeline": [{"$match": {"current_status": "pending"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum weight_kg for status = returned, grouped by carrier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "returned"}}, {"$group": {"_id": "$carrier", "minimum": {"$min": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get response_time_ms from logged_at ranging 2024-01-11T00:00:00Z to 2024-07-19T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2024-01-11T00:00:00Z"}, "$lte": {"$date": "2024-07-19T23:59:59Z"}}}, "projection": {"response_time_ms": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total balance per account_type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$account_type", "total": {"$sum": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "total_slots", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all warehouses where locale is sample_locale", "output": {"type": "find", "filter": {"locale": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "total_slots", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of total_slots by year from opened_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$opened_date"}, "total": {"$sum": "$total_slots"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest latency_ms in device_logs", "output": {"type": "aggregate", "pipeline": [{"$sort": {"latency_ms": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "session_length", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show user_activity where action_type is one of comment, share", "output": {"type": "find", "filter": {"action_type": {"$in": ["comment", "share"]}}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "classification", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 performance_reviews by score", "output": {"type": "aggregate", "pipeline": [{"$sort": {"score": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show lifetime_value between 2024-04-07T00:00:00Z and 2024-10-22T23:59:59Z", "output": {"type": "find", "filter": {"signup_date": {"$gte": {"$date": "2024-04-07T00:00:00Z"}, "$lte": {"$date": "2024-10-22T23:59:59Z"}}}, "projection": {"lifetime_value": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total response_time_ms by severity where severity is error", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "error"}}, {"$group": {"_id": "$severity", "total": {"$sum": "$response_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "account_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where branch is sample_branch", "output": {"type": "find", "filter": {"branch": "sample_branch"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "cost", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "segment", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all products where segment is sample_segment", "output": {"type": "find", "filter": {"segment": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average reply_time_ms per severity?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$severity", "average": {"$avg": "$reply_time_ms"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "total_spend", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum total_spend bucketed by day using signup_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$signup_date"}, "minimum": {"$min": "$total_spend"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average total_amount for channel = some_value, grouped by status?", "output": {"type": "aggregate", "pipeline": [{"$match": {"channel": "some_value"}}, {"$group": {"_id": "$status", "average": {"$avg": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest total_amount in orders", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total_amount": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find orders with state in [delivered, cancelled]", "output": {"type": "find", "filter": {"state": {"$in": ["delivered", "cancelled"]}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total total_amount per status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "total": {"$sum": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum weight_kg per carrier?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$carrier", "minimum": {"$min": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum gross_weight per carrier?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$carrier", "minimum": {"$min": "$gross_weight"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "title", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "team", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total salary per level?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$level", "total": {"$sum": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipments with status equal to in_transit", "output": {"type": "find", "filter": {"status": "in_transit"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total processing_time by severity where severity is error", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "error"}}, {"$group": {"_id": "$severity", "total": {"$sum": "$processing_time"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "classification", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum rating for each classification", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$classification", "maximum": {"$max": "$rating"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum order_total for current_status = shipped, grouped by channel?", "output": {"type": "aggregate", "pipeline": [{"$match": {"current_status": "shipped"}}, {"$group": {"_id": "$channel", "minimum": {"$min": "$order_total"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of capacity grouped by region", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$region", "total": {"$sum": "$capacity"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show lifetime_value between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"signup_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"lifetime_value": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get charge from visit_date ranging 2023-11-10T00:00:00Z to 2024-03-04T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2023-11-10T00:00:00Z"}, "$lte": {"$date": "2024-03-04T23:59:59Z"}}}, "projection": {"charge": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all transactions where type is debit", "output": {"type": "find", "filter": {"type": "debit"}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "type_class", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum price for each type_class", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$type_class", "maximum": {"$max": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get salary from hire_date ranging 2023-08-06T00:00:00Z to 2023-12-31T23:59:59Z", "output": {"type": "find", "filter": {"hire_date": {"$gte": {"$date": "2023-08-06T00:00:00Z"}, "$lte": {"$date": "2023-12-31T23:59:59Z"}}}, "projection": {"salary": 1, "hire_date": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which user_activity have a platform?", "output": {"type": "find", "filter": {"platform": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get likes from published_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"likes": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum lifetime_value bucketed by day using signup_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$signup_date"}, "minimum": {"$min": "$lifetime_value"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which customers have a email?", "output": {"type": "find", "filter": {"email": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with course equal to sample_course", "output": {"type": "find", "filter": {"course": "sample_course"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average measurement for each location", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$location", "average": {"$avg": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List lab_results that have test_type set to sample_test_type", "output": {"type": "find", "filter": {"test_type": "sample_test_type"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show gross_weight between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"gross_weight": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many enrollments have is_auditing set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_auditing": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "maximum of reading by location and unit", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"location": "$location", "unit": "$unit"}, "maximum": {"$max": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "What is the minimum likes for topic = some_value, grouped by topic?", "output": {"type": "aggregate", "pipeline": [{"$match": {"topic": "some_value"}}, {"$group": {"_id": "$topic", "minimum": {"$min": "$likes"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average reply_time_ms bucketed by year using logged_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$logged_at"}, "average": {"$avg": "$reply_time_ms"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which customers have a email?", "output": {"type": "find", "filter": {"email": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "unit", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which patient_visits have a is_emergency?", "output": {"type": "find", "filter": {"is_emergency": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "unit", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average wage for level = director, grouped by unit?", "output": {"type": "aggregate", "pipeline": [{"$match": {"level": "director"}}, {"$group": {"_id": "$unit", "average": {"$avg": "$wage"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of measurement by location and unit", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"location": "$location", "unit": "$unit"}, "maximum": {"$max": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group accounts by branch and account_type, show total balance", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"branch": "$branch", "account_type": "$account_type"}, "total": {"$sum": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "classification", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum rating for each classification", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$classification", "maximum": {"$max": "$rating"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of amount by merchant and type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"merchant": "$merchant", "type": "$type"}, "total": {"$sum": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "fee_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "team", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which patient_visits have a is_emergency?", "output": {"type": "find", "filter": {"is_emergency": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "title", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total salary per level?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$level", "total": {"$sum": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get current_balance from opened_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"current_balance": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find accounts where branch exists", "output": {"type": "find", "filter": {"branch": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show shipments where current_status is one of delivered, processing", "output": {"type": "find", "filter": {"current_status": {"$in": ["delivered", "processing"]}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum salary for each department", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$department", "minimum": {"$min": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest total_amount in orders", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total_amount": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count device_logs where severity is warning", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "warning"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get latency_ms from logged_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"latency_ms": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total capacity by region where region is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$region", "total": {"$sum": "$capacity"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "label", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "type_class", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest price in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"price": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get data_point from timestamp ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"data_point": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all device_logs where severity is critical", "output": {"type": "find", "filter": {"severity": "critical"}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get charge from visit_date ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"visit_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"charge": 1, "visit_date": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where is_flagged is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_flagged": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all device_logs where severity is critical", "output": {"type": "find", "filter": {"severity": "critical"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum weight_kg by state where carrier is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"carrier": "some_value"}}, {"$group": {"_id": "$state", "minimum": {"$min": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "grade_score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "group", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews with group equal to sample_group", "output": {"type": "find", "filter": {"group": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with merchant equal to sample_merchant", "output": {"type": "find", "filter": {"merchant": "sample_merchant"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group orders by current_status and channel, show total total_value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"current_status": "$current_status", "channel": "$channel"}, "total": {"$sum": "$total_value"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List enrollments that have state set to completed", "output": {"type": "find", "filter": {"state": "completed"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count device_logs where severity is warning", "output": {"type": "aggregate", "pipeline": [{"$match": {"severity": "warning"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of measurement grouped by unit", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$unit", "total": {"$sum": "$measurement"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get reading from timestamp ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"reading": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many shipments have status equal to returned?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "returned"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with course equal to sample_course", "output": {"type": "find", "filter": {"course": "sample_course"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total balance for branch = some_value, grouped by account_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "total": {"$sum": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total capacity by region where region is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"region": "some_value"}}, {"$group": {"_id": "$region", "total": {"$sum": "$capacity"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum price for each category", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "maximum": {"$max": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of balance grouped by branch", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$branch", "average": {"$avg": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all accounts where branch is sample_branch", "output": {"type": "find", "filter": {"branch": "sample_branch"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average course_grade by state where course is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"course": "some_value"}}, {"$group": {"_id": "$state", "average": {"$avg": "$course_grade"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show duration_sec between 2023-05-29T00:00:00Z and 2023-08-06T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2023-05-29T00:00:00Z"}, "$lte": {"$date": "2023-08-06T23:59:59Z"}}}, "projection": {"duration_sec": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total amount bucketed by month using txn_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$txn_date"}, "total": {"$sum": "$amount"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which patient_visits have a is_emergency?", "output": {"type": "find", "filter": {"is_emergency": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "display_name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum salary for each department", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$department", "minimum": {"$min": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum weight_kg per carrier?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$carrier", "minimum": {"$min": "$weight_kg"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total elapsed_seconds per action_type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$action_type", "total": {"$sum": "$elapsed_seconds"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of ltv by tier and zone", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"tier": "$tier", "zone": "$zone"}, "total": {"$sum": "$ltv"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "title", "type": "string", "role": "text", "description": "Full name"}, {"name": "compensation", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List employees that have level set to junior", "output": {"type": "find", "filter": {"level": "junior"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum total_value per channel?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$channel", "maximum": {"$max": "$total_value"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which enrollments have a enrolled_at?", "output": {"type": "find", "filter": {"enrolled_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with platform equal to sample_platform", "output": {"type": "find", "filter": {"platform": "sample_platform"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of final_score grouped by course", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$course", "average": {"$avg": "$final_score"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "Get response_time_ms from logged_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"logged_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"response_time_ms": 1, "logged_at": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum total_cost for status = shipped, grouped by channel?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "shipped"}}, {"$group": {"_id": "$channel", "minimum": {"$min": "$total_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "mark", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum mark bucketed by year using review_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$review_date"}, "maximum": {"$max": "$mark"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of capacity by year from opened_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$opened_date"}, "total": {"$sum": "$capacity"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find accounts where branch exists", "output": {"type": "find", "filter": {"branch": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum current_balance for branch = some_value, grouped by account_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "maximum": {"$max": "$current_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average total_amount for channel = some_value, grouped by status?", "output": {"type": "aggregate", "pipeline": [{"$match": {"channel": "some_value"}}, {"$group": {"_id": "$status", "average": {"$avg": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all shipments where elevation is greater than 100", "output": {"error": "Field 'elevation' does not exist in shipments"}, "is_negative": true}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show employees where level is one of director, junior, lead", "output": {"type": "find", "filter": {"level": {"$in": ["director", "junior", "lead"]}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "full_name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all products where category is sample_category", "output": {"type": "find", "filter": {"category": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get reading from timestamp ranging 2023-10-09T00:00:00Z to 2024-03-28T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2023-10-09T00:00:00Z"}, "$lte": {"$date": "2024-03-28T23:59:59Z"}}}, "projection": {"reading": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_data_points with unit in [fahrenheit, psi]", "output": {"type": "find", "filter": {"unit": {"$in": ["fahrenheit", "psi"]}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "quantity_value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all transactions where type is debit", "output": {"type": "find", "filter": {"type": "debit"}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "evaluation", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "group", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show evaluation between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"review_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"evaluation": 1, "review_date": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show lifetime_value between 2024-10-01T00:00:00Z and 2025-07-06T23:59:59Z", "output": {"type": "find", "filter": {"signup_date": {"$gte": {"$date": "2024-10-01T00:00:00Z"}, "$lte": {"$date": "2025-07-06T23:59:59Z"}}}, "projection": {"lifetime_value": 1, "signup_date": 1}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show shipments where status is one of delivered, processing", "output": {"type": "find", "filter": {"status": {"$in": ["delivered", "processing"]}}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "rating", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "group", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum rating for group = some_value, grouped by group?", "output": {"type": "aggregate", "pipeline": [{"$match": {"group": "some_value"}}, {"$group": {"_id": "$group", "maximum": {"$max": "$rating"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average grade per status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "average": {"$avg": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "Show average reading for each location", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$location", "average": {"$avg": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$skip", "$project", "$unwind", "$lookup", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total balance for branch = some_value, grouped by account_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "total": {"$sum": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "display_name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "star_rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum star_rating for each category", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "maximum": {"$max": "$star_rating"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of balance grouped by branch", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$branch", "average": {"$avg": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find orders with current_status in [delivered, cancelled]", "output": {"type": "find", "filter": {"current_status": {"$in": ["delivered", "cancelled"]}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get course_grade from enrolled_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"course_grade": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "thumbs_up", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find posts with topic equal to sample_topic", "output": {"type": "find", "filter": {"topic": "sample_topic"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show lab_results where state is one of pending, reviewed", "output": {"type": "find", "filter": {"state": {"$in": ["pending", "reviewed"]}}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average charge by department where department is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"department": "some_value"}}, {"$group": {"_id": "$department", "average": {"$avg": "$charge"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of value grouped by merchant", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$merchant", "minimum": {"$min": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "section", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many patient_visits have is_emergency set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_emergency": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with platform equal to sample_platform", "output": {"type": "find", "filter": {"platform": "sample_platform"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all orders where status is pending", "output": {"type": "find", "filter": {"status": "pending"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all enrollments where user_agent is greater than 100", "output": {"error": "Field 'user_agent' does not exist in enrollments"}, "is_negative": true}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total_amount between 2024-06-22T00:00:00Z and 2024-12-29T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-06-22T00:00:00Z"}, "$lte": {"$date": "2024-12-29T23:59:59Z"}}}, "projection": {"total_amount": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum total_amount per channel?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$channel", "maximum": {"$max": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average academic_score per status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "average": {"$avg": "$academic_score"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average value for status = pending, grouped by test_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "pending"}}, {"$group": {"_id": "$test_type", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find accounts where branch exists", "output": {"type": "find", "filter": {"branch": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show user_activity where action_type is one of comment, share", "output": {"type": "find", "filter": {"action_type": {"$in": ["comment", "share"]}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total total_amount per status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "total": {"$sum": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find posts where published_at exists", "output": {"type": "find", "filter": {"published_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 10 highest balance in accounts", "output": {"type": "aggregate", "pipeline": [{"$sort": {"balance": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "ltv", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show customers where tier is one of platinum, gold", "output": {"type": "find", "filter": {"tier": {"$in": ["platinum", "gold"]}}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "reactions", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest reactions in posts", "output": {"type": "aggregate", "pipeline": [{"$sort": {"reactions": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of value grouped by test_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$test_type", "maximum": {"$max": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count shipments where is_fragile is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_fragile": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many sensor_sensor_values have unit equal to fahrenheit?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "fahrenheit"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total_amount between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"total_amount": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "grand_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "condition", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many orders have condition equal to pending?", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "pending"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum final_score by course where current_status is dropped", "output": {"type": "aggregate", "pipeline": [{"$match": {"current_status": "dropped"}}, {"$group": {"_id": "$course", "maximum": {"$max": "$final_score"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of capacity by year from opened_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$opened_date"}, "total": {"$sum": "$capacity"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count shipments where is_fragile is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_fragile": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which enrollments have a enrolled_at?", "output": {"type": "find", "filter": {"enrolled_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 performance_reviews by score", "output": {"type": "aggregate", "pipeline": [{"$sort": {"score": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$dateToString", "$toDate"]}, "intent": "What is the average grade per status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "average": {"$avg": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show weight_kg between 2023-02-03T00:00:00Z and 2023-03-07T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2023-02-03T00:00:00Z"}, "$lte": {"$date": "2023-03-07T23:59:59Z"}}}, "projection": {"weight_kg": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum data_point for unit = kwh, grouped by location?", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "kwh"}}, {"$group": {"_id": "$location", "minimum": {"$min": "$data_point"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum price bucketed by month using created_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$created_at"}, "minimum": {"$min": "$price"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get likes from published_at ranging 2023-04-29T00:00:00Z to 2024-01-19T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2023-04-29T00:00:00Z"}, "$lte": {"$date": "2024-01-19T23:59:59Z"}}}, "projection": {"likes": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "bill_amount", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average bill_amount by department where department is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"department": "some_value"}}, {"$group": {"_id": "$department", "average": {"$avg": "$bill_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all warehouses where latitude is greater than 100", "output": {"error": "Field 'latitude' does not exist in warehouses"}, "is_negative": true}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of value grouped by test_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$test_type", "maximum": {"$max": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many warehouses have is_climate_controlled set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_climate_controlled": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price_per_item", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "group", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum price_per_item for each group", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$group", "maximum": {"$max": "$price_per_item"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "title", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which products have a rating?", "output": {"type": "find", "filter": {"rating": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipments with status equal to in_transit", "output": {"type": "find", "filter": {"status": "in_transit"}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of capacity by year from opened_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$opened_date"}, "total": {"$sum": "$capacity"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many warehouses have is_climate_controlled set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_climate_controlled": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with current_status in [completed, active, dropped]", "output": {"type": "find", "filter": {"current_status": {"$in": ["completed", "active", "dropped"]}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 5 highest weight_kg in shipments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"weight_kg": -1}}, {"$limit": 5}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show elapsed_seconds between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"elapsed_seconds": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "visit_cost", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "department", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of visit_cost by year from visit_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$visit_date"}, "maximum": {"$max": "$visit_cost"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum score per category?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "maximum": {"$max": "$score"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List orders that have channel set to sample_channel", "output": {"type": "find", "filter": {"channel": "sample_channel"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of current_balance grouped by branch", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$branch", "average": {"$avg": "$current_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find user_activity with action_type equal to post", "output": {"type": "find", "filter": {"action_type": "post"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find shipments with state equal to in_transit", "output": {"type": "find", "filter": {"state": "in_transit"}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "Top 3 warehouses by capacity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"capacity": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which warehouses have a is_climate_controlled?", "output": {"type": "find", "filter": {"is_climate_controlled": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_measurements with unit equal to celsius", "output": {"type": "find", "filter": {"unit": "celsius"}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find transactions with merchant equal to sample_merchant", "output": {"type": "find", "filter": {"merchant": "sample_merchant"}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum shipping_weight for status = returned, grouped by carrier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "returned"}}, {"$group": {"_id": "$carrier", "minimum": {"$min": "$shipping_weight"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$multiply", "$divide", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the minimum of amount grouped by merchant", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$merchant", "minimum": {"$min": "$amount"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "data_point", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of data_point by location and unit", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"location": "$location", "unit": "$unit"}, "maximum": {"$max": "$data_point"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get grade from enrolled_at ranging 2023-03-08T00:00:00Z to 2023-06-21T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2023-03-08T00:00:00Z"}, "$lte": {"$date": "2023-06-21T23:59:59Z"}}}, "projection": {"grade": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show accounts where account_type is one of credit, savings", "output": {"type": "find", "filter": {"account_type": {"$in": ["credit", "savings"]}}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average lifetime_value for territory = some_value, grouped by tier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"territory": "some_value"}}, {"$group": {"_id": "$tier", "average": {"$avg": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$subtract", "$multiply", "$divide", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which user_activity have a platform?", "output": {"type": "find", "filter": {"platform": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_measurements with unit in [fahrenheit, psi]", "output": {"type": "find", "filter": {"unit": {"$in": ["fahrenheit", "psi"]}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which shipments have a shipped_at?", "output": {"type": "find", "filter": {"shipped_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "unit_cost", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum unit_cost bucketed by month using created_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$created_at"}, "minimum": {"$min": "$unit_cost"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "List customers that have region set to sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "state", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average value for state = pending, grouped by test_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "pending"}}, {"$group": {"_id": "$test_type", "average": {"$avg": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum shipping_weight for status = returned, grouped by carrier?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "returned"}}, {"$group": {"_id": "$carrier", "minimum": {"$min": "$shipping_weight"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum salary for each department", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$department", "minimum": {"$min": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "mass_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all shipments where carrier is sample_carrier", "output": {"type": "find", "filter": {"carrier": "sample_carrier"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average total_cost bucketed by day using order_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$order_date"}, "average": {"$avg": "$total_cost"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List customers that have region set to sample_region", "output": {"type": "find", "filter": {"region": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many accounts have account_type equal to checking?", "output": {"type": "aggregate", "pipeline": [{"$match": {"account_type": "checking"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show weight_kg between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"weight_kg": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "latency_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find device_logs where message exists", "output": {"type": "find", "filter": {"message": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "sensor_value", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum sensor_value by location where unit is celsius", "output": {"type": "aggregate", "pipeline": [{"$match": {"unit": "celsius"}}, {"$group": {"_id": "$location", "minimum": {"$min": "$sensor_value"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "segment", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total price by segment where segment is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"segment": "some_value"}}, {"$group": {"_id": "$segment", "total": {"$sum": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 warehouses by capacity", "output": {"type": "aggregate", "pipeline": [{"$sort": {"capacity": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "course_grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "state", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of course_grade grouped by course", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$course", "average": {"$avg": "$course_grade"}}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show transactions where type is one of credit, fee", "output": {"type": "find", "filter": {"type": {"$in": ["credit", "fee"]}}}, "is_negative": false}
{"schema": {"collection": "patient_visits", "domain": "healthcare", "fields": [{"name": "visit_id", "type": "string", "role": "identifier", "description": "Visit identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "charge", "type": "double", "role": "measure", "description": "Visit charge in USD"}, {"name": "visit_date", "type": "date", "role": "timestamp", "description": "Date of visit"}, {"name": "division", "type": "string", "role": "category", "description": "Hospital department"}, {"name": "diagnosis", "type": "string", "role": "text", "description": "Primary diagnosis"}, {"name": "is_emergency", "type": "bool", "role": "boolean", "description": "Whether visit was emergency"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which patient_visits have a is_emergency?", "output": {"type": "find", "filter": {"is_emergency": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "total_slots", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 warehouses by total_slots", "output": {"type": "aggregate", "pipeline": [{"$sort": {"total_slots": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show value between 2024-04-19T00:00:00Z and 2024-06-11T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2024-04-19T00:00:00Z"}, "$lte": {"$date": "2024-06-11T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum price for each category", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$category", "maximum": {"$max": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "pay", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum pay for each department", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$department", "minimum": {"$min": "$pay"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group orders by state and channel, show total total_value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"state": "$state", "channel": "$channel"}, "total": {"$sum": "$total_value"}}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "territory", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many customers have tier equal to platinum?", "output": {"type": "aggregate", "pipeline": [{"$match": {"tier": "platinum"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest order_total in orders", "output": {"type": "aggregate", "pipeline": [{"$sort": {"order_total": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "What is the average grade per status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "average": {"$avg": "$grade"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get reading from timestamp ranging 2023-09-19T00:00:00Z to 2024-07-17T23:59:59Z", "output": {"type": "find", "filter": {"timestamp": {"$gte": {"$date": "2023-09-19T00:00:00Z"}, "$lte": {"$date": "2024-07-17T23:59:59Z"}}}, "projection": {"reading": 1, "timestamp": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "area", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of lifetime_value by tier and area", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"tier": "$tier", "area": "$area"}, "total": {"$sum": "$lifetime_value"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString"]}, "intent": "Show user_activity where action_type is one of comment, share", "output": {"type": "find", "filter": {"action_type": {"$in": ["comment", "share"]}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum price by category where category is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"category": "some_value"}}, {"$group": {"_id": "$category", "minimum": {"$min": "$price"}}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show capacity between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"capacity": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the maximum of value grouped by test_type", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$test_type", "maximum": {"$max": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "reply_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest reply_time_ms in device_logs", "output": {"type": "aggregate", "pipeline": [{"$sort": {"reply_time_ms": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average duration_sec for platform = some_value, grouped by action_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"platform": "some_value"}}, {"$group": {"_id": "$action_type", "average": {"$avg": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get current_balance from opened_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"current_balance": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "available_funds", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average available_funds bucketed by month using opened_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$opened_at"}, "average": {"$avg": "$available_funds"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "time_spent", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many user_activity have action_type equal to comment?", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "comment"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "order_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show order_total between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"order_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"order_total": 1, "order_date": 1}}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "upvotes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest upvotes in posts", "output": {"type": "aggregate", "pipeline": [{"$sort": {"upvotes": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$nor", "$exists", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find enrollments with course equal to sample_course", "output": {"type": "find", "filter": {"course": "sample_course"}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group orders by status and channel, show total total_value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"status": "$status", "channel": "$channel"}, "total": {"$sum": "$total_value"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "category", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "Show score between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"review_date": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"score": 1, "review_date": 1}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$toDate"]}, "intent": "What is the total salary per level?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$level", "total": {"$sum": "$salary"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "title", "type": "string", "role": "text", "description": "Product name"}, {"name": "unit_cost", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest rating in products", "output": {"type": "aggregate", "pipeline": [{"$sort": {"rating": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count shipments where is_fragile is true", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_fragile": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum duration_sec by platform where action_type is login", "output": {"type": "aggregate", "pipeline": [{"$match": {"action_type": "login"}}, {"$group": {"_id": "$platform", "minimum": {"$min": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all shipments where carrier is sample_carrier", "output": {"type": "find", "filter": {"carrier": "sample_carrier"}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which user_activity have a platform?", "output": {"type": "find", "filter": {"platform": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the average of balance grouped by branch", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$branch", "average": {"$avg": "$balance"}}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show employees where level is one of director, junior, lead", "output": {"type": "find", "filter": {"level": {"$in": ["director", "junior", "lead"]}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "total of weight_kg by year from shipped_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$shipped_at"}, "total": {"$sum": "$weight_kg"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "wage", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all employees where department is sample_department", "output": {"type": "find", "filter": {"department": "sample_department"}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest response_time_ms in device_logs", "output": {"type": "aggregate", "pipeline": [{"$sort": {"response_time_ms": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 3 warehouses by storage_limit", "output": {"type": "aggregate", "pipeline": [{"$sort": {"storage_limit": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "response_time_ms", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$map", "$dateToString", "$toDate"]}, "intent": "Show device_logs where severity is one of critical, error, debug", "output": {"type": "find", "filter": {"severity": {"$in": ["critical", "error", "debug"]}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which shipments have a shipped_at?", "output": {"type": "find", "filter": {"shipped_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "condition", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many shipments have condition equal to returned?", "output": {"type": "aggregate", "pipeline": [{"$match": {"condition": "returned"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get balance from opened_at ranging 2023-01-11T00:00:00Z to 2023-09-01T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2023-01-11T00:00:00Z"}, "$lte": {"$date": "2023-09-01T23:59:59Z"}}}, "projection": {"balance": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the average duration_sec per platform?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$platform", "average": {"$avg": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum total_amount for current_status = shipped, grouped by channel?", "output": {"type": "aggregate", "pipeline": [{"$match": {"current_status": "shipped"}}, {"$group": {"_id": "$channel", "minimum": {"$min": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "segment", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum score per segment?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$segment", "maximum": {"$max": "$score"}}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get balance from opened_at ranging 2023-12-08T00:00:00Z to 2024-04-29T23:59:59Z", "output": {"type": "find", "filter": {"opened_at": {"$gte": {"$date": "2023-12-08T00:00:00Z"}, "$lte": {"$date": "2024-04-29T23:59:59Z"}}}, "projection": {"balance": 1, "opened_at": 1}}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "lifetime_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "locale", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List customers that have tier set to silver", "output": {"type": "find", "filter": {"tier": "silver"}}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "name", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "department", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest salary in employees", "output": {"type": "aggregate", "pipeline": [{"$sort": {"salary": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "measurement", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find sensor_measurements where is_anomaly exists", "output": {"type": "find", "filter": {"is_anomaly": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest grade in enrollments", "output": {"type": "aggregate", "pipeline": [{"$sort": {"grade": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "rating", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "classification", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum rating per classification?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$classification", "maximum": {"$max": "$rating"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "gross_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show shipments where status is one of delivered, processing", "output": {"type": "find", "filter": {"status": {"$in": ["delivered", "processing"]}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "grand_total", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average grand_total bucketed by day using order_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$order_date"}, "average": {"$avg": "$grand_total"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_value", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which orders have a channel?", "output": {"type": "find", "filter": {"channel": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_cost", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total total_cost per status?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$status", "total": {"$sum": "$total_cost"}}}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show duration_sec between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"occurred_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"duration_sec": 1, "occurred_at": 1}}, "is_negative": false}
{"schema": {"collection": "device_logs", "domain": "iot", "fields": [{"name": "log_id", "type": "string", "role": "identifier", "description": "Log entry ID"}, {"name": "device_id", "type": "string", "role": "identifier", "description": "Device reference"}, {"name": "severity", "type": "string", "role": "enum", "description": "Log severity", "enum_values": ["debug", "info", "warning", "error", "critical"]}, {"name": "logged_at", "type": "date", "role": "timestamp", "description": "Log timestamp"}, {"name": "message", "type": "string", "role": "text", "description": "Log message"}, {"name": "processing_time", "type": "int", "role": "measure", "description": "Response time in ms"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show average processing_time bucketed by year using logged_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$logged_at"}, "average": {"$avg": "$processing_time"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "state", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show weight_kg between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"shipped_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"weight_kg": 1, "shipped_at": 1}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "elapsed_seconds", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of elapsed_seconds by day from occurred_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$occurred_at"}, "minimum": {"$min": "$elapsed_seconds"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "amount", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Count transactions where type is debit", "output": {"type": "aggregate", "pipeline": [{"$match": {"type": "debit"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "employees", "domain": "hr", "fields": [{"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee ID"}, {"name": "title", "type": "string", "role": "text", "description": "Full name"}, {"name": "salary", "type": "double", "role": "measure", "description": "Annual salary"}, {"name": "hire_date", "type": "date", "role": "timestamp", "description": "Date of hire"}, {"name": "unit", "type": "string", "role": "category", "description": "Department name"}, {"name": "level", "type": "string", "role": "enum", "description": "Job level", "enum_values": ["junior", "mid", "senior", "lead", "director"]}, {"name": "is_active", "type": "bool", "role": "boolean", "description": "Currently employed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show the 3 highest salary in employees", "output": {"type": "aggregate", "pipeline": [{"$sort": {"salary": -1}}, {"$limit": 3}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total current_balance for branch = some_value, grouped by account_type?", "output": {"type": "aggregate", "pipeline": [{"$match": {"branch": "some_value"}}, {"$group": {"_id": "$account_type", "total": {"$sum": "$current_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "academic_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which enrollments have a enrolled_at?", "output": {"type": "find", "filter": {"enrolled_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "category", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show all products where category is sample_category", "output": {"type": "find", "filter": {"category": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "score", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "group", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show maximum score bucketed by year using review_date", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$year": "$review_date"}, "maximum": {"$max": "$score"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find accounts with account_type equal to checking", "output": {"type": "find", "filter": {"account_type": "checking"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "final_score", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which enrollments have a enrolled_at?", "output": {"type": "find", "filter": {"enrolled_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which warehouses have a is_climate_controlled?", "output": {"type": "find", "filter": {"is_climate_controlled": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "transactions", "domain": "finance", "fields": [{"name": "txn_id", "type": "string", "role": "identifier", "description": "Transaction ID"}, {"name": "account_id", "type": "string", "role": "identifier", "description": "Account reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Transaction amount"}, {"name": "txn_date", "type": "date", "role": "timestamp", "description": "Transaction date"}, {"name": "type", "type": "string", "role": "enum", "description": "Transaction type", "enum_values": ["debit", "credit", "transfer", "fee"]}, {"name": "merchant", "type": "string", "role": "category", "description": "Merchant name"}, {"name": "is_flagged", "type": "bool", "role": "boolean", "description": "Flagged for review"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which transactions have a is_flagged?", "output": {"type": "find", "filter": {"is_flagged": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total duration_sec per action_type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$action_type", "total": {"$sum": "$duration_sec"}}}]}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group lab_results by status and test_type, show minimum value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"status": "$status", "test_type": "$test_type"}, "minimum": {"$min": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "mark", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "segment", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum mark per segment?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$segment", "maximum": {"$max": "$mark"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "likes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get likes from published_at ranging 2024-08-19T00:00:00Z to 2025-02-15T23:59:59Z", "output": {"type": "find", "filter": {"published_at": {"$gte": {"$date": "2024-08-19T00:00:00Z"}, "$lte": {"$date": "2025-02-15T23:59:59Z"}}}, "projection": {"likes": 1, "published_at": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many lab_results have status equal to pending?", "output": {"type": "aggregate", "pipeline": [{"$match": {"status": "pending"}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "user_activity", "domain": "social", "fields": [{"name": "activity_id", "type": "string", "role": "identifier", "description": "Activity ID"}, {"name": "user_id", "type": "string", "role": "identifier", "description": "User reference"}, {"name": "duration_sec", "type": "int", "role": "measure", "description": "Activity duration in seconds"}, {"name": "occurred_at", "type": "date", "role": "timestamp", "description": "Activity timestamp"}, {"name": "action_type", "type": "string", "role": "enum", "description": "Type of action", "enum_values": ["login", "logout", "post", "comment", "share"]}, {"name": "platform", "type": "string", "role": "category", "description": "Client platform"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$skip", "$project", "$unwind", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "minimum of duration_sec by day from occurred_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$occurred_at"}, "minimum": {"$min": "$duration_sec"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "How many warehouses have is_climate_controlled set to true?", "output": {"type": "aggregate", "pipeline": [{"$match": {"is_climate_controlled": true}}, {"$count": "total"}]}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "condition", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which enrollments have a enrolled_at?", "output": {"type": "find", "filter": {"enrolled_at": {"$exists": true, "$ne": null}}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "storage_limit", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show total storage_limit by zone where zone is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"zone": "some_value"}}, {"$group": {"_id": "$zone", "total": {"$sum": "$storage_limit"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "state", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the minimum total_amount for state = shipped, grouped by channel?", "output": {"type": "aggregate", "pipeline": [{"$match": {"state": "shipped"}}, {"$group": {"_id": "$channel", "minimum": {"$min": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Calculate the total of reading grouped by unit", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$unit", "total": {"$sum": "$reading"}}}]}, "is_negative": false}
{"schema": {"collection": "sensor_readings", "domain": "iot", "fields": [{"name": "sensor_id", "type": "string", "role": "identifier", "description": "Sensor identifier"}, {"name": "reading", "type": "double", "role": "measure", "description": "Sensor reading value"}, {"name": "timestamp", "type": "date", "role": "timestamp", "description": "Reading timestamp"}, {"name": "location", "type": "string", "role": "category", "description": "Sensor location"}, {"name": "unit", "type": "string", "role": "enum", "description": "Measurement unit", "enum_values": ["celsius", "fahrenheit", "psi", "rpm", "kwh"]}, {"name": "is_anomaly", "type": "bool", "role": "boolean", "description": "Whether reading is anomalous"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Top 10 sensor_readings by reading", "output": {"type": "aggregate", "pipeline": [{"$sort": {"reading": -1}}, {"$limit": 10}]}, "is_negative": false}
{"schema": {"collection": "accounts", "domain": "finance", "fields": [{"name": "account_id", "type": "string", "role": "identifier", "description": "Account ID"}, {"name": "owner_name", "type": "string", "role": "text", "description": "Account owner name"}, {"name": "current_balance", "type": "double", "role": "measure", "description": "Current balance"}, {"name": "opened_at", "type": "date", "role": "timestamp", "description": "Account opening date"}, {"name": "account_type", "type": "string", "role": "enum", "description": "Account type", "enum_values": ["checking", "savings", "credit", "investment"]}, {"name": "branch", "type": "string", "role": "category", "description": "Branch name"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the total current_balance per account_type?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$account_type", "total": {"$sum": "$current_balance"}}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "weight_kg", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$dateToString", "$toDate"]}, "intent": "Show all shipments where carrier is sample_carrier", "output": {"type": "find", "filter": {"carrier": "sample_carrier"}}, "is_negative": false}
{"schema": {"collection": "enrollments", "domain": "education", "fields": [{"name": "enrollment_id", "type": "string", "role": "identifier", "description": "Enrollment ID"}, {"name": "student_id", "type": "string", "role": "identifier", "description": "Student reference"}, {"name": "grade", "type": "double", "role": "measure", "description": "Final grade (0-100)"}, {"name": "enrolled_at", "type": "date", "role": "timestamp", "description": "Enrollment date"}, {"name": "course", "type": "string", "role": "category", "description": "Course name"}, {"name": "status", "type": "string", "role": "enum", "description": "Enrollment status", "enum_values": ["active", "completed", "dropped", "waitlisted"]}, {"name": "is_auditing", "type": "bool", "role": "boolean", "description": "Auditing (no credit)"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Get grade from enrolled_at ranging 2024-01-01T00:00:00Z to 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"enrolled_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"grade": 1, "enrolled_at": 1}}, "is_negative": false}
{"schema": {"collection": "warehouses", "domain": "logistics", "fields": [{"name": "warehouse_id", "type": "string", "role": "identifier", "description": "Warehouse ID"}, {"name": "capacity", "type": "int", "role": "measure", "description": "Max storage units"}, {"name": "opened_date", "type": "date", "role": "timestamp", "description": "Date warehouse opened"}, {"name": "region", "type": "string", "role": "category", "description": "Geographic region"}, {"name": "is_climate_controlled", "type": "bool", "role": "boolean", "description": "Has climate control"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show capacity between 2023-10-21T00:00:00Z and 2024-09-05T23:59:59Z", "output": {"type": "find", "filter": {"opened_date": {"$gte": {"$date": "2023-10-21T00:00:00Z"}, "$lte": {"$date": "2024-09-05T23:59:59Z"}}}, "projection": {"capacity": 1, "opened_date": 1}}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "What is the maximum total_amount per channel?", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": "$channel", "maximum": {"$max": "$total_amount"}}}]}, "is_negative": false}
{"schema": {"collection": "products", "domain": "ecommerce", "fields": [{"name": "product_id", "type": "string", "role": "identifier", "description": "Product SKU"}, {"name": "name", "type": "string", "role": "text", "description": "Product name"}, {"name": "unit_price", "type": "double", "role": "measure", "description": "Unit price"}, {"name": "segment", "type": "string", "role": "category", "description": "Product category"}, {"name": "in_stock", "type": "bool", "role": "boolean", "description": "Whether product is in stock"}, {"name": "rating", "type": "double", "role": "measure", "description": "Average customer rating"}, {"name": "created_at", "type": "date", "role": "timestamp", "description": "Date product was listed"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum unit_price bucketed by month using created_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$month": "$created_at"}, "minimum": {"$min": "$unit_price"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "shipments", "domain": "logistics", "fields": [{"name": "shipment_id", "type": "string", "role": "identifier", "description": "Shipment ID"}, {"name": "shipping_weight", "type": "double", "role": "measure", "description": "Shipment weight in kg"}, {"name": "shipped_at", "type": "date", "role": "timestamp", "description": "Shipment date"}, {"name": "carrier", "type": "string", "role": "category", "description": "Shipping carrier"}, {"name": "current_status", "type": "string", "role": "enum", "description": "Shipment status", "enum_values": ["processing", "in_transit", "delivered", "returned"]}, {"name": "is_fragile", "type": "bool", "role": "boolean", "description": "Fragile handling required"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show minimum shipping_weight by current_status where carrier is some_value", "output": {"type": "aggregate", "pipeline": [{"$match": {"carrier": "some_value"}}, {"$group": {"_id": "$current_status", "minimum": {"$min": "$shipping_weight"}}}]}, "is_negative": false}
{"schema": {"collection": "posts", "domain": "social", "fields": [{"name": "post_id", "type": "string", "role": "identifier", "description": "Post ID"}, {"name": "author_id", "type": "string", "role": "identifier", "description": "Author reference"}, {"name": "upvotes", "type": "int", "role": "measure", "description": "Number of likes"}, {"name": "published_at", "type": "date", "role": "timestamp", "description": "Publication timestamp"}, {"name": "topic", "type": "string", "role": "category", "description": "Post topic"}, {"name": "content", "type": "string", "role": "text", "description": "Post body text"}, {"name": "is_pinned", "type": "bool", "role": "boolean", "description": "Whether post is pinned"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "maximum of upvotes by day from published_at", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"$dayOfMonth": "$published_at"}, "maximum": {"$max": "$upvotes"}}}, {"$sort": {"_id": 1}}]}, "is_negative": false}
{"schema": {"collection": "customers", "domain": "ecommerce", "fields": [{"name": "customer_id", "type": "string", "role": "identifier", "description": "Unique customer ID"}, {"name": "email", "type": "string", "role": "text", "description": "Email address"}, {"name": "customer_value", "type": "double", "role": "measure", "description": "Total spend to date"}, {"name": "signup_date", "type": "date", "role": "timestamp", "description": "Account creation date"}, {"name": "tier", "type": "string", "role": "enum", "description": "Loyalty tier", "enum_values": ["bronze", "silver", "gold", "platinum"]}, {"name": "zone", "type": "string", "role": "category", "description": "Geographic region"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "List customers that have zone set to sample_zone", "output": {"type": "find", "filter": {"zone": "sample_region"}}, "is_negative": false}
{"schema": {"collection": "performance_reviews", "domain": "hr", "fields": [{"name": "review_id", "type": "string", "role": "identifier", "description": "Review ID"}, {"name": "employee_id", "type": "string", "role": "identifier", "description": "Employee reference"}, {"name": "evaluation", "type": "double", "role": "measure", "description": "Performance score (1-5)"}, {"name": "review_date", "type": "date", "role": "timestamp", "description": "Review date"}, {"name": "reviewer", "type": "string", "role": "text", "description": "Reviewer name"}, {"name": "group", "type": "string", "role": "category", "description": "Review category"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Find performance_reviews with group equal to sample_group", "output": {"type": "find", "filter": {"group": "sample_category"}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "status", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Show value between 2024-01-01T00:00:00Z and 2024-06-30T23:59:59Z", "output": {"type": "find", "filter": {"collected_at": {"$gte": {"$date": "2024-01-01T00:00:00Z"}, "$lte": {"$date": "2024-06-30T23:59:59Z"}}}, "projection": {"value": 1, "collected_at": 1}}, "is_negative": false}
{"schema": {"collection": "lab_results", "domain": "healthcare", "fields": [{"name": "result_id", "type": "string", "role": "identifier", "description": "Result identifier"}, {"name": "patient_id", "type": "string", "role": "identifier", "description": "Patient reference"}, {"name": "value", "type": "double", "role": "measure", "description": "Test result value"}, {"name": "collected_at", "type": "date", "role": "timestamp", "description": "Sample collection date"}, {"name": "test_type", "type": "string", "role": "category", "description": "Type of lab test"}, {"name": "condition", "type": "string", "role": "enum", "description": "Result status", "enum_values": ["pending", "completed", "reviewed"]}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$max", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$and", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Group lab_results by condition and test_type, show minimum value", "output": {"type": "aggregate", "pipeline": [{"$group": {"_id": {"condition": "$condition", "test_type": "$test_type"}, "minimum": {"$min": "$value"}}}]}, "is_negative": false}
{"schema": {"collection": "orders", "domain": "ecommerce", "fields": [{"name": "order_id", "type": "string", "role": "identifier", "description": "Unique order identifier"}, {"name": "customer_id", "type": "string", "role": "identifier", "description": "Customer reference"}, {"name": "total_amount", "type": "double", "role": "measure", "description": "Order total in USD"}, {"name": "order_date", "type": "date", "role": "timestamp", "description": "Date the order was placed"}, {"name": "status", "type": "string", "role": "enum", "description": "Order status", "enum_values": ["pending", "shipped", "delivered", "cancelled"]}, {"name": "channel", "type": "string", "role": "category", "description": "Sales channel"}]}, "allowed_ops": {"stage_operators": ["$match", "$group", "$sort", "$limit", "$skip", "$project", "$unwind", "$lookup", "$addFields", "$count", "$bucket", "$bucketAuto", "$facet", "$replaceRoot", "$sortByCount", "$sample", "$set", "$unset"], "expression_operators": ["$sum", "$avg", "$min", "$first", "$last", "$push", "$addToSet", "$eq", "$ne", "$gt", "$gte", "$lt", "$lte", "$in", "$nin", "$or", "$not", "$nor", "$exists", "$type", "$regex", "$year", "$month", "$dayOfMonth", "$dayOfWeek", "$add", "$subtract", "$multiply", "$divide", "$concat", "$substr", "$toLower", "$toUpper", "$cond", "$ifNull", "$switch", "$size", "$slice", "$filter", "$map", "$dateToString", "$toDate"]}, "intent": "Which orders have a channel?", "output": {"type": "find", "filter": {"channel": {"$exists": true, "$ne": null}}}, "is_negative": false}
